(self.webpackChunk=self.webpackChunk||[]).push([[4539],{11991:(e,t,n)=>{"use strict";n.d(t,{Se:()=>u,T$:()=>s});var r,i=n(55823),o=n(79548),a=n(81645),s=function(){function e(){this._propertySet=new Set,this._properties={}}return e.prototype.getUserProperties=function(){return(0,i.Cl)({},this._properties)},e.prototype.set=function(e,t){return this._safeSet(r.SET,e,t),this},e.prototype.setOnce=function(e,t){return this._safeSet(r.SET_ONCE,e,t),this},e.prototype.append=function(e,t){return this._safeSet(r.APPEND,e,t),this},e.prototype.prepend=function(e,t){return this._safeSet(r.PREPEND,e,t),this},e.prototype.postInsert=function(e,t){return this._safeSet(r.POSTINSERT,e,t),this},e.prototype.preInsert=function(e,t){return this._safeSet(r.PREINSERT,e,t),this},e.prototype.remove=function(e,t){return this._safeSet(r.REMOVE,e,t),this},e.prototype.add=function(e,t){return this._safeSet(r.ADD,e,t),this},e.prototype.unset=function(e){return this._safeSet(r.UNSET,e,o.mG),this},e.prototype.clearAll=function(){return this._properties={},this._properties[r.CLEAR_ALL]=o.mG,this},e.prototype._safeSet=function(e,t,n){if(this._validate(e,t,n)){var r=this._properties[e];return void 0===r&&(r={},this._properties[e]=r),r[t]=n,this._propertySet.add(t),!0}return!1},e.prototype._validate=function(e,t,n){return!(void 0!==this._properties[r.CLEAR_ALL]||this._propertySet.has(t))&&(e===r.ADD?"number"==typeof n:e===r.UNSET||e===r.REMOVE||(0,a.E)(t,n))},e}();!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(r||(r={}));var u=[r.CLEAR_ALL,r.UNSET,r.SET,r.SET_ONCE,r.ADD,r.APPEND,r.PREPEND,r.PREINSERT,r.POSTINSERT,r.REMOVE]},15533:(e,t,n)=>{"use strict";n.d(t,{Q:()=>nI});var r,i,o,a,s,u,c,l,d,f,p=n(55823);!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Verbose=3]="Verbose",e[e.Debug=4]="Debug"}(r||(r={}));var v=function(e){return function(){var t=(0,p.Cl)({},e.config);return{logger:t.loggerProvider,logLevel:t.logLevel}}},h=function(e,t){var n,r;t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var i=(0,p.Ju)(t.split(".")),o=i.next();!o.done;o=i.next()){var a=o.value;if(!(a in e))return;e=e[a]}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},g=function(e,t){return function(){var n,r,i={};try{for(var o=(0,p.Ju)(t),a=o.next();!a.done;a=o.next()){var s=a.value;i[s]=h(e,s)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}},m=function(e,t,n,i,o){return void 0===o&&(o=null),function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var u=n(),c=u.logger,l=u.logLevel;if(l&&l<r.Debug||!l||!c)return e.apply(o,a);var d={type:"invoke public method",name:t,args:a,stacktrace:(Error().stack||"").split(`
`).slice(3).map(function(e){return e.trim()}),time:{start:new Date().toISOString()},states:{}};i&&d.states&&(d.states.before=i());var f=e.apply(o,a);return f&&f.promise?f.promise.then(function(){i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))}):(i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),c.debug(JSON.stringify(d,null,2))),f}},y=function(e){return{promise:e||Promise.resolve()}},b=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0},w=function(){var e,t=b();return(null==(e=null==t?void 0:t.location)?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var n=t.split("=",2),r=S(n[0]),i=S(n[1]);return i&&(e[r]=i),e},{}):{}},S=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},_=function(){function e(){}return e.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:E(),platform:"Web",os:void 0,deviceModel:void 0}},e}(),E=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},k=function(){function e(){this.queue=[]}return e.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},e.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(t){e(t)}),this.queue=[])},e}(),C=function(){return(C=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function T(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function I(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}"function"==typeof SuppressedError&&SuppressedError;var N=function(e,t){var n,r,i=typeof e;if(i!==typeof t)return!1;try{for(var o=T(["string","number","boolean","undefined"]),a=o.next();!a.done;a=o.next())if(a.value===i)return e===t}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;var s=Array.isArray(e),u=Array.isArray(t);if(s!==u)return!1;if(s&&u){for(var c=0;c<e.length;c++)if(!N(e[c],t[c]))return!1}else{if(!N(Object.keys(e).sort(),Object.keys(t).sort()))return!1;var l=!0;return Object.keys(e).forEach(function(n){N(e[n],t[n])||(l=!1)}),l}return!0};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,r=Array(n);n--;)r[n]=[t[n],e[t[n]]];return r});var x=function(){function e(){this.identity={userProperties:{}},this.listeners=new Set}return e.prototype.editIdentity=function(){var e=this,t=C({},this.identity.userProperties),n=C(C({},this.identity),{userProperties:t});return{setUserId:function(e){return n.userId=e,this},setDeviceId:function(e){return n.deviceId=e,this},setUserProperties:function(e){return n.userProperties=e,this},setOptOut:function(e){return n.optOut=e,this},updateUserProperties:function(e){var t,r,i,o,a,s,u=n.userProperties||{};try{for(var c=T(Object.entries(e)),l=c.next();!l.done;l=c.next()){var d=I(l.value,2),f=d[0],p=d[1];switch(f){case"$set":try{for(var v=(i=void 0,T(Object.entries(p))),h=v.next();!h.done;h=v.next()){var g=I(h.value,2),m=g[0],y=g[1];u[m]=y}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=v.return)&&o.call(v)}finally{if(i)throw i.error}}break;case"$unset":try{for(var b=(a=void 0,T(Object.keys(p))),w=b.next();!w.done;w=b.next()){var m=w.value;delete u[m]}}catch(e){a={error:e}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}break;case"$clearAll":u={}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return n.userProperties=u,this},commit:function(){return e.setIdentity(n),this}}},e.prototype.getIdentity=function(){return C({},this.identity)},e.prototype.setIdentity=function(e){var t=C({},this.identity);this.identity=C({},e),N(t,this.identity)||this.listeners.forEach(function(t){t(e)})},e.prototype.addIdentityListener=function(e){this.listeners.add(e)},e.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},e}(),A="undefined"!=typeof globalThis?globalThis:void 0!==n.g?n.g:self,O=function(){function e(){this.identityStore=new x,this.eventBridge=new k,this.applicationContextProvider=new _}return e.getInstance=function(t){return A.analyticsConnectorInstances||(A.analyticsConnectorInstances={}),A.analyticsConnectorInstances[t]||(A.analyticsConnectorInstances[t]=new e),A.analyticsConnectorInstances[t]},e}(),R=function(e){return void 0===e&&(e="$default_instance"),O.getInstance(e)},P=function(e,t){R(t).identityStore.editIdentity().setUserId(e).commit()},D=function(e,t){R(t).identityStore.editIdentity().setDeviceId(e).commit()};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(i||(i={}));var M=n(79548),L=function(e,t){var n=Math.max(t,1);return e.reduce(function(e,t,r){var i=Math.floor(r/n);return e[i]||(e[i]=[]),e[i].push(t),e},[])},U=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=i.Unknown),{event:e,code:t,message:n}},j="Amplitude Logger ",V=function(){function e(){this.logLevel=r.None}return e.prototype.disable=function(){this.logLevel=r.None},e.prototype.enable=function(e){void 0===e&&(e=r.Warn),this.logLevel=e},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Verbose||console.log("".concat(j,"[Log]: ").concat(e.join(" ")))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Warn||console.warn("".concat(j,"[Warn]: ").concat(e.join(" ")))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Error||console.error("".concat(j,"[Error]: ").concat(e.join(" ")))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logLevel<r.Debug||console.log("".concat(j,"[Debug]: ").concat(e.join(" ")))},e}(),H=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:r.Warn,loggerProvider:new V,offline:!1,optOut:!1,serverUrl:M.mJ,serverZone:"US",useBatch:!1}},q=function(){function e(e){this._optOut=!1;var t,n,r,i,o=H();this.apiKey=e.apiKey,this.flushIntervalMillis=null!=(t=e.flushIntervalMillis)?t:o.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||o.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||o.flushQueueSize,this.instanceName=e.instanceName||o.instanceName,this.loggerProvider=e.loggerProvider||o.loggerProvider,this.logLevel=null!=(n=e.logLevel)?n:o.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=void 0!==e.offline?e.offline:o.offline,this.optOut=null!=(r=e.optOut)?r:o.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||o.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=null!=(i=e.useBatch)?i:o.useBatch,this.loggerProvider.enable(this.logLevel);var a=B(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),e}(),B=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=H().serverZone),void 0===n&&(n=H().useBatch),e)return{serverUrl:e,serverZone:void 0};var r,i=["US","EU"].includes(t)?t:H().serverZone;return{serverZone:i,serverUrl:(r=n,"EU"===i?r?M.OP:M.bu:r?M.pL:M.mJ)}},F=function(){function e(){this.sdk={metrics:{histogram:{}}}}return e.prototype.recordHistogram=function(e,t){this.sdk.metrics.histogram[e]=t},e}(),z=(0,p.fX)([],(0,p.zs)(Array(256).keys()),!1).map(function(e){return e.toString(16).padStart(2,"0")}),$=function(e){var t,n=b();if(!(null==(t=null==n?void 0:n.crypto)?void 0:t.getRandomValues))return e?(e^16*Math.random()>>e/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,$);var r=n.crypto.getRandomValues(new Uint8Array(16));return r[6]=15&r[6]|64,r[8]=63&r[8]|128,(0,p.fX)([],(0,p.zs)(r.entries()),!1).map(function(e){var t=(0,p.zs)(e,2),n=t[0],r=t[1];return[4,6,8,10].includes(n)?"-".concat(z[r]):z[r]}).join("")};function K(e){var t="";try{"body"in e&&(t=JSON.stringify(e.body,null,2))}catch(e){}return t}var G=function(){function e(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return e.prototype.setup=function(e){var t;return(0,p.sH)(this,void 0,void 0,function(){var n,r=this;return(0,p.YH)(this,function(i){switch(i.label){case 0:return this.config=e,this.storageKey="".concat(M.fS,"_").concat(this.config.apiKey.substring(0,10)),[4,null==(t=this.config.storageProvider)?void 0:t.get(this.storageKey)];case 1:return(n=i.sent())&&n.length>0&&Promise.all(n.map(function(e){return r.execute(e)})).catch(),[2,Promise.resolve(void 0)]}})})},e.prototype.execute=function(e){var t=this;return e.insert_id||(e.insert_id=$()),new Promise(function(n){t.queue.push({event:e,attempts:0,callback:function(e){return n(e)},timeout:0}),t.schedule(t.config.flushIntervalMillis),t.saveEvents()})},e.prototype.removeEventsExceedFlushMaxRetries=function(e){var t=this;return e.filter(function(e){return e.attempts+=1,e.attempts<t.config.flushMaxRetries||(t.fulfillRequest([e],500,"Event rejected due to exceeded retry count"),!1)})},e.prototype.scheduleEvents=function(e){var t=this;e.forEach(function(e){t.schedule(0===e.timeout?t.config.flushIntervalMillis:e.timeout)})},e.prototype.schedule=function(e){var t=this;if(!this.config.offline&&(null===this.scheduleId||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){t.queue=t.queue.map(function(e){return e.timeout=0,e}),t.flush(!0)},e);return}},e.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},e.prototype.flush=function(e){return void 0===e&&(e=!1),(0,p.sH)(this,void 0,void 0,function(){var t,n,r=this;return(0,p.YH)(this,function(i){switch(i.label){case 0:if(this.config.offline)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2];if(this.flushId)return this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2];return this.flushId=this.scheduleId,this.resetSchedule(),t=[],n=[],this.queue.forEach(function(e){return 0===e.timeout?t.push(e):n.push(e)}),[4,L(t,this.config.flushQueueSize).reduce(function(t,n){return(0,p.sH)(r,void 0,void 0,function(){return(0,p.YH)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return r.sent(),[4,this.send(n,e)];case 2:return[2,r.sent()]}})})},Promise.resolve())];case 1:return i.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},e.prototype.send=function(e,t){return void 0===t&&(t=!0),(0,p.sH)(this,void 0,void 0,function(){var n,r,o,a;return(0,p.YH)(this,function(s){switch(s.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,"Event rejected due to missing API key")];n={api_key:this.config.apiKey,events:e.map(function(e){var t=e.event;return t.extra,(0,p.Tt)(t,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new F,s.label=1;case 1:return s.trys.push([1,3,,4]),r=B(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,n)];case 2:if(null===(o=s.sent()))return this.fulfillRequest(e,0,"Unexpected error occurred"),[2];if(!t)return"body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(K(o))):this.fulfillRequest(e,o.statusCode,o.status),[2];return this.handleResponse(o,e),[3,4];case 3:var u;return a=(u=s.sent())instanceof Error?u.message:String(u),this.config.loggerProvider.error(a),this.handleResponse({status:i.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},e.prototype.handleResponse=function(e,t){var n=e.status;switch(n){case i.Success:this.handleSuccessResponse(e,t);break;case i.Invalid:this.handleInvalidResponse(e,t);break;case i.PayloadTooLarge:this.handlePayloadTooLargeResponse(e,t);break;case i.RateLimit:this.handleRateLimitResponse(e,t);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(n,"' provided for ").concat(t.length,' events"}')),this.handleOtherResponse(t)}},e.prototype.handleSuccessResponse=function(e,t){this.fulfillRequest(t,e.statusCode,"Event tracked successfully")},e.prototype.handleInvalidResponse=function(e,t){var n=this;if(e.body.missingField||e.body.error.startsWith("Invalid API key"))return void this.fulfillRequest(t,e.statusCode,e.body.error);var r=new Set((0,p.fX)((0,p.fX)((0,p.fX)((0,p.fX)([],(0,p.zs)(Object.values(e.body.eventsWithInvalidFields)),!1),(0,p.zs)(Object.values(e.body.eventsWithMissingFields)),!1),(0,p.zs)(Object.values(e.body.eventsWithInvalidIdLengths)),!1),(0,p.zs)(e.body.silencedEvents),!1).flat()),i=t.filter(function(t,i){return!r.has(i)||void n.fulfillRequest([t],e.statusCode,e.body.error)});i.length>0&&this.config.loggerProvider.warn(K(e));var o=this.removeEventsExceedFlushMaxRetries(i);this.scheduleEvents(o)},e.prototype.handlePayloadTooLargeResponse=function(e,t){if(1===t.length)return void this.fulfillRequest(t,e.statusCode,e.body.error);this.config.loggerProvider.warn(K(e)),this.config.flushQueueSize/=2;var n=this.removeEventsExceedFlushMaxRetries(t);this.scheduleEvents(n)},e.prototype.handleRateLimitResponse=function(e,t){var n=this,r=Object.keys(e.body.exceededDailyQuotaUsers),i=Object.keys(e.body.exceededDailyQuotaDevices),o=e.body.throttledEvents,a=new Set(r),s=new Set(i),u=new Set(o),c=t.filter(function(t,r){return t.event.user_id&&a.has(t.event.user_id)||t.event.device_id&&s.has(t.event.device_id)?void n.fulfillRequest([t],e.statusCode,e.body.error):(u.has(r)&&(t.timeout=n.throttleTimeout),!0)});c.length>0&&this.config.loggerProvider.warn(K(e));var l=this.removeEventsExceedFlushMaxRetries(c);this.scheduleEvents(l)},e.prototype.handleOtherResponse=function(e){var t=this,n=e.map(function(e){return e.timeout=e.attempts*t.retryTimeout,e}),r=this.removeEventsExceedFlushMaxRetries(n);this.scheduleEvents(r)},e.prototype.fulfillRequest=function(e,t,n){this.removeEvents(e),e.forEach(function(e){return e.callback(U(e.event,t,n))})},e.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(e){return e.event});this.config.storageProvider.set(this.storageKey,e)}},e.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(t){return!e.some(function(e){return e.event.insert_id===t.event.insert_id})}),this.saveEvents()},e}(),Y=function(){function e(){this.name="identity",this.type="before",this.identityStore=R().identityStore}return e.prototype.execute=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t;return(0,p.YH)(this,function(n){return(t=e.user_properties)&&this.identityStore.editIdentity().updateUserProperties(t).commit(),[2,e]})})},e.prototype.setup=function(e){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(t){return e.instanceName&&(this.identityStore=R(e.instanceName).identityStore),[2]})})},e}(),W=n(11991),J=n(81645),X=function(){function e(){this.productId="",this.quantity=1,this.price=0}return e.prototype.setProductId=function(e){return this.productId=e,this},e.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},e.prototype.setPrice=function(e){return this.price=e,this},e.prototype.setRevenueType=function(e){return this.revenueType=e,this},e.prototype.setCurrency=function(e){return this.currency=e,this},e.prototype.setRevenue=function(e){return this.revenue=e,this},e.prototype.setReceipt=function(e){return this.receipt=e,this},e.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},e.prototype.setEventProperties=function(e){return(0,J.a)(e)&&(this.properties=e),this},e.prototype.getEventProperties=function(){var e=this.properties?(0,p.Cl)({},this.properties):{};return e[o.REVENUE_PRODUCT_ID]=this.productId,e[o.REVENUE_QUANTITY]=this.quantity,e[o.REVENUE_PRICE]=this.price,e[o.REVENUE_TYPE]=this.revenueType,e[o.REVENUE_CURRENCY]=this.currency,e[o.REVENUE]=this.revenue,e[o.RECEIPT]=this.receipt,e[o.RECEIPT_SIG]=this.receiptSig,e},e}();!function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue",e.RECEIPT="$receipt",e.RECEIPT_SIG="$receiptSig"}(o||(o={}));var Q=function(e,t){return void 0===t&&(t=Date.now()),Date.now()-t>e},Z=n(23822),ee=function(){function e(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return e.prototype.register=function(e,t){var n,r;return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(i){switch(i.label){case 0:if(this.plugins.some(function(t){return t.name===e.name}))return t.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2];return void 0===e.name&&(e.name=$(),t.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(e.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),e.type=null!=(n=e.type)?n:"enrichment",[4,null==(r=e.setup)?void 0:r.call(e,t,this.client)];case 1:return i.sent(),this.plugins.push(e),[2]}})})},e.prototype.deregister=function(e,t){var n;return(0,p.sH)(this,void 0,void 0,function(){var r,i;return(0,p.YH)(this,function(o){switch(o.label){case 0:if(-1===(r=this.plugins.findIndex(function(t){return t.name===e})))return t.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2];return i=this.plugins[r],this.plugins.splice(r,1),[4,null==(n=i.teardown)?void 0:n.call(i)];case 1:return o.sent(),[2]}})})},e.prototype.reset=function(e){this.applying=!1,this.plugins.map(function(e){var t;return null==(t=e.teardown)?void 0:t.call(e)}),this.plugins=[],this.client=e},e.prototype.push=function(e){var t=this;return new Promise(function(n){t.queue.push([e,n]),t.scheduleApply(0)})},e.prototype.scheduleApply=function(e){var t=this;this.applying||(this.applying=!0,setTimeout(function(){t.apply(t.queue.shift()).then(function(){t.applying=!1,t.queue.length>0&&t.scheduleApply(0)})},e))},e.prototype.apply=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,c,l,d,f,v,h;return(0,p.YH)(this,function(g){switch(g.label){case 0:if(!e)return[2];t=(0,p.zs)(e,1)[0],n=(0,p.zs)(e,2)[1],r=this.plugins.filter(function(e){return"before"===e.type}),g.label=1;case 1:g.trys.push([1,6,7,8]),o=(i=(0,p.Ju)(r)).next(),g.label=2;case 2:if(o.done)return[3,5];if(!(a=o.value).execute)return[3,4];return[4,a.execute((0,p.Cl)({},t))];case 3:if(null===(s=g.sent()))return n({event:t,code:0,message:""}),[2];t=s,g.label=4;case 4:return o=i.next(),[3,2];case 5:return[3,8];case 6:return d={error:g.sent()},[3,8];case 7:try{o&&!o.done&&(f=i.return)&&f.call(i)}finally{if(d)throw d.error}return[7];case 8:u=this.plugins.filter(function(e){return"enrichment"===e.type||void 0===e.type}),g.label=9;case 9:g.trys.push([9,14,15,16]),l=(c=(0,p.Ju)(u)).next(),g.label=10;case 10:if(l.done)return[3,13];if(!(a=l.value).execute)return[3,12];return[4,a.execute((0,p.Cl)({},t))];case 11:if(null===(s=g.sent()))return n({event:t,code:0,message:""}),[2];t=s,g.label=12;case 12:return l=c.next(),[3,10];case 13:return[3,16];case 14:return v={error:g.sent()},[3,16];case 15:try{l&&!l.done&&(h=c.return)&&h.call(c)}finally{if(v)throw v.error}return[7];case 16:return Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){var n=(0,p.Cl)({},t);return e.execute(n).catch(function(e){return U(n,0,String(e))})})).then(function(e){var r=(0,p.zs)(e,1)[0]||U(t,100,"Event not tracked, no destination plugins on the instance");n(r)}),[2]}})})},e.prototype.flush=function(){return(0,p.sH)(this,void 0,void 0,function(){var e,t=this;return(0,p.YH)(this,function(n){switch(n.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(e){return t.apply(e)}))];case 1:return n.sent(),[4,Promise.all(this.plugins.filter(function(e){return"destination"===e.type}).map(function(e){return e.flush&&e.flush()}))];case 2:return n.sent(),[2]}})})},e.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(t){var n;null==(n=t.onIdentityChanged)||n.call(t,e)})},e.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(t){var n;null==(n=t.onSessionIdChanged)||n.call(t,e)})},e.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(t){var n;null==(n=t.onOptOutChanged)||n.call(t,e)})},e}(),et=function(e,t){return(0,p.Cl)((0,p.Cl)({},t),{event_type:Z.S.IDENTIFY,user_properties:e.getUserProperties()})},en=function(e,t,n,r){var i;return(0,p.Cl)((0,p.Cl)({},r),{event_type:Z.S.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:((i={})[e]=t,i)})},er=function(e,t,n){var r,i=new W.T$;return i.set(e,t),(0,p.Cl)((0,p.Cl)({},n),{event_type:Z.S.IDENTIFY,user_properties:i.getUserProperties(),groups:((r={})[e]=t,r)})},ei=function(){function e(e){void 0===e&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new ee(this),this.name=e}return e.prototype._init=function(e){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(t){switch(t.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return t.sent(),this.isReady=!0,[2]}})})},e.prototype.runQueuedFunctions=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t,n,r,i,o,a;return(0,p.YH)(this,function(s){switch(s.label){case 0:t=this[e],this[e]=[],s.label=1;case 1:s.trys.push([1,8,9,10]),r=(n=(0,p.Ju)(t)).next(),s.label=2;case 2:if(r.done)return[3,7];if(!((i=(0,r.value)())&&"promise"in i))return[3,4];return[4,i.promise];case 3:return s.sent(),[3,6];case 4:return[4,i];case 5:s.sent(),s.label=6;case 6:return r=n.next(),[3,2];case 7:return[3,10];case 8:return o={error:s.sent()},[3,10];case 9:try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(o)throw o.error}return[7];case 10:if(!this[e].length)return[3,12];return[4,this.runQueuedFunctions(e)];case 11:s.sent(),s.label=12;case 12:return[2]}})})},e.prototype.track=function(e,t,n){var r=(0,p.Cl)((0,p.Cl)((0,p.Cl)({},"string"==typeof e?{event_type:e}:e),n),t&&{event_properties:t});return y(this.dispatch(r))},e.prototype.identify=function(e,t){var n=et(e,t);return y(this.dispatch(n))},e.prototype.groupIdentify=function(e,t,n,r){var i=en(e,t,n,r);return y(this.dispatch(i))},e.prototype.setGroup=function(e,t,n){var r=er(e,t,n);return y(this.dispatch(r))},e.prototype.revenue=function(e,t){var n=(0,p.Cl)((0,p.Cl)({},t),{event_type:Z.S.REVENUE,event_properties:e.getEventProperties()});return y(this.dispatch(n))},e.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),y())},e.prototype._addPlugin=function(e){return y(this.timeline.register(e,this.config))},e.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),y())},e.prototype._removePlugin=function(e){return y(this.timeline.deregister(e,this.config))},e.prototype.dispatchWithCallback=function(e,t){if(!this.isReady)return t(U(e,0,"Client not initialized"));this.process(e).then(t)},e.prototype.dispatch=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t=this;return(0,p.YH)(this,function(n){return this.isReady?[2,this.process(e)]:[2,new Promise(function(n){t.dispatchQ.push(t.dispatchWithCallback.bind(t,e,n))})]})})},e.prototype.getOperationAppliedUserProperties=function(e){var t={};if(void 0===e)return t;var n={};return Object.keys(e).forEach(function(t){Object.values(Z.e).includes(t)||(n[t]=e[t])}),W.Se.forEach(function(n){if(Object.keys(e).includes(n)){var r=e[n];switch(n){case Z.e.CLEAR_ALL:Object.keys(t).forEach(function(e){delete t[e]});break;case Z.e.UNSET:Object.keys(r).forEach(function(e){delete t[e]});break;case Z.e.SET:Object.assign(t,r)}}}),Object.assign(t,n),t},e.prototype.process=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t,n,r;return(0,p.YH)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,2,,3]),this.config.optOut)return[2,U(e,0,"Event skipped due to optOut config")];return e.event_type===Z.S.IDENTIFY&&(t=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:t})),[4,this.timeline.push(e)];case 1:return 200===(n=i.sent()).code?this.config.loggerProvider.log(n.message):100===n.code?this.config.loggerProvider.warn(n.message):this.config.loggerProvider.error(n.message),[2,n];case 2:return r=String(i.sent()),this.config.loggerProvider.error(r),[2,n=U(e,0,r)];case 3:return[2]}})})},e.prototype.setOptOut=function(e){if(!this.isReady)return void this.q.push(this._setOptOut.bind(this,!!e));this._setOptOut(e)},e.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},e.prototype.flush=function(){return y(this.timeline.flush())},e.prototype.plugin=function(e){var t=this.timeline.plugins.find(function(t){return t.name===e});return void 0===t?void this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e)):t},e.prototype.plugins=function(e){return this.timeline.plugins.filter(function(t){return t instanceof e})},e}(),eo=function(e,t){return"boolean"==typeof e?e:(null==e?void 0:e[t])!==!1},ea=function(e){return eo(e,"attribution")},es=function(e){return eo(e,"pageViews")},eu=function(e){return eo(e,"sessions")},ec=function(e){return"object"==typeof e&&(!0===e.networkTracking||"object"==typeof e.networkTracking)},el=function(e){return"boolean"==typeof e?e:"object"==typeof e&&(!0===e.elementInteractions||"object"==typeof e.elementInteractions)},ed=function(e){if(el(e.autocapture)&&"object"==typeof e.autocapture&&"object"==typeof e.autocapture.elementInteractions)return e.autocapture.elementInteractions},ef=function(e){if(ec(e.autocapture)){if("object"==typeof e.autocapture&&"object"==typeof e.autocapture.networkTracking)return e.autocapture.networkTracking;else if(e.networkTrackingOptions)return e.networkTrackingOptions}},ep=function(e){var t,n=function(){return!1},r=void 0,i=e.pageCounter;return es(e.defaultTracking)&&(n=void 0,t=void 0,e.defaultTracking&&"object"==typeof e.defaultTracking&&e.defaultTracking.pageViews&&"object"==typeof e.defaultTracking.pageViews&&("trackOn"in e.defaultTracking.pageViews&&(n=e.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in e.defaultTracking.pageViews&&(r=e.defaultTracking.pageViews.trackHistoryChanges),"eventType"in e.defaultTracking.pageViews&&e.defaultTracking.pageViews.eventType&&(t=e.defaultTracking.pageViews.eventType))),{trackOn:n,trackHistoryChanges:r,eventType:t,pageCounter:i}},ev=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.name,o=r.args,a=r.resolve,s=e&&e[i];if("function"==typeof s){var u=s.apply(e,o);"function"==typeof a&&a(null==u?void 0:u.promise)}}return e},eh=function(e){return e&&void 0!==e._q},eg=function(){if("undefined"==typeof navigator)return"";var e,t,n,r,i=navigator.userLanguage;return null!=(r=null!=(n=null!=(t=null==(e=navigator.languages)?void 0:e[0])?t:navigator.language)?n:i)?r:""},em="2.17.8",ey=function(){function e(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat("amplitude-ts","/").concat(em),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return e.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},e.prototype.execute=function(e){var t,n;return(0,p.sH)(this,void 0,void 0,function(){var r,i,o;return(0,p.YH)(this,function(a){return r=new Date().getTime(),i=null!=(t=this.config.lastEventId)?t:-1,o=null!=(n=e.event_id)?n:i+1,this.config.lastEventId=o,e.time||(this.config.lastEventTime=r),[2,(0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:eg()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:$(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:o,library:this.library,user_agent:this.userAgent})]})})},e}(),eb=function(){function e(){this.memoryStorage=new Map}return e.prototype.isEnabled=function(){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(e){return[2,!0]})})},e.prototype.get=function(e){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(t){return[2,this.memoryStorage.get(e)]})})},e.prototype.getRaw=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t;return(0,p.YH)(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:return[2,(t=n.sent())?JSON.stringify(t):void 0]}})})},e.prototype.set=function(e,t){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(n){return this.memoryStorage.set(e,t),[2]})})},e.prototype.remove=function(e){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(t){return this.memoryStorage.delete(e),[2]})})},e.prototype.reset=function(){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(e){return this.memoryStorage.clear(),[2]})})},e}(),ew=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n=10),[M.r,t,e.substring(0,n)].filter(Boolean).join("_")},eS=function(){function e(e){this.options=(0,p.Cl)({},e)}return e.prototype.isEnabled=function(){return(0,p.sH)(this,void 0,void 0,function(){var t,n;return(0,p.YH)(this,function(r){switch(r.label){case 0:if(!b())return[2,!1];e.testValue=String(Date.now()),t=new e(this.options),n="AMP_TEST",r.label=1;case 1:return r.trys.push([1,4,5,7]),[4,t.set(n,e.testValue)];case 2:return r.sent(),[4,t.get(n)];case 3:return[2,r.sent()===e.testValue];case 4:return r.sent(),[2,!1];case 5:return[4,t.remove(n)];case 6:return r.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){var t;return(0,p.sH)(this,void 0,void 0,function(){var n,r;return(0,p.YH)(this,function(i){switch(i.label){case 0:return[4,this.getRaw(e)];case 1:if(!(n=i.sent()))return[2,void 0];try{if(r=null!=(t=e_(n))?t:eE(n),void 0===r)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0];return[2,JSON.parse(r)]}catch(t){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(n)),[2,void 0]}}})})},e.prototype.getRaw=function(e){var t,n;return(0,p.sH)(this,void 0,void 0,function(){var r,i;return(0,p.YH)(this,function(o){return(i=(null!=(n=null==(t=null==(r=b())?void 0:r.document)?void 0:t.cookie.split("; "))?n:[]).find(function(t){return 0===t.indexOf(e+"=")}))?[2,i.substring(e.length+1)]:[2,void 0]})})},e.prototype.set=function(e,t){var n;return(0,p.sH)(this,void 0,void 0,function(){var r,i,o,a,s,u,c;return(0,p.YH)(this,function(l){try{r=null!=(n=this.options.expirationDays)?n:0,i=null!==t?r:-1,o=void 0,i&&((a=new Date).setTime(a.getTime()+24*i*36e5),o=a),s="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(t)))),o&&(s+="; expires=".concat(o.toUTCString())),s+="; path=/",this.options.domain&&(s+="; domain=".concat(this.options.domain)),this.options.secure&&(s+="; Secure"),this.options.sameSite&&(s+="; SameSite=".concat(this.options.sameSite)),(u=b())&&(u.document.cookie=s)}catch(t){c=t instanceof Error?t.message:String(t),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(c))}return[2]})})},e.prototype.remove=function(e){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(t){switch(t.label){case 0:return[4,this.set(e,null)];case 1:return t.sent(),[2]}})})},e.prototype.reset=function(){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(e){return[2]})})},e}(),e_=function(e){try{return decodeURIComponent(atob(e))}catch(e){return}},eE=function(e){try{return decodeURIComponent(atob(decodeURIComponent(e)))}catch(e){return}},ek=function(){function e(){}return e.prototype.send=function(e,t){return Promise.resolve(null)},e.prototype.buildResponse=function(e){if("object"!=typeof e)return null;var t,n,r,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,w,S,_,E,k=e.code||0,C=this.buildStatus(k);switch(C){case i.Success:return{status:C,statusCode:k,body:{eventsIngested:null!=(t=e.events_ingested)?t:0,payloadSizeBytes:null!=(n=e.payload_size_bytes)?n:0,serverUploadTime:null!=(r=e.server_upload_time)?r:0}};case i.Invalid:return{status:C,statusCode:k,body:{error:null!=(o=e.error)?o:"",missingField:null!=(a=e.missing_field)?a:"",eventsWithInvalidFields:null!=(s=e.events_with_invalid_fields)?s:{},eventsWithMissingFields:null!=(u=e.events_with_missing_fields)?u:{},eventsWithInvalidIdLengths:null!=(c=e.events_with_invalid_id_lengths)?c:{},epsThreshold:null!=(l=e.eps_threshold)?l:0,exceededDailyQuotaDevices:null!=(d=e.exceeded_daily_quota_devices)?d:{},silencedDevices:null!=(f=e.silenced_devices)?f:[],silencedEvents:null!=(p=e.silenced_events)?p:[],throttledDevices:null!=(v=e.throttled_devices)?v:{},throttledEvents:null!=(h=e.throttled_events)?h:[]}};case i.PayloadTooLarge:return{status:C,statusCode:k,body:{error:null!=(g=e.error)?g:""}};case i.RateLimit:return{status:C,statusCode:k,body:{error:null!=(m=e.error)?m:"",epsThreshold:null!=(y=e.eps_threshold)?y:0,throttledDevices:null!=(b=e.throttled_devices)?b:{},throttledUsers:null!=(w=e.throttled_users)?w:{},exceededDailyQuotaDevices:null!=(S=e.exceeded_daily_quota_devices)?S:{},exceededDailyQuotaUsers:null!=(_=e.exceeded_daily_quota_users)?_:{},throttledEvents:null!=(E=e.throttled_events)?E:[]}};case i.Timeout:default:return{status:C,statusCode:k}}},e.prototype.buildStatus=function(e){return e>=200&&e<300?i.Success:429===e?i.RateLimit:413===e?i.PayloadTooLarge:408===e?i.Timeout:e>=400&&e<500?i.Invalid:e>=500?i.Failed:i.Unknown},e}(),eC=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,p.C6)(t,e),t.prototype.send=function(e,t){return(0,p.sH)(this,void 0,void 0,function(){var n,r;return(0,p.YH)(this,function(i){switch(i.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return[4,fetch(e,{headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(t),method:"POST"})];case 1:return[4,(n=i.sent()).text()];case 2:r=i.sent();try{return[2,this.buildResponse(JSON.parse(r))]}catch(e){return[2,this.buildResponse({code:n.status})]}}})})},t}(ek),eT=function(){function e(e){this.storage=e}return e.prototype.isEnabled=function(){return(0,p.sH)(this,void 0,void 0,function(){var t,n,r;return(0,p.YH)(this,function(i){switch(i.label){case 0:if(!this.storage)return[2,!1];t=String(Date.now()),n=new e(this.storage),r="AMP_TEST",i.label=1;case 1:return i.trys.push([1,4,5,7]),[4,n.set(r,t)];case 2:return i.sent(),[4,n.get(r)];case 3:return[2,i.sent()===t];case 4:return i.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return i.sent(),[7];case 7:return[2]}})})},e.prototype.get=function(e){return(0,p.sH)(this,void 0,void 0,function(){var t;return(0,p.YH)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:if(!(t=n.sent()))return[2,void 0];return[2,JSON.parse(t)];case 2:return n.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},e.prototype.getRaw=function(e){var t;return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(n){return[2,(null==(t=this.storage)?void 0:t.getItem(e))||void 0]})})},e.prototype.set=function(e,t){var n;return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(r){try{null==(n=this.storage)||n.setItem(e,JSON.stringify(t))}catch(e){}return[2]})})},e.prototype.remove=function(e){var t;return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(n){try{null==(t=this.storage)||t.removeItem(e)}catch(e){}return[2]})})},e.prototype.reset=function(){var e;return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(t){try{null==(e=this.storage)||e.clear()}catch(e){}return[2]})})},e}(),eI=function(e){function t(t){var n,r,i,o=this;try{i=null==(n=b())?void 0:n.localStorage}catch(e){null==(r=null==t?void 0:t.loggerProvider)||r.debug("Failed to access localStorage. error=".concat(JSON.stringify(e))),i=void 0}return(o=e.call(this,i)||this).loggerProvider=null==t?void 0:t.loggerProvider,o}return(0,p.C6)(t,e),t.prototype.set=function(t,n){var r;return(0,p.sH)(this,void 0,void 0,function(){var i;return(0,p.YH)(this,function(o){switch(o.label){case 0:if(!(Array.isArray(n)&&n.length>1e3))return[3,2];return i=n.length-1e3,[4,e.prototype.set.call(this,t,n.slice(0,1e3))];case 1:return o.sent(),null==(r=this.loggerProvider)||r.error("Failed to save ".concat(i," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,e.prototype.set.call(this,t,n)];case 3:o.sent(),o.label=4;case 4:return[2]}})})},t}(eT),eN=function(e){function t(){var t;return e.call(this,null==(t=b())?void 0:t.sessionStorage)||this}return(0,p.C6)(t,e),t}(eT),ex=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={done:4},t}return(0,p.C6)(t,e),t.prototype.send=function(e,t){return(0,p.sH)(this,void 0,void 0,function(){var n=this;return(0,p.YH)(this,function(r){return[2,new Promise(function(r,i){"undefined"==typeof XMLHttpRequest&&i(Error("XHRTransport is not supported."));var o=new XMLHttpRequest;o.open("POST",e,!0),o.onreadystatechange=function(){if(o.readyState===n.state.done){var e=o.responseText;try{r(n.buildResponse(JSON.parse(e)))}catch(e){r(n.buildResponse({code:o.status}))}}},o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","*/*"),o.send(JSON.stringify(t))})]})})},t}(ek),eA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,p.C6)(t,e),t.prototype.send=function(e,t){return(0,p.sH)(this,void 0,void 0,function(){var n=this;return(0,p.YH)(this,function(r){return[2,new Promise(function(r,i){var o=b();if(!(null==o?void 0:o.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(t);if(o.navigator.sendBeacon(e,JSON.stringify(t)))return r(n.buildResponse({code:200,events_ingested:t.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}));return r(n.buildResponse({code:500}))}catch(e){i(e)}})]})})},t}(ek),eO=function(e){var t=parseInt(e,32);if(!isNaN(t))return t},eR=function(e){if(atob&&escape&&e)try{return decodeURIComponent(escape(atob(e)))}catch(e){return}},eP="[Amplitude]",eD="".concat(eP," Form Started"),eM="".concat(eP," Form Submitted"),eL="".concat(eP," File Downloaded"),eU="session_start",ej="session_end",eV="".concat(eP," File Extension"),eH="".concat(eP," File Name"),eq="".concat(eP," Link ID"),eB="".concat(eP," Link Text"),eF="".concat(eP," Link URL"),ez="".concat(eP," Form ID"),e$="".concat(eP," Form Name"),eK="".concat(eP," Form Destination"),eG="cookie",eY=function(e){function t(t,n,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,w,S,_,E,k,C,T,I,N,x,A,O,R,P,D,M,L){void 0===i&&(i=new eb),void 0===o&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===c&&(c=1e3),void 0===l&&(l=5),void 0===d&&(d=30),void 0===f&&(f=eG),void 0===m&&(m=new V),void 0===y&&(y=r.Warn),void 0===w&&(w=!1),void 0===S&&(S=!1),void 0===k&&(k=""),void 0===C&&(C="US"),void 0===I&&(I=18e5),void 0===N&&(N=new eI({loggerProvider:m})),void 0===x&&(x={ipAddress:!0,language:!0,platform:!0}),void 0===A&&(A="fetch"),void 0===O&&(O=!1),void 0===R&&(R=!0);var U=e.call(this,{apiKey:t,storageProvider:N,transportProvider:eJ(A)})||this;return U.apiKey=t,U.appVersion=n,U.cookieOptions=o,U.defaultTracking=a,U.autocapture=s,U.flushIntervalMillis=c,U.flushMaxRetries=l,U.flushQueueSize=d,U.identityStorage=f,U.ingestionMetadata=p,U.instanceName=v,U.loggerProvider=m,U.logLevel=y,U.minIdLength=b,U.offline=w,U.partnerId=_,U.plan=E,U.serverUrl=k,U.serverZone=C,U.sessionTimeout=I,U.storageProvider=N,U.trackingOptions=x,U.transport=A,U.useBatch=O,U.fetchRemoteConfig=R,U.networkTrackingOptions=L,U.version=em,U._optOut=!1,U._cookieStorage=i,U.deviceId=u,U.lastEventId=h,U.lastEventTime=g,U.optOut=S,U.sessionId=T,U.pageCounter=D,U.userId=P,U.debugLogsEnabled=M,U.loggerProvider.enable(M?r.Debug:U.logLevel),U.networkTrackingOptions=L,U}return(0,p.C6)(t,e),Object.defineProperty(t.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(e){this._cookieStorage!==e&&(this._cookieStorage=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){return this._deviceId},set:function(e){this._deviceId!==e&&(this._deviceId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return this._userId},set:function(e){this._userId!==e&&(this._userId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sessionId",{get:function(){return this._sessionId},set:function(e){this._sessionId!==e&&(this._sessionId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut!==e&&(this._optOut=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(e){this._lastEventTime!==e&&(this._lastEventTime=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(e){this._lastEventId!==e&&(this._lastEventId=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(e){this._pageCounter!==e&&(this._pageCounter=e,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debugLogsEnabled",{set:function(e){this._debugLogsEnabled!==e&&(this._debugLogsEnabled=e,this.updateStorage())},enumerable:!1,configurable:!0}),t.prototype.updateStorage=function(){var e={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(ew(this.apiKey),e)},t}(q),eW=function(e,t){switch(void 0===e&&(e=eG),void 0===t&&(t={}),e){case"localStorage":return new eI;case"sessionStorage":return new eN;case"none":return new eb;default:return new eS((0,p.Cl)((0,p.Cl)({},t),{expirationDays:t.expiration}))}},eJ=function(e){return"xhr"===e?new ex:"beacon"===e?new eA:new eC},eX=function(){var e="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[e]?globalThis[e]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==n.g?n.g:void 0},eQ=function(){var e,t=eX();return(null==(e=null==t?void 0:t.location)?void 0:e.search)?t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e,t){var n=t.split("=",2),r=eZ(n[0]),i=eZ(n[1]);return i&&(e[r]=i),e},{}):{}},eZ=function(e){void 0===e&&(e="");try{return decodeURIComponent(e)}catch(e){return""}},e0="dclid",e1="fbclid",e2="gbraid",e3="gclid",e4="ko_click_id",e6="li_fat_id",e5="msclkid",e8="rtd_cid",e9="ttclid",e7="twclid",te="wbraid",tt={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},tn=function(){function e(){}return e.prototype.parse=function(){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(e){return[2,(0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)({},tt),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=eQ();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!=(t=null==(e=n.referrer)?void 0:e.split("/")[2])?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=eQ();return(e={})[e0]=t[e0],e[e1]=t[e1],e[e2]=t[e2],e[e3]=t[e3],e[e4]=t[e4],e[e6]=t[e6],e[e5]=t[e5],e[e8]=t[e8],e[e9]=t[e9],e[e7]=t[e7],e[te]=t[te],e},e}();!function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(a||(a={})),function(e){e.REVENUE_PRODUCT_ID="$productId",e.REVENUE_QUANTITY="$quantity",e.REVENUE_PRICE="$price",e.REVENUE_TYPE="$revenueType",e.REVENUE_CURRENCY="$currency",e.REVENUE="$revenue"}(s||(s={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(u||(u={}));var tr=function(e){var t={};for(var n in e){var r=e[n];r&&(t[n]=r)}return t},ti=function(e){void 0===e&&(e={});var t,n,r=eX(),i=void 0,o=!1,a=e.trackOn,s=e.trackHistoryChanges,u=e.eventType,c=void 0===u?"[Amplitude] Page Viewed":u,l=function(e){var t=e;try{t=decodeURI(e)}catch(e){null==i||i.error("Malformed URI sequence: ",e)}return t},d=function(){return(0,p.sH)(void 0,void 0,void 0,function(){var e,t,n;return(0,p.YH)(this,function(r){switch(r.label){case 0:return e=l("undefined"!=typeof location&&location.href||""),n={event_type:c},t=[{}],[4,to()];case 1:return[2,(n.event_properties=p.Cl.apply(void 0,[p.Cl.apply(void 0,t.concat([r.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":e,"[Amplitude] Page Path":"undefined"!=typeof location&&l(location.pathname)||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":e.split("?")[0]}]),n)]}})})},f=function(){return void 0===a||"function"==typeof a&&a()},v="undefined"!=typeof location?location.href:null,h=function(){return(0,p.sH)(void 0,void 0,void 0,function(){var e,n,r,o;return(0,p.YH)(this,function(a){switch(a.label){case 0:if(n=ts(s,e=location.href,v||"")&&f(),v=e,!n)return[3,4];if(null==i||i.log("Tracking page view event"),null!=t)return[3,1];return[3,3];case 1:return o=(r=t).track,[4,d()];case 2:o.apply(r,[a.sent()]),a.label=3;case 3:a.label=4;case 4:return[2]}})})},g=function(){h()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(e,a){return(0,p.sH)(void 0,void 0,void 0,function(){var s,u;return(0,p.YH)(this,function(c){switch(c.label){case 0:if(t=a,n=e,(i=e.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),o=!0,r&&(r.addEventListener("popstate",g),r.history.pushState=new Proxy(r.history.pushState,{apply:function(e,t,n){var r=(0,p.zs)(n,3),i=r[0],a=r[1],s=r[2];e.apply(t,[i,a,s]),o&&h()}})),!f())return[3,2];return i.log("Tracking page view event"),u=(s=t).track,[4,d()];case 1:u.apply(s,[c.sent()]),c.label=2;case 2:return[2]}})})},execute:function(e){return(0,p.sH)(void 0,void 0,void 0,function(){var t;return(0,p.YH)(this,function(r){switch(r.label){case 0:if(!("attribution"===a&&ta(e)))return[3,2];return null==i||i.log("Enriching campaign event to page view event with campaign parameters"),[4,d()];case 1:e.event_type=(t=r.sent()).event_type,e.event_properties=(0,p.Cl)((0,p.Cl)({},e.event_properties),t.event_properties),r.label=2;case 2:return n&&e.event_type===c&&(n.pageCounter=n.pageCounter?n.pageCounter+1:1,e.event_properties=(0,p.Cl)((0,p.Cl)({},e.event_properties),{"[Amplitude] Page Counter":n.pageCounter})),[2,e]}})})},teardown:function(){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(e){return r&&(r.removeEventListener("popstate",g),o=!1),[2]})})}}},to=function(){return(0,p.sH)(void 0,void 0,void 0,function(){var e;return(0,p.YH)(this,function(t){switch(t.label){case 0:return e=tr,[4,new tn().parse()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})},ta=function(e){if("$identify"===e.event_type&&e.user_properties){var t=e.user_properties,n=t[a.SET]||{},r=t[a.UNSET]||{},i=(0,p.fX)((0,p.fX)([],(0,p.zs)(Object.keys(n)),!1),(0,p.zs)(Object.keys(r)),!1);return Object.keys(tt).every(function(e){return i.includes(e)})}return!1},ts=function(e,t,n){if("pathOnly"!==e)return t!==n;if(""==n)return!0;var r=new URL(t),i=new URL(n);return r.origin+r.pathname!==i.origin+i.pathname},tu=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})},r=function(){t.forEach(function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(t,r){return(0,p.sH)(void 0,void 0,void 0,function(){var i,o;return(0,p.YH)(this,function(a){return i=function(){if(!r)return void t.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");if("undefined"!=typeof document){var i=function(e){var t=!1;n(e,"change",function(){var n,i=tl(e);t||r.track(eD,((n={})[ez]=tc(e.id),n[e$]=tc(e.name),n[eK]=i,n)),t=!0}),n(e,"submit",function(){var n,i,o=tl(e);t||r.track(eD,((n={})[ez]=tc(e.id),n[e$]=tc(e.name),n[eK]=o,n)),r.track(eM,((i={})[ez]=tc(e.id),i[e$]=tc(e.name),i[eK]=o,i)),t=!1})};Array.from(document.getElementsByTagName("form")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"FORM"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("form")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}},"complete"===document.readyState?i():(o=b())?o.addEventListener("load",i):t.loggerProvider.debug("Form interaction tracking is not installed because global is undefined."),[2]})})},execute:function(e){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(t){return null==e||e.disconnect(),r(),[2]})})}}},tc=function(e){if("string"==typeof e)return e},tl=function(e){var t=e.getAttribute("action");try{t=new URL(encodeURI(null!=t?t:""),window.location.href).href}catch(e){}return t},td=function(){var e,t=[],n=function(e,n,r){e.addEventListener(n,r),t.push({element:e,type:n,handler:r})},r=function(){t.forEach(function(e){var t=e.element,n=e.type,r=e.handler;null==t||t.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(t,r){return(0,p.sH)(void 0,void 0,void 0,function(){var i,o;return(0,p.YH)(this,function(a){return i=function(){if(!r)return void t.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");if("undefined"!=typeof document){var i=function(e){try{t=new URL(e.href,window.location.href)}catch(e){return}var t,i=o.exec(t.href),a=null==i?void 0:i[1];a&&n(e,"click",function(){var n;a&&r.track(eL,((n={})[eV]=a,n[eH]=t.pathname,n[eq]=e.id,n[eB]=e.text,n[eF]=e.href,n))})},o=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/;Array.from(document.getElementsByTagName("a")).forEach(i),"undefined"!=typeof MutationObserver&&(e=new MutationObserver(function(e){e.forEach(function(e){e.addedNodes.forEach(function(e){"A"===e.nodeName&&i(e),"querySelectorAll"in e&&"function"==typeof e.querySelectorAll&&Array.from(e.querySelectorAll("a")).map(i)})})})).observe(document.body,{subtree:!0,childList:!0})}},"complete"===document.readyState?i():(o=b())?o.addEventListener("load",i):t.loggerProvider.debug("File download tracking is not installed because global is undefined."),[2]})})},execute:function(e){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(t){return null==e||e.disconnect(),r(),[2]})})}}},tf=!1,tp=function(e){if(!tf&&void 0===e.defaultTracking){var t=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;e.loggerProvider.warn(t),tf=!0}},tv=function(){var e=b(),t=[],n=function(n,r){e&&(e.addEventListener(n,r),t.push({type:n,handler:r}))},r=function(){t.forEach(function(t){var n=t.type,r=t.handler;e&&e.removeEventListener(n,r)}),t=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(e,t){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(r){return"undefined"==typeof navigator?(e.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),e.offline=!1):(e.offline=!navigator.onLine,n("online",function(){e.loggerProvider.debug("Network connectivity changed to online."),e.offline=!1,setTimeout(function(){t.flush()},e.flushIntervalMillis)}),n("offline",function(){e.loggerProvider.debug("Network connectivity changed to offline."),e.offline=!0})),[2]})})},teardown:function(){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(e){return r(),[2]})})}}};!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.PayloadTooLarge="payload_too_large",e.Invalid="invalid",e.Failed="failed",e.Timeout="Timeout",e.SystemError="SystemError"}(c||(c={})),function(e){e.US="US",e.EU="EU"}(l||(l={}));var th="Remote config fetch rejected due to timeout after 5 seconds",tg=function(){function e(e){var t=e.localConfig,n=e.configKeys,r=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(e,t,n){return(0,p.sH)(r,void 0,void 0,function(){var r,i,o;return(0,p.YH)(this,function(a){switch(a.label){case 0:return r=Date.now(),[4,this.fetchWithTimeout(n)];case 1:if((i=a.sent())&&(o=i.configs&&i.configs[e]))return this.metrics.fetchTimeAPISuccess=Date.now()-r,[2,o[t]];return this.metrics.fetchTimeAPIFail=Date.now()-r,[2,void 0]}})})},this.fetchWithTimeout=function(e){return(0,p.sH)(r,void 0,void 0,function(){var t,n,r;return(0,p.YH)(this,function(i){switch(i.label){case 0:return t=new AbortController,n=setTimeout(function(){return t.abort()},5e3),[4,this.fetchRemoteConfig(t.signal,e)];case 1:return r=i.sent(),clearTimeout(n),[2,r]}})})},this.fetchRemoteConfig=function(e,t){return(0,p.sH)(r,void 0,void 0,function(){var n,r,i,o,a,s,u,l,d,f;return(0,p.YH)(this,function(v){switch(v.label){case 0:if(t===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:"Remote config fetch rejected due to exceeded retry count"})];if(e.aborted)return[2,this.completeRequest({err:th})];t!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=t,this.attempts=0);v.label=1;case 1:v.trys.push([1,3,,4]),n=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(i=(r=(0,p.Ju)(this.configKeys)).next();!i.done;i=r.next())o=i.value,n.append("config_keys",o)}catch(e){d={error:e}}finally{try{i&&!i.done&&(f=r.return)&&f.call(r)}finally{if(d)throw d.error}}return t&&n.set("session_id",String(t)),a={headers:{Accept:"*/*"},method:"GET"},s="".concat(this.getServerUrl(),"?").concat(n.toString()),this.attempts+=1,[4,fetch(s,(0,p.Cl)((0,p.Cl)({},a),{signal:e}))];case 2:if(null===(u=v.sent()))return[2,this.completeRequest({err:"Unexpected error occurred"})];switch(new ek().buildStatus(u.status)){case c.Success:return this.attempts=0,[2,this.parseAndStoreConfig(u)];case c.Failed:return[2,this.retryFetch(e,t)];default:return[2,this.completeRequest({err:"Network error occurred, remote config fetch failed"})]}case 3:if(l=v.sent(),e.aborted)return[2,this.completeRequest({err:th})];return[2,this.completeRequest({err:l.message})];case 4:return[2]}})})},this.retryFetch=function(e,t){return(0,p.sH)(r,void 0,void 0,function(){var n=this;return(0,p.YH)(this,function(r){switch(r.label){case 0:return[4,new Promise(function(e){return setTimeout(e,n.attempts*n.retryTimeout)})];case 1:return r.sent(),[2,this.fetchRemoteConfig(e,t)]}})})},this.parseAndStoreConfig=function(e){return(0,p.sH)(r,void 0,void 0,function(){var t;return(0,p.YH)(this,function(n){switch(n.label){case 0:return[4,e.json()];case 1:return t=n.sent(),this.completeRequest({success:"Remote config successfully fetched"}),[2,t]}})})},this.localConfig=t,this.configKeys=n}return e.prototype.getServerUrl=function(){return this.localConfig.serverZone===l.STAGING?"https://sr-client-cfg.stag2.amplitude.com/config":this.localConfig.serverZone===l.EU?"https://sr-client-cfg.eu.amplitude.com/config":"https://sr-client-cfg.amplitude.com/config"},e.prototype.completeRequest=function(e){var t=e.err,n=e.success;if(t)throw Error(t);n&&this.localConfig.loggerProvider.log(n)},e}(),tm=function(e){var t=e.localConfig,n=e.configKeys;return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(e){return[2,new tg({localConfig:t,configKeys:n})]})})},ty=function(){function e(e){this.config=e,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return e.prototype.initialize=function(){return(0,p.sH)(this,void 0,void 0,function(){var e;return(0,p.YH)(this,function(t){switch(t.label){case 0:return e=this,[4,tm({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return e.remoteConfigFetch=t.sent(),[2]}})})},e.prototype.generateJoinedConfig=function(){var e,t,n,r,i,o;return(0,p.sH)(this,void 0,void 0,function(){var n,a,s,u,c,l,d,f,v,h,g,m;return(0,p.YH)(this,function(y){switch(y.label){case 0:if(y.trys.push([0,3,,4]),!(a=this.remoteConfigFetch))return[3,2];return[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)];case 1:a=y.sent(),y.label=2;case 2:if(n=a,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(n,null,2)),n&&"autocapture"in n){if("boolean"==typeof n.autocapture&&(this.config.autocapture=n.autocapture),"object"==typeof n.autocapture){if(s=(0,p.Cl)({},n.autocapture),void 0===this.config.autocapture&&(this.config.autocapture=n.autocapture),"object"==typeof n.autocapture.elementInteractions&&(null==(e=n.autocapture.elementInteractions.pageUrlAllowlistRegex)?void 0:e.length)){s.elementInteractions=(0,p.Cl)({},n.autocapture.elementInteractions),c=null!=(t=(u=s.elementInteractions).pageUrlAllowlist)?t:[],l=[];try{for(f=(d=(0,p.Ju)(n.autocapture.elementInteractions.pageUrlAllowlistRegex)).next();!f.done;f=d.next()){v=f.value;try{l.push(new RegExp(v))}catch(e){this.config.loggerProvider.warn("Invalid regex pattern: ".concat(v),e)}}}catch(e){g={error:e}}finally{try{f&&!f.done&&(m=d.return)&&m.call(d)}finally{if(g)throw g.error}}u.pageUrlAllowlist=c.concat(l),delete u.pageUrlAllowlistRegex}"boolean"==typeof this.config.autocapture&&(this.config.autocapture=(0,p.Cl)({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},s)),"object"==typeof this.config.autocapture&&(this.config.autocapture=(0,p.Cl)((0,p.Cl)({},this.config.autocapture),s))}this.config.defaultTracking=this.config.autocapture}return this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),null!=(o=this.config).requestMetadata||(o.requestMetadata=new F),(null==(r=this.remoteConfigFetch)?void 0:r.metrics.fetchTimeAPISuccess)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),(null==(i=this.remoteConfigFetch)?void 0:i.metrics.fetchTimeAPIFail)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return h=y.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",h),[3,4];case 4:return[2,this.config]}})})},e}(),tb=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],tw=["div","span","h1","h2","h3","h4","h5","h6"],tS="[Amplitude] Element Clicked",t_="[Amplitude] Element Tag",tE="[Amplitude] Element Text",tk="[Amplitude] Page URL",tC="https://app.amplitude.com",tT={US:tC,EU:"https://app.eu.amplitude.com",STAGING:"https://apps.stag2.amplitude.com"},tI=n(96483),tN=n(28138),tx=n(28435),tA=n(37970),tO=["input","select","textarea"],tR=function(e,t){return function(n,r){var i,o,a,s=e.pageUrlAllowlist,u=e.shouldTrackEventResolver,c=null==(o=null==(i=null==r?void 0:r.tagName)?void 0:i.toLowerCase)?void 0:o.call(i);if(!c)return!1;if(u)return u(n,r);if(!tL(window.location.href,s))return!1;var l=String(null==r?void 0:r.getAttribute("type"))||"";if("string"==typeof l)switch(l.toLowerCase()){case"hidden":case"password":return!1}if(t&&!t.some(function(e){var t;return!!(null==(t=null==r?void 0:r.matches)?void 0:t.call(r,e))}))return!1;switch(c){case"input":case"select":case"textarea":return"change"===n||"click"===n;default:var d=null==(a=null==window?void 0:window.getComputedStyle)?void 0:a.call(window,r);if(d&&"pointer"===d.getPropertyValue("cursor")&&"click"===n)return!0;return"click"===n}}},tP=function(e){if(null==e)return!1;if("string"==typeof e&&(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((e||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(e)))return!1;return!0},tD=function(e){var t,n,r,i=null==(n=null==(t=null==e?void 0:e.tagName)?void 0:t.toLowerCase)?void 0:n.call(t),o=e instanceof HTMLElement&&(null==(r=e.getAttribute("contenteditable"))?void 0:r.toLowerCase())==="true";return!tO.includes(i)&&!o},tM=function(e){var t="";return tD(e)&&e.childNodes&&e.childNodes.length&&e.childNodes.forEach(function(e){var n="";e&&3===e.nodeType?e.textContent&&(n=e.textContent):n=tM(e),t+=n.split(/(\s+)/).filter(tP).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),t},tL=function(e,t){return!t||!t.length||t.some(function(t){return"string"==typeof t?e===t:e.match(t)})},tU=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&("object"!=typeof r||0!==Object.keys(r).length)&&("string"!=typeof r||0!==r.trim().length)&&(t[n]=r),t},{})},tj=function(e){var t,n=e.parentElement;if(!n)return"";try{t=n.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch(e){t=null}if(t){var r=t.textContent||"";return tP(r)?r:""}return tj(n)},tV=function(e,t){return e?t.some(function(t){var n;return null==(n=null==e?void 0:e.matches)?void 0:n.call(e,t)})?e:tV(null==e?void 0:e.parentElement,t):null},tH=function(e){if(!e)return{};var t,n,r,i=null==(r=null==(n=null==e?void 0:e.tagName)?void 0:n.toLowerCase)?void 0:r.call(n);return tU(((t={})[t_]=i,t[tE]=tM(e),t[tk]=window.location.href.split("?")[0],t))},tq=function(e){return null!==e.event.target&&!!e.closestTrackedAncestor},tB=function(){function e(e){var t=(void 0===e?{}:e).origin,n=this;this.endpoint=tC,this.requestCallbacks={},this.onSelect=function(e){n.notify({action:"element-selected",data:e})},this.onTrack=function(e,t){"selector-mode-changed"===e?n.notify({action:"track-selector-mode-changed",data:t}):"selector-moved"===e&&n.notify({action:"track-selector-moved",data:t})},this.endpoint=void 0===t?tC:t}return e.prototype.notify=function(e){var t,n,r,i;null==(n=null==(t=this.logger)?void 0:t.debug)||n.call(t,"Message sent: ",JSON.stringify(e)),null==(i=null==(r=window.opener)?void 0:r.postMessage)||i.call(r,e,this.endpoint)},e.prototype.sendRequest=function(e,t,n){var r=this;void 0===n&&(n={timeout:15e3});var i="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),o={id:i,action:e,args:t};return new Promise(function(t,a){r.requestCallbacks[i]={resolve:t,reject:a},r.notify(o),(null==n?void 0:n.timeout)>0&&setTimeout(function(){a(Error("".concat(e," timed out (id: ").concat(i,")"))),delete r.requestCallbacks[i]},n.timeout)})},e.prototype.handleResponse=function(e){var t;if(!this.requestCallbacks[e.id]){null==(t=this.logger)||t.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},e.prototype.setup=function(e){var t=this,n=void 0===e?{}:e,r=n.logger,i=n.endpoint,o=n.isElementSelectable,a=n.cssSelectorAllowlist,s=n.actionClickAllowlist;this.logger=r,i&&this.endpoint===tC&&(this.endpoint=i);var u=null;window.addEventListener("message",function(e){if(null==(r=null==(n=t.logger)?void 0:n.debug)||r.call(n,"Message received: ",JSON.stringify(e)),t.endpoint===e.origin){var n,r,i,c,l,d=null==e?void 0:e.data,f=null==d?void 0:d.action;if(f)if("id"in d)null==(c=null==(i=t.logger)?void 0:i.debug)||c.call(i,"Received Response to previous request: ",JSON.stringify(e)),t.handleResponse(d);else if("ping"===f)t.notify({action:"pong"});else if("initialize-visual-tagging-selector"===f){var p,v=null==d?void 0:d.data;(p="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",new Promise(function(e,t){var n;try{var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=p,r.addEventListener("load",function(){e({status:!0})},{once:!0}),r.addEventListener("error",function(){t({status:!1,message:"Failed to load the script ".concat(p)})}),null==(n=document.head)||n.appendChild(r)}catch(e){t(e)}})).then(function(){var e;u=null==(e=null==window?void 0:window.amplitudeVisualTaggingSelector)?void 0:e.call(window,{getEventTagProps:tH,isElementSelectable:function(e){return!o||o((null==v?void 0:v.actionType)||"click",e)},onTrack:t.onTrack,onSelect:t.onSelect,visualHighlightClass:"amp-visual-tagging-selector-highlight",messenger:t,cssSelectorAllowlist:a,actionClickAllowlist:s}),t.notify({action:"selector-loaded"})}).catch(function(){var e;null==(e=t.logger)||e.warn("Failed to initialize visual tagging selector")})}else"close-visual-tagging-selector"===f&&(null==(l=null==u?void 0:u.close)||l.call(u))}}),this.notify({action:"page-loaded"})},e}(),tF=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],tz=["type"],t$=["svg","path","g"],tK=["password","hidden"],tG=function(e){var t=[];return e?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(null===i)n+=4;else{var o=function e(t,n){void 0===n&&(n=!1);try{if(null==t){if(n)return"None";return null}if("string"==typeof t){if(n){if((t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")).includes('"'))return"'".concat(t,"'");if(t.includes("'"))return'"'.concat(t.replace(/'/g,"\\'"),'"');return"'".concat(t,"'")}return t}if("boolean"==typeof t)return t?"True":"False";else if(Array.isArray(t)){var r=t.map(function(t){return e(t,!0)});return"[".concat(r.join(", "),"]")}else if("object"==typeof t){var i=Object.entries(t).filter(function(e){var t=(0,p.zs)(e,1)[0];return null!=t}).map(function(t){var n=(0,p.zs)(t,2),r=n[0],i=n[1];return"".concat(String(e(r,!0)),": ").concat(String(e(i,!0)))}),o="{".concat(i.join(", "),"}");return o.includes("\\'")&&(o=o.replace(/'/g,"'").replace(/'/g,"\\'")),o}return t.toString()}catch(e){return null}}(i);n+=o?Array.from(o).length:4}if(n>1024)return e.slice(0,r)}return e}((function(e){var t=[];if(!e)return t;t.push(e);for(var n=e.parentElement;n&&"HTML"!==n.tagName;)t.push(n),n=n.parentElement;return t})(e).map(function(e){return function(e){if(null===e)return null;var t,n,r,i,o,a,s=String(e.tagName).toLowerCase(),u={tag:s},c=Array.from(null!=(i=null==(r=e.parentElement)?void 0:r.children)?i:[]);c.length&&(u.index=c.indexOf(e),u.indexOfType=c.filter(function(t){return t.tagName===e.tagName}).indexOf(e));var l=null==(a=null==(o=e.previousElementSibling)?void 0:o.tagName)?void 0:a.toLowerCase();l&&(u.prevSib=String(l));var d=e.getAttribute("id");d&&(u.id=String(d));var f=Array.from(e.classList);f.length&&(u.classes=f);var v={},h=Array.from(e.attributes).filter(function(e){return!tF.includes(e.name)}),g=!tD(e);if(!tK.includes(String(e.getAttribute("type")))&&!t$.includes(s))try{for(var m=(0,p.Ju)(h),y=m.next();!y.done;y=m.next()){var b=y.value;(!g||tz.includes(b.name))&&(v[b.name]=String(b.value).substring(0,128))}}catch(e){t={error:e}}finally{try{y&&!y.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}return Object.keys(v).length&&(u.attrs=v),u}(e)}),1024):[]},tY=n(50626),tW=n(53940),tJ=n(41392),tX=n(34578),tQ=n(18792),tZ=n(39136),t0=n(84190),t1=n(56177),t2=n(23567),t3=n(56607);!function(e){e.ClickObservable="clickObservable",e.ChangeObservable="changeObservable",e.NavigateObservable="navigateObservable",e.MutationObservable="mutationObservable"}(d||(d={}));var t4=function(e){void 0===e&&(e={});var t,n,r,i=e.dataAttributePrefix,o=void 0===i?"data-amp-track-":i,a=e.visualTaggingOptions,s=void 0===a?{enabled:!0,messenger:new tB}:a;e.cssSelectorAllowlist=null!=(t=e.cssSelectorAllowlist)?t:tb,e.actionClickAllowlist=null!=(n=e.actionClickAllowlist)?n:tw,e.debounceTime=null!=(r=e.debounceTime)?r:0;var u="@amplitude/plugin-autocapture-browser",c=[],l=function(){var e,t,n=(0,tI.R)(document,"click",{capture:!0}).pipe((0,tN.T)(function(e){return v(e,"click")}),(0,tx.u)()),r=(0,tI.R)(document,"change",{capture:!0}).pipe((0,tN.T)(function(e){return v(e,"change")}),(0,tx.u)());window.navigation&&(t=(0,tI.R)(window.navigation,"navigate").pipe((0,tN.T)(function(e){return v(e,"navigate")}),(0,tx.u)()));var i=new tA.c(function(e){var t=new MutationObserver(function(t){e.next(t)});return t.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return t.disconnect()}}).pipe((0,tN.T)(function(e){return v(e,"mutation")}),(0,tx.u)());return(e={})[d.ClickObservable]=n,e[d.ChangeObservable]=r,e[d.NavigateObservable]=t,e[d.MutationObservable]=i,e},f=function(e,t){var n,r,i,a=null==(i=null==(r=null==t?void 0:t.tagName)?void 0:r.toLowerCase)?void 0:i.call(r),s="function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{left:null,top:null},u=t.getAttribute("aria-label"),c=t.getAttributeNames().reduce(function(e,n){if(n.startsWith(o)){var r=n.replace(o,""),i=t.getAttribute(n);r&&(e[r]=i||"")}return e},{}),l=tj(t),d=((n={})["[Amplitude] Element ID"]=t.getAttribute("id")||"",n["[Amplitude] Element Class"]=t.getAttribute("class"),n["[Amplitude] Element Hierarchy"]=tG(t),n[t_]=a,n[tE]=tM(t),n["[Amplitude] Element Position Left"]=null==s.left?null:Math.round(s.left),n["[Amplitude] Element Position Top"]=null==s.top?null:Math.round(s.top),n["[Amplitude] Element Aria Label"]=u,n["[Amplitude] Element Attributes"]=c,n["[Amplitude] Element Parent Label"]=l,n[tk]=window.location.href.split("?")[0],n["[Amplitude] Page Title"]="undefined"!=typeof document&&document.title||"",n["[Amplitude] Viewport Height"]=window.innerHeight,n["[Amplitude] Viewport Width"]=window.innerWidth,n);return"a"===a&&"click"===e&&t instanceof HTMLAnchorElement&&(d["[Amplitude] Element Href"]=t.href),tU(d)},v=function(t,n){var r={event:t,timestamp:Date.now(),type:n};if(("click"===r.type||"change"===r.type)&&null!==r.event.target){var i=tV(r.event.target,e.cssSelectorAllowlist);i&&(r.closestTrackedAncestor=i,r.targetElementProperties=f(r.type,i))}return r};return{name:u,type:"enrichment",setup:function(t,n){return(0,p.sH)(void 0,void 0,void 0,function(){var r,i,o,a,d,v,h,g,m,y;return(0,p.YH)(this,function(b){var w,S,_,E,k,C,T,I,N,x,A,O,R,P,D,M,L,U,j,V,H,q,B,F,z,$,K;return"undefined"==typeof document?[2]:(r=tR(e,e.cssSelectorAllowlist),i=tR(e,e.actionClickAllowlist),S=(w={allObservables:o=l(),options:e,amplitude:n,shouldTrackEvent:r}).amplitude,_=w.allObservables,E=w.options,k=w.shouldTrackEvent,T=(C=_.clickObservable).pipe((0,tY.J)(),(0,tW.p)(function(e){var t=(0,p.zs)(e,2),n=t[0],r=t[1],i=n.event.target!==r.event.target,o=20>=Math.abs(r.event.screenX-n.event.screenX)&&20>=Math.abs(r.event.screenY-n.event.screenY);return i&&!o})),I=C.pipe((0,tJ.B)(E.debounceTime),(0,tN.T)(function(){return"timeout"})),N=(0,tX.h)(T,I),a=C.pipe((0,tQ.c)(0),(0,tW.p)(tq),(0,tW.p)(function(e){return k("click",e.closestTrackedAncestor)}),(0,tZ.r)(N)).subscribe(function(e){var t,n,r=(e.length,tS);try{for(var i=(0,p.Ju)(e),o=i.next();!o.done;o=i.next()){var a=o.value;null==S||S.track(r,a.targetElementProperties)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}),c.push(a),A=(x={allObservables:o,getEventProperties:f,amplitude:n,shouldTrackEvent:r}).amplitude,O=x.allObservables,R=x.getEventProperties,P=x.shouldTrackEvent,d=O.changeObservable.pipe((0,tW.p)(tq),(0,tW.p)(function(e){return P("change",e.closestTrackedAncestor)})).subscribe(function(e){null==A||A.track("[Amplitude] Element Changed",R("change",e.closestTrackedAncestor))}),c.push(d),M=(D={allObservables:o,options:e,getEventProperties:f,amplitude:n,shouldTrackEvent:r,shouldTrackActionClick:i}).amplitude,L=D.allObservables,U=D.options,j=D.getEventProperties,V=D.shouldTrackEvent,H=D.shouldTrackActionClick,q=L.clickObservable,B=L.mutationObservable,F=L.navigateObservable,z=q.pipe((0,tW.p)(function(e){return!V("click",e.closestTrackedAncestor)}),(0,tN.T)(function(e){var t=tV(e.event.target,U.actionClickAllowlist);return e.closestTrackedAncestor=t,null!==e.closestTrackedAncestor&&(e.targetElementProperties=j(e.type,e.closestTrackedAncestor)),e}),(0,tW.p)(tq),(0,tW.p)(function(e){return H("click",e.closestTrackedAncestor)})),$=[B],F&&$.push(F),K=tX.h.apply(void 0,(0,p.fX)([],(0,p.zs)($),!1)),v=z.pipe((0,t0.n)(function(e){return K.pipe((0,t1.s)(1),(0,t2.w)({first:500,with:function(){return t3.w}}),(0,tN.T)(function(){return e}))})).subscribe(function(e){null==M||M.track(tS,j("click",e.closestTrackedAncestor))}),c.push(v),null==(m=null==t?void 0:t.loggerProvider)||m.log("".concat(u," has been successfully added.")),window.opener&&s.enabled&&(h=e.cssSelectorAllowlist,g=e.actionClickAllowlist,null==(y=s.messenger)||y.setup((0,p.Cl)((0,p.Cl)({logger:null==t?void 0:t.loggerProvider},(null==t?void 0:t.serverZone)&&{endpoint:tT[t.serverZone]}),{isElementSelectable:tR(e,(0,p.fX)((0,p.fX)([],(0,p.zs)(h),!1),(0,p.zs)(g),!1)),cssSelectorAllowlist:h,actionClickAllowlist:g}))),[2])})})},execute:function(e){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,p.sH)(void 0,void 0,void 0,function(){var e,t,n,r;return(0,p.YH)(this,function(i){try{for(t=(e=(0,p.Ju)(c)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){n={error:e}}finally{try{t&&!t.done&&(r=e.return)&&r.call(e)}finally{if(n)throw n.error}}return[2]})})}}},t6=function(){function e(e){this.request=e}return Object.defineProperty(e.prototype,"headers",{get:function(){if(this._headers)return this._headers;var e=this.request.headers;if(Array.isArray(e))this._headers=e.reduce(function(e,t){var n=(0,p.zs)(t,2),r=n[0],i=n[1];return e[r]=i,e},{});else if(e instanceof Headers){var t={};e.forEach(function(e,n){t[n]=e}),this._headers=t}else"object"==typeof e&&(this._headers=e);return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){if("number"==typeof this._bodySize)return this._bodySize;var e=b();if(null==e?void 0:e.TextEncoder){var t=this.request.body;return this._bodySize=t8(t,100),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),e}(),t5=function(){function e(e){this.body=e}return Object.defineProperty(e.prototype,"bodySize",{get:function(){return t8(this.body,100)},enumerable:!1,configurable:!0}),e}();function t8(e,t){var n,r,i,o,a=b(),s=null==a?void 0:a.TextEncoder;if(s){if("string"==typeof e)o=e,i=new s().encode(o).length;else if(e instanceof Blob)i=(o=e).size;else if(e instanceof URLSearchParams)o=e,i=new s().encode(o.toString()).length;else if(ArrayBuffer.isView(e))i=(o=e).byteLength;else if(e instanceof ArrayBuffer)i=(o=e).byteLength;else if(e instanceof FormData){var u=0,c=0;try{for(var l=(0,p.Ju)(e.entries()),d=l.next();!d.done;d=l.next()){var f=(0,p.zs)(d.value,2),v=f[0],h=f[1];if(u+=v.length,"string"==typeof h)u+=new s().encode(h).length;else{if(!(h instanceof Blob))return;u+=h.size}if(++c>=t)return}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}i=u}else if(e instanceof ReadableStream){o=e;return}return i}}var t9=function(){function e(e){this.response=e}return Object.defineProperty(e.prototype,"headers",{get:function(){var e;if(this._headers)return this._headers;if(this.response.headers instanceof Headers){var t=this.response.headers,n={};return null==(e=null==t?void 0:t.forEach)||e.call(t,function(e,t){n[t]=e}),this._headers=n,n}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bodySize",{get:function(){if(void 0!==this._bodySize)return this._bodySize;var e,t,n=null==(t=null==(e=this.response.headers)?void 0:e.get)?void 0:t.call(e,"content-length"),r=n?parseInt(n,10):void 0;return this._bodySize=r,r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),e}(),t7=function(){function e(e,t,n){this.statusCode=e,this.headersString=t,this.size=n}return Object.defineProperty(e.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){if(this.headersString){var e,t,n={},r=this.headersString.split(`\r
`);try{for(var i=(0,p.Ju)(r),o=i.next();!o.done;o=i.next()){var a=o.value,s=(0,p.zs)(a.split(": "),2),u=s[0],c=s[1];u&&c&&(n[u]=c)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n}},enumerable:!1,configurable:!0}),e}(),ne=function(){function e(e,t,n,r,i,o,a,s,u,c,l){void 0===a&&(a=0),this.type=e,this.method=t,this.timestamp=n,this.startTime=r,this.url=i,this.requestWrapper=o,this.status=a,this.duration=s,this.responseWrapper=u,this.error=c,this.endTime=l}return e.prototype.toSerializable=function(){var e,t,n,r;return Object.fromEntries(Object.entries({type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:null==(e=this.requestWrapper)?void 0:e.headers,requestBodySize:null==(t=this.requestWrapper)?void 0:t.bodySize,responseHeaders:null==(n=this.responseWrapper)?void 0:n.headers,responseBodySize:null==(r=this.responseWrapper)?void 0:r.bodySize}).filter(function(e){var t=(0,p.zs)(e,2);return void 0!==(t[0],t[1])}))},e}(),nt=function(e,t){void 0===t&&(t=$()),this.callback=e,this.id=t},nn=new(function(){function e(t){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=t;var n=b();e.isSupported()&&(this.globalScope=n)}return e.isSupported=function(){var e=b();return!!e&&!!e.fetch},e.prototype.subscribe=function(e,t){var n,r,i,o,a,s,u;if(this.logger||(this.logger=t),this.eventCallbacks.set(e.id,e),!this.isObserving){var c=null==(i=null==(r=null==(n=this.globalScope)?void 0:n.XMLHttpRequest)?void 0:r.prototype)?void 0:i.open,l=null==(s=null==(a=null==(o=this.globalScope)?void 0:o.XMLHttpRequest)?void 0:a.prototype)?void 0:s.send;c&&l&&this.observeXhr(c,l);var d=null==(u=this.globalScope)?void 0:u.fetch;d&&this.observeFetch(d),this.isObserving=!0}},e.prototype.unsubscribe=function(e){this.eventCallbacks.delete(e.id)},e.prototype.triggerEventCallbacks=function(e){var t=this;this.eventCallbacks.forEach(function(n){var r;try{n.callback(e)}catch(e){null==(r=t.logger)||r.debug("an unexpected error occurred while triggering event callbacks",e)}})},e.prototype.handleNetworkRequestEvent=function(e,t,n,r,i,o,a){if(void 0!==o&&void 0!==a){var s,u,c,l,d="GET";"object"==typeof t&&null!==t&&"url"in t&&"method"in t?(u=t.url,d=t.method):u=null==(s=null==t?void 0:t.toString)?void 0:s.call(t),d=(null==n?void 0:n.method)||d,r&&(c=r.status),i&&(l={name:i.name||"UnknownError",message:i.message||"An unknown error occurred"},c=0);var f=Math.floor(performance.now()-a),p=Math.floor(o+f),v=new ne(e,d,o,o,u,n,c,f,r,l,p);this.triggerEventCallbacks(v)}},e.prototype.getTimestamps=function(){var e,t;return{startTime:null==(e=Date.now)?void 0:e.call(Date),durationStart:null==(t=null==performance?void 0:performance.now)?void 0:t.call(performance)}},e.prototype.observeFetch=function(e){var t=this;this.globalScope&&e&&(this.globalScope.fetch=function(n,r){return(0,p.sH)(t,void 0,void 0,function(){var t,i,o,a,s;return(0,p.YH)(this,function(u){switch(u.label){case 0:try{t=this.getTimestamps()}catch(e){null==(a=this.logger)||a.debug("an unexpected error occurred while retrieving timestamps",e)}u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e(n,r)];case 2:return i=u.sent(),[3,4];case 3:return o=u.sent(),[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",n,r?new t6(r):void 0,i?new t9(i):void 0,o,null==t?void 0:t.startTime,null==t?void 0:t.durationStart)}catch(e){null==(s=this.logger)||s.debug("an unexpected error occurred while handling fetch",e)}if(i)return[2,i];throw o}})})})},e.prototype.observeXhr=function(e,t){if(this.globalScope&&e&&t){var n=this.globalScope.XMLHttpRequest.prototype,r=this;n.open=function(){for(var t,n,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=(0,p.zs)(i,2),s=a[0],u=a[1];try{this.$$AmplitudeAnalyticsEvent=(0,p.Cl)({method:s,url:null==(t=null==u?void 0:u.toString)?void 0:t.call(u)},r.getTimestamps())}catch(e){null==(n=r.logger)||n.debug("an unexpected error occurred while calling xhr open",e)}return e.apply(this,i)},n.send=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,o=e[0],a=i.$$AmplitudeAnalyticsEvent;return i.addEventListener("loadend",function(){var e;try{var t=i.getAllResponseHeaders(),n=i.getResponseHeader("content-length"),s=new t7(i.status,t,n?parseInt(n,10):void 0),u=new t5(o);a.status=i.status,r.handleNetworkRequestEvent("xhr",{url:a.url,method:a.method},u,s,void 0,a.startTime,a.durationStart)}catch(t){null==(e=r.logger)||e.debug("an unexpected error occurred while handling xhr send",t)}}),t.apply(i,e)}}},e}()),nr="500-599";function ni(e,t){return RegExp("^"+t.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&").replace(/\*/g,".*")+"$").test(e)}function no(e,t){var n,r,i=t.split(",");try{for(var o=(0,p.Ju)(i),a=o.next();!a.done;a=o.next()){var s=a.value,u=(0,p.zs)(s.split("-").map(Number),2),c=u[0],l=u[1];if(e===c&&void 0===l||e>=c&&e<=l)return!0}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}function na(e){var t;if(e)try{var n=null==(t=b())?void 0:t.location.href,r=new URL(e,n),i=r.searchParams.toString(),o=r.hash.replace("#",""),a=r.href,s=r.host;r.hash="",r.search="";var u=r.href;return{query:i,fragment:o,href:a,hrefWithoutQueryOrHash:u,host:s}}catch(e){return}}(f||(f={})).NetworkObservable="networkObservable";var ns=function(e){void 0===e&&(e={});var t,n="@amplitude/plugin-network-capture-browser",r=[],i=function(){var e,n=new tA.c(function(e){var n=new nt(function(t){var n={event:t,timestamp:Date.now(),type:"network"};e.next(n)});return nn.subscribe(n,t),function(){nn.unsubscribe(n)}});return(e={})[f.NetworkObservable]=n,e};return{name:n,type:"enrichment",setup:function(o,a){return(0,p.sH)(void 0,void 0,void 0,function(){var s;return(0,p.YH)(this,function(u){var c,l,d,f;return"undefined"==typeof document?[2]:(l=(c={allObservables:i(),networkTrackingOptions:e,amplitude:a}).allObservables,d=c.networkTrackingOptions,f=c.amplitude,s=l.networkObservable.pipe((0,tW.p)(function(e){return function(e,t){void 0===t&&(t={});var n,r,i=na(e.url);if(!i)return!1;var o=i.host;return!(!1!==t.ignoreAmplitudeRequests&&(ni(o,"*.amplitude.com")||ni(o,"amplitude.com"))||(null==(n=t.ignoreHosts)?void 0:n.find(function(e){return ni(o,e)})))&&(!!t.captureRules||void 0===e.status||!!no(e.status,nr))&&(!t.captureRules||((0,p.fX)([],(0,p.zs)(t.captureRules),!1).reverse().find(function(t){return void 0!==(r=function(e,t,n){if(!e.hosts||e.hosts.find(function(e){return ni(t,e)}))return(!n&&0!==n||!!no(n,e.statusCodeRange||nr))&&!0}(t,o,e.status))}),!!r))&&!0}(e.event,d)})).subscribe(function(e){var t,n,r,i=e.event,o=na(i.url);if(o){var a=null==(n=i.responseWrapper)?void 0:n.bodySize,s=null==(r=i.requestWrapper)?void 0:r.bodySize,u=((t={})["[Amplitude] URL"]=o.hrefWithoutQueryOrHash,t["[Amplitude] URL Query"]=o.query,t["[Amplitude] URL Fragment"]=o.fragment,t["[Amplitude] Request Method"]=i.method,t["[Amplitude] Status Code"]=i.status,t["[Amplitude] Start Time"]=i.startTime,t["[Amplitude] Completion Time"]=i.endTime,t["[Amplitude] Duration"]=i.duration,t["[Amplitude] Request Body Size"]=s,t["[Amplitude] Response Body Size"]=a,t["[Amplitude] Request Type"]=i.type,t);null==f||f.track("[Amplitude] Network Request",u)}}),r.push(s),null==(t=null==o?void 0:o.loggerProvider)||t.log("".concat(n," has been successfully added.")),[2])})})},execute:function(e){return(0,p.sH)(void 0,void 0,void 0,function(){return(0,p.YH)(this,function(t){return[2,e]})})},teardown:function(){return(0,p.sH)(void 0,void 0,void 0,function(){var e,t,n,i;return(0,p.YH)(this,function(o){try{for(t=(e=(0,p.Ju)(r)).next();!t.done;t=e.next())t.value.unsubscribe()}catch(e){n={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(n)throw n.error}}return[2]})})}}},nu="dclid",nc="fbclid",nl="gbraid",nd="gclid",nf="ko_click_id",np="li_fat_id",nv="msclkid",nh="rtd_cid",ng="ttclid",nm="twclid",ny="wbraid",nb={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},nw=function(e){var t=e.split(".");return t.length<=2?e:t.slice(t.length-2,t.length).join(".")},nS=function(e,t,n,r,i){void 0===i&&(i=!0),e.referrer;var o=e.referring_domain,a=(0,p.Tt)(e,["referrer","referring_domain"]),s=t||{},u=(s.referrer,s.referring_domain),c=(0,p.Tt)(s,["referrer","referring_domain"]);if(n_(n.excludeReferrers,e.referring_domain))return r.debug("This is not a new campaign because ".concat(e.referring_domain," is in the exclude referrer list.")),!1;if(!i&&Object.values(e).every(function(e){return!e})&&t)return r.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var l=JSON.stringify(a)!==JSON.stringify(c),d=nw(o||"")!==nw(u||""),f=!t||l||d;return f?r.debug("This is a new campaign. An $identify event will be sent."):r.debug("This is not a new campaign because it's the same as the previous one."),f},n_=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=""),e.some(function(e){return e instanceof RegExp?e.test(t):e===t})},nE=function(e){var t=e;return t?(t.startsWith(".")&&(t=t.substring(1)),[new RegExp("".concat(t.replace(".","\\."),"$"))]):[]},nk=function(){function e(){}return e.prototype.parse=function(){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(e){return[2,(0,p.Cl)((0,p.Cl)((0,p.Cl)((0,p.Cl)({},nb),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},e.prototype.getUtmParam=function(){var e=w();return{utm_campaign:e.utm_campaign,utm_content:e.utm_content,utm_id:e.utm_id,utm_medium:e.utm_medium,utm_source:e.utm_source,utm_term:e.utm_term}},e.prototype.getReferrer=function(){var e,t,n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0,n.referring_domain=null!=(t=null==(e=n.referrer)?void 0:e.split("/")[2])?t:void 0}catch(e){}return n},e.prototype.getClickIds=function(){var e,t=w();return(e={})[nu]=t[nu],e[nc]=t[nc],e[nl]=t[nl],e[nd]=t[nd],e[nf]=t[nf],e[np]=t[np],e[nv]=t[nv],e[nh]=t[nh],e[ng]=t[ng],e[nm]=t[nm],e[ny]=t[ny],e},e}(),nC=function(){function e(e,t){var n,r,i,o;this.shouldTrackNewCampaign=!1,this.options=(0,p.Cl)({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:nE(null==(n=t.cookieOptions)?void 0:n.domain)},e),this.storage=t.cookieStorage,this.storageKey=(r=t.apiKey,i="MKTG",void 0===o&&(o=10),[M.r,i,r.substring(0,o)].filter(Boolean).join("_")),this.currentCampaign=nb,this.sessionTimeout=t.sessionTimeout,this.lastEventTime=t.lastEventTime,this.logger=t.loggerProvider,t.loggerProvider.log("Installing web attribution tracking.")}return e.prototype.init=function(){return(0,p.sH)(this,void 0,void 0,function(){var e,t;return(0,p.YH)(this,function(n){switch(n.label){case 0:return[4,this.fetchCampaign()];case 1:if(t=p.zs.apply(void 0,[n.sent(),2]),this.currentCampaign=t[0],this.previousCampaign=t[1],e=!this.lastEventTime||Q(this.sessionTimeout,this.lastEventTime),!nS(this.currentCampaign,this.previousCampaign,this.options,this.logger,e))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.fetchCampaign=function(){return(0,p.sH)(this,void 0,void 0,function(){return(0,p.YH)(this,function(e){switch(e.label){case 0:return[4,Promise.all([new nk().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},e.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var t,n,r=(t=this.currentCampaign,n=this.options,et(Object.entries((0,p.Cl)((0,p.Cl)({},nb),t)).reduce(function(e,t){var r,i=(0,p.zs)(t,2),o=i[0],a=i[1];return(e.setOnce("initial_".concat(o),null!=(r=null!=a?a:n.initialEmptyValue)?r:"EMPTY"),a)?e.set(o,a):e.unset(o)},new W.T$)));return e&&(r.event_id=e),r},e.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},e}(),nT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,p.C6)(t,e),t.prototype.init=function(e,t,n){var r,i;return void 0===e&&(e=""),arguments.length>2?(r=t,i=n):"string"==typeof t?(r=t,i=void 0):(r=null==t?void 0:t.userId,i=t),y(this._init((0,p.Cl)((0,p.Cl)({},i),{userId:r,apiKey:e})))},t.prototype._init=function(t){var n,r,i;return(0,p.sH)(this,void 0,void 0,function(){var o,a,s,u,c,l=this;return(0,p.YH)(this,function(d){var f,v,h,g,m;switch(d.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(f=t.apiKey,v=t,h=this,void 0===v&&(v={}),(0,p.sH)(void 0,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u,c,l,d,g,m,y,b,S,_,E,k,C,T,I,N,x,A,O,R,P,D,L,U,j,V,H,q,B,F,z,K,G,Y,W;return(0,p.YH)(this,function(J){var X,Q,Z;switch(J.label){case 0:if(e=v.identityStorage||eG,E={},e===eG)return[3,1];return n="",[3,5];case 1:if(null==(C=null==(k=v.cookieOptions)?void 0:k.domain))return[3,2];return r=C,[3,4];case 2:return[4,(0,p.sH)(void 0,void 0,void 0,function(){var e,t,n,r,i,o;return(0,p.YH)(this,function(a){switch(a.label){case 0:return[4,new eS().isEnabled()];case 1:if(!a.sent()||"undefined"==typeof location||!location.hostname)return[2,""];for(e=(null!=X?X:location.hostname).split("."),t=[],n="AMP_TLDTEST",r=e.length-2;r>=0;--r)t.push(e.slice(r).join("."));r=0,a.label=2;case 2:if(!(r<t.length))return[3,7];return[4,(o=new eS({domain:"."+(i=t[r])})).set(n,1)];case 3:return a.sent(),[4,o.get(n)];case 4:if(!a.sent())return[3,6];return[4,o.remove(n)];case 5:return a.sent(),[2,"."+i];case 6:return r++,[3,2];case 7:return[2,""]}})})];case 3:r=J.sent(),J.label=4;case 4:n=r,J.label=5;case 5:return t=p.Cl.apply(void 0,[(E.domain=n,E.expiration=365,E.sameSite="Lax",E.secure=!1,E.upgrade=!0,E),v.cookieOptions]),[4,(Q=i=eW(v.identityStorage,t),void 0===(Z=null==(I=null==(T=v.cookieOptions)?void 0:T.upgrade)||I)&&(Z=!0),(0,p.sH)(void 0,void 0,void 0,function(){var e,t,n,r,i,o,a,s,u;return(0,p.YH)(this,function(c){switch(c.label){case 0:return e="".concat(M.r.toLowerCase(),"_").concat(f.substring(0,6)),[4,Q.getRaw(e)];case 1:if(!(t=c.sent()))return[2,{optOut:!1}];if(!Z)return[3,3];return[4,Q.remove(e)];case 2:c.sent(),c.label=3;case 3:return r=(n=(0,p.zs)(t.split("."),6))[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],[2,{deviceId:r,userId:eR(i),sessionId:eO(a),lastEventId:eO(u),lastEventTime:eO(s),optOut:!!o}]}})}))];case 6:return o=J.sent(),[4,i.get(ew(f))];case 7:return a=J.sent(),s=w(),u=null!=(R=null!=(O=null!=(A=null!=(x=null!=(N=v.deviceId)?N:s.ampDeviceId)?x:s.deviceId)?A:null==a?void 0:a.deviceId)?O:o.deviceId)?R:$(),c=null!=(P=null==a?void 0:a.lastEventId)?P:o.lastEventId,l=null!=(D=null==a?void 0:a.lastEventTime)?D:o.lastEventTime,d=null!=(U=null!=(L=v.optOut)?L:null==a?void 0:a.optOut)?U:o.optOut,g=null!=(j=null==a?void 0:a.sessionId)?j:o.sessionId,m=null!=(H=null!=(V=v.userId)?V:null==a?void 0:a.userId)?H:o.userId,h.previousSessionDeviceId=null!=(q=null==a?void 0:a.deviceId)?q:o.deviceId,h.previousSessionUserId=null!=(B=null==a?void 0:a.userId)?B:o.userId,y={ipAddress:null==(z=null==(F=v.trackingOptions)?void 0:F.ipAddress)||z,language:null==(G=null==(K=v.trackingOptions)?void 0:K.language)||G,platform:null==(W=null==(Y=v.trackingOptions)?void 0:Y.platform)||W},b=null==a?void 0:a.pageCounter,S=null==a?void 0:a.debugLogsEnabled,void 0!==v.autocapture&&(v.defaultTracking=v.autocapture),[4,(_=new eY(f,v.appVersion,i,t,v.defaultTracking,v.autocapture,u,v.flushIntervalMillis,v.flushMaxRetries,v.flushQueueSize,e,v.ingestionMetadata,v.instanceName,c,l,v.loggerProvider,v.logLevel,v.minIdLength,v.offline,d,v.partnerId,v.plan,v.serverUrl,v.serverZone,g,v.sessionTimeout,v.storageProvider,y,v.transport,v.useBatch,v.fetchRemoteConfig,m,b,S,v.networkTrackingOptions)).storageProvider.isEnabled()];case 8:return J.sent()||(_.loggerProvider.warn("Storage provider ".concat(_.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),_.storageProvider=new eb),[2,_]}})}))];case 1:if(!(o=d.sent()).fetchRemoteConfig)return[3,4];return[4,(g=o,(0,p.sH)(void 0,void 0,void 0,function(){var e;return(0,p.YH)(this,function(t){switch(t.label){case 0:return[4,(e=new ty(g)).initialize()];case 1:return t.sent(),[2,e]}})}))];case 2:return[4,d.sent().generateJoinedConfig()];case 3:o=d.sent(),d.label=4;case 4:return[4,e.prototype._init.call(this,o)];case 5:if(d.sent(),this.logBrowserOptions(o),!ea(this.config.defaultTracking))return[3,7];return a=ea((m=this.config).defaultTracking)&&m.defaultTracking&&"object"==typeof m.defaultTracking&&m.defaultTracking.attribution&&"object"==typeof m.defaultTracking.attribution?(0,p.Cl)({},m.defaultTracking.attribution):{},this.webAttribution=new nC(a,this.config),[4,this.webAttribution.init()];case 6:d.sent(),d.label=7;case 7:if(u=Number.isNaN(Number((s=w()).ampSessionId))?void 0:Number(s.ampSessionId),this.setSessionId(null!=(i=null!=(r=null!=(n=t.sessionId)?n:u)?r:this.config.sessionId)?i:Date.now()),(c=R(t.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),null===this.config.offline)return[3,9];return[4,this.add(tv()).promise];case 8:d.sent(),d.label=9;case 9:return[4,this.add(new G).promise];case 10:return d.sent(),[4,this.add(new ey).promise];case 11:return d.sent(),[4,this.add(new Y).promise];case 12:if(d.sent(),tp(this.config),!eo(this.config.defaultTracking,"fileDownloads"))return[3,14];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(td()).promise];case 13:d.sent(),d.label=14;case 14:if(!eo(this.config.defaultTracking,"formInteractions"))return[3,16];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(tu()).promise];case 15:d.sent(),d.label=16;case 16:if(!es(this.config.defaultTracking))return[3,18];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(ti(ep(this.config))).promise];case 17:d.sent(),d.label=18;case 18:if(!el(this.config.autocapture))return[3,20];return this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(t4(ed(this.config))).promise];case 19:d.sent(),d.label=20;case 20:if(!ec(this.config.autocapture))return[3,22];return this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(ns(ef(this.config))).promise];case 21:d.sent(),d.label=22;case 22:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 23:return d.sent(),c.eventBridge.setEventReceiver(function(e){l.track(e.eventType,e.eventProperties)}),[2]}})})},t.prototype.getUserId=function(){var e;return null==(e=this.config)?void 0:e.userId},t.prototype.setUserId=function(e){if(!this.config)return void this.q.push(this.setUserId.bind(this,e));this.config.loggerProvider.debug("function setUserId: ",e),(e!==this.config.userId||void 0===e)&&(this.config.userId=e,this.timeline.onIdentityChanged({userId:e}),P(e,this.config.instanceName))},t.prototype.getDeviceId=function(){var e;return null==(e=this.config)?void 0:e.deviceId},t.prototype.setDeviceId=function(e){if(!this.config)return void this.q.push(this.setDeviceId.bind(this,e));this.config.loggerProvider.debug("function setDeviceId: ",e),e!==this.config.deviceId&&(this.config.deviceId=e,this.timeline.onIdentityChanged({deviceId:e}),D(e,this.config.instanceName))},t.prototype.reset=function(){this.setDeviceId($()),this.setUserId(void 0)},t.prototype.getSessionId=function(){var e;return null==(e=this.config)?void 0:e.sessionId},t.prototype.setSessionId=function(e){var t,n=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,e)),y(Promise.resolve());if(e===this.config.sessionId)return y(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",e);var r=this.getSessionId();r!==e&&this.timeline.onSessionIdChanged(e);var i=this.config.lastEventTime,o=null!=(t=this.config.lastEventId)?t:-1;this.config.sessionId=e,this.config.lastEventTime=void 0,this.config.pageCounter=0,eu(this.config.defaultTracking)&&(r&&i&&n.push(this.track(ej,void 0,{device_id:this.previousSessionDeviceId,event_id:++o,session_id:r,time:i+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var a=this.trackCampaignEventIfNeeded(++o,n);return eu(this.config.defaultTracking)&&n.push(this.track(eU,void 0,{event_id:a?++o:o,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,y(Promise.all(n))},t.prototype.extendSession=function(){if(!this.config)return void this.q.push(this.extendSession.bind(this));this.config.lastEventTime=Date.now()},t.prototype.setTransport=function(e){if(!this.config)return void this.q.push(this.setTransport.bind(this,e));this.config.transportProvider=eJ(e)},t.prototype.identify=function(t,n){if(eh(t)){var r=t._q;t._q=[],t=ev(new W.T$,r)}return(null==n?void 0:n.user_id)&&this.setUserId(n.user_id),(null==n?void 0:n.device_id)&&this.setDeviceId(n.device_id),e.prototype.identify.call(this,t,n)},t.prototype.groupIdentify=function(t,n,r,i){if(eh(r)){var o=r._q;r._q=[],r=ev(new W.T$,o)}return e.prototype.groupIdentify.call(this,t,n,r,i)},t.prototype.revenue=function(t,n){if(eh(t)){var r=t._q;t._q=[],t=ev(new X,r)}return e.prototype.revenue.call(this,t,n)},t.prototype.trackCampaignEventIfNeeded=function(e,t){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var n=this.webAttribution.generateCampaignEvent(e);return t?t.push(this.track(n).promise):this.track(n),this.config.loggerProvider.log("Tracking attribution."),!0},t.prototype.process=function(t){return(0,p.sH)(this,void 0,void 0,function(){var n,r,i;return(0,p.YH)(this,function(o){return n=Date.now(),r=Q(this.config.sessionTimeout,this.config.lastEventTime),i=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),t.event_type!==eU&&t.event_type!==ej&&(!t.session_id||t.session_id===this.getSessionId())&&(r||i?(this.setSessionId(n),i&&this.config.loggerProvider.log("Created a new session for new campaign.")):r||this.trackCampaignEventIfNeeded()),[2,e.prototype.process.call(this,t)]})})},t.prototype.logBrowserOptions=function(e){try{var t=(0,p.Cl)((0,p.Cl)({},e),{apiKey:e.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(t))}catch(e){this.config.loggerProvider.error("Error logging browser config",e)}},t}(ei),nI=function(){var e=new nT;return{init:m(e.init.bind(e),"init",v(e),g(e,["config"])),add:m(e.add.bind(e),"add",v(e),g(e,["config.apiKey","timeline.plugins"])),remove:m(e.remove.bind(e),"remove",v(e),g(e,["config.apiKey","timeline.plugins"])),track:m(e.track.bind(e),"track",v(e),g(e,["config.apiKey","timeline.queue.length"])),logEvent:m(e.logEvent.bind(e),"logEvent",v(e),g(e,["config.apiKey","timeline.queue.length"])),identify:m(e.identify.bind(e),"identify",v(e),g(e,["config.apiKey","timeline.queue.length"])),groupIdentify:m(e.groupIdentify.bind(e),"groupIdentify",v(e),g(e,["config.apiKey","timeline.queue.length"])),setGroup:m(e.setGroup.bind(e),"setGroup",v(e),g(e,["config.apiKey","timeline.queue.length"])),revenue:m(e.revenue.bind(e),"revenue",v(e),g(e,["config.apiKey","timeline.queue.length"])),flush:m(e.flush.bind(e),"flush",v(e),g(e,["config.apiKey","timeline.queue.length"])),getUserId:m(e.getUserId.bind(e),"getUserId",v(e),g(e,["config","config.userId"])),setUserId:m(e.setUserId.bind(e),"setUserId",v(e),g(e,["config","config.userId"])),getDeviceId:m(e.getDeviceId.bind(e),"getDeviceId",v(e),g(e,["config","config.deviceId"])),setDeviceId:m(e.setDeviceId.bind(e),"setDeviceId",v(e),g(e,["config","config.deviceId"])),reset:m(e.reset.bind(e),"reset",v(e),g(e,["config","config.userId","config.deviceId"])),getSessionId:m(e.getSessionId.bind(e),"getSessionId",v(e),g(e,["config"])),setSessionId:m(e.setSessionId.bind(e),"setSessionId",v(e),g(e,["config"])),extendSession:m(e.extendSession.bind(e),"extendSession",v(e),g(e,["config"])),setOptOut:m(e.setOptOut.bind(e),"setOptOut",v(e),g(e,["config"])),setTransport:m(e.setTransport.bind(e),"setTransport",v(e),g(e,["config"]))}};nI()},23822:(e,t,n)=>{"use strict";var r,i;n.d(t,{S:()=>i,e:()=>r}),function(e){e.SET="$set",e.SET_ONCE="$setOnce",e.ADD="$add",e.APPEND="$append",e.PREPEND="$prepend",e.REMOVE="$remove",e.PREINSERT="$preInsert",e.POSTINSERT="$postInsert",e.UNSET="$unset",e.CLEAR_ALL="$clearAll"}(r||(r={})),function(e){e.IDENTIFY="$identify",e.GROUP_IDENTIFY="$groupidentify",e.REVENUE="revenue_amount"}(i||(i={}))},37811:(e,t,n)=>{"use strict";n.d(t,{iE:()=>tg,Zh:()=>t_,Z3:()=>tS,bL:()=>ty,j8:()=>tw});var r,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,w,S,_=n(36870),E=n(86326),k=n(87561),C=n.n(k),T=n(38161),I=n(72386),N=n(1003),x=n(36337),A=n(93666),O=n(26167),R=n(73183),P=n(32402),D=n(5227),M=n(11234),L=n(2596),U=n(92148),j=n(47918),V=n(31194),H=n(49778);n(89463);var q=n(63237),B=n.n(q),F=n(76154),z=n.n(F),$=n(5229),K=n.n($),G=n(15313),Y=n.n(G),W=n(55482),J=n.n(W);let X={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:" "},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:""},an:{name:"Aragonese",nativeName:"aragons"},ar:{name:"Arabic",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" "},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},ba:{name:"Bashkir",nativeName:" "},be:{name:"Belarusian",nativeName:" "},bg:{name:"Bulgarian",nativeName:" "},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:""},bo:{name:"Tibetan",nativeName:""},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal"},ce:{name:"Chechen",nativeName:" "},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:""},cs:{name:"Czech",nativeName:"etina"},cu:{name:"Old Church Slavonic",nativeName:" "},cv:{name:"Chuvash",nativeName:" "},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:""},dz:{name:"Dzongkha",nativeName:""},ee:{name:"Ewe",nativeName:"Eegbe"},el:{name:"Greek",nativeName:""},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espaol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:""},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"froyskt"},fr:{name:"French",nativeName:"Franais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"Gidhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran",nativeName:"Avae'"},gu:{name:"Gujarati",nativeName:""},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:""},he:{name:"Hebrew",nativeName:""},hi:{name:"Hindi",nativeName:""},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Kreyl ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:""},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gky"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:" "},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:""},kn:{name:"Kannada",nativeName:""},ko:{name:"Korean",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:""},ku:{name:"Kurdish",nativeName:"Kurd"},kv:{name:"Komi",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:""},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"Ltzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latvieu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mi:{name:"Mori",nativeName:"te reo Mori"},mk:{name:"Macedonian",nativeName:" "},ml:{name:"Malayalam",nativeName:""},mn:{name:"Mongolian",nativeName:" "},mr:{name:"Marathi",nativeName:""},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:""},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din bizaad"},ny:{name:"Chichewa",nativeName:"chiChea"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:""},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:""},os:{name:"Ossetian",nativeName:" "},pa:{name:"Panjabi",nativeName:""},pi:{name:"Pli",nativeName:""},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Romn"},ru:{name:"Russian",nativeName:""},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:""},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sg:{name:"Sango",nativeName:"yng t sng"},si:{name:"Sinhala",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovenian",nativeName:"slovenina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:" "},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmene"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:" "},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:""},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang",nativeName:"Sa cue"},zh:{name:"Chinese",nativeName:""},zu:{name:"Zulu",nativeName:"isiZulu"}};class Q{static getLanguages(e=[]){return e.map(e=>({code:e,name:Q.getName(e),nativeName:Q.getNativeName(e)}))}static getName(e){return Q.validate(e)?X[e].name:""}static getAllNames(){return Object.values(X).map(e=>e.name)}static getNativeName(e){return Q.validate(e)?X[e].nativeName:""}static getAllNativeNames(){return Object.values(X).map(e=>e.nativeName)}static getCode(e){return Object.keys(X).find(t=>{let n=X[t];return n.name.toLowerCase()===e.toLowerCase()||n.nativeName.toLowerCase()===e.toLowerCase()})||""}static getAllCodes(){return Object.keys(X)}static validate(e){return X.hasOwnProperty(e)}}function Z(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function ee(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function et(e){return function(t,n){(0,T.B)({name:"isLongerThan",target:t.constructor,propertyName:n,options:e,validator:{validate:en,defaultMessage:()=>"$property must be a JSON Object with only string / number / boolean / null types"}})}}function en(e){if(!K()(e))return!1;for(let t in e){if(!C()(t))return!1;let n=e[t];if(J()(n)||!(C()(n)||B()(n)||z()(n)||Y()(n)))return!1}return!0}function er(e){return function(t,n){(0,T.B)({name:"isNotBlank",target:t.constructor,propertyName:n,options:e,validator:{validate:ei}})}}function ei(e){return"string"==typeof e&&e.trim().length>0}function eo(e){return(0,I.q)({name:"isISO6391",validator:{validate:(e,t)=>{var n;return"string"==typeof e&&(n=e,Q.validate(n.toLocaleLowerCase()))},defaultMessage:(0,I.Y)(e=>e+"$property must be a valid ISO6391 code",e)}},e)}!function(e){e.TARGETING_MATCH="TARGETING_MATCH",e.SPLIT="SPLIT",e.DEFAULT="DEFAULT",e.DISABLED="DISABLED",e.ERROR="ERROR",e.OVERRIDE="OVERRIDE",e.OPT_IN="OPT_IN"}(r||(r={})),function(e){e.ALL_USERS="All Users",e.AUDIENCE_MATCH="Audience Match",e.NOT_IN_AUDIENCE="Not in Audience",e.OPT_IN="Opt-In",e.NOT_OPTED_IN="Not Opt-In",e.OVERRIDE="Override",e.USER_ID="User ID",e.EMAIL="Email",e.COUNTRY="Country",e.PLATFORM="Platform",e.PLATFORM_VERSION="Platform Version",e.APP_VERSION="App Version",e.DEVICE_MODEL="Device Model",e.CUSTOM_DATA="Custom Data"}(i||(i={})),function(e){e.MISSING_CONFIG="Missing Config",e.MISSING_VARIABLE="Missing Variable",e.MISSING_FEATURE="Missing Feature",e.MISSING_VARIATION="Missing Variation",e.MISSING_VARIABLE_FOR_VARIATION="Missing Variable for Variation",e.USER_NOT_IN_ROLLOUT="User Not in Rollout",e.USER_NOT_TARGETED="User Not Targeted",e.INVALID_VARIABLE_TYPE="Invalid Variable Type",e.TYPE_MISMATCH="Variable Type Mismatch",e.UNKNOWN="Unknown",e.ERROR="Error"}(o||(o={}));let ea=({value:e})=>"true"===e||"false"!==e&&e,es=({value:e})=>{if(!e)return;let t=Number(e);return new Date(isNaN(t)?e:t)};class eu{isAnonymous;user_id;email;name;language;country;appVersion;appBuild;customData;privateCustomData;createdDate;lastSeenDate;platform;platformVersion;deviceModel;sdkType="api";sdkVersion}Z([(0,N.Zx)(),(0,x.X)(),(0,V.d)(ea),ee("design:type",Boolean)],eu.prototype,"isAnonymous",void 0),Z([(0,A.IP)(),er(),(0,O.Fv)(),ee("design:type",String)],eu.prototype,"user_id",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"email",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"name",void 0),Z([eo(),(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"language",void 0),Z([(0,R.Nt)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"country",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"appVersion",void 0),Z([(0,P.Mx)(),(0,x.X)(),(0,H.Z)(()=>Number),ee("design:type",Number)],eu.prototype,"appBuild",void 0),Z([et(),(0,x.X)(),(0,V.d)(({value:e})=>C()(e)?JSON.parse(e):e),ee("design:type",Object)],eu.prototype,"customData",void 0),Z([et(),(0,x.X)(),(0,V.d)(({value:e})=>C()(e)?JSON.parse(e):e),ee("design:type",Object)],eu.prototype,"privateCustomData",void 0),Z([(0,D.XF)(),(0,x.X)(),(0,V.d)(es),ee("design:type",Date)],eu.prototype,"createdDate",void 0),Z([(0,D.XF)(),(0,x.X)(),(0,V.d)(es),ee("design:type",Date)],eu.prototype,"lastSeenDate",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"platform",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"platformVersion",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"deviceModel",void 0),Z([(0,A.IP)(),(0,x.X)(),(0,M.Sf)(["client","server","mobile","api"]),(0,V.d)(({value:e})=>e),ee("design:type",String)],eu.prototype,"sdkType",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],eu.prototype,"sdkVersion",void 0),Z([(0,x.X)(),(0,V.d)(({value:e})=>C()(e)?JSON.parse(e):e),ee("design:type",Object)],(class extends eu{optIns}).prototype,"optIns",void 0);class ec{isAnonymous;user_id;email;name;language;country;appVersion;appBuild;customData;privateCustomData;createdDate;lastSeenDate;platform;platformVersion;deviceModel;sdkType;sdkVersion;isDebug}Z([(0,N.Zx)(),(0,V.d)(ea),ee("design:type",Boolean)],ec.prototype,"isAnonymous",void 0),Z([(0,A.IP)(),er(),(0,O.Fv)(),ee("design:type",String)],ec.prototype,"user_id",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],ec.prototype,"email",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],ec.prototype,"name",void 0),Z([eo(),(0,A.IP)(),(0,x.X)(),ee("design:type",String)],ec.prototype,"language",void 0),Z([(0,R.Nt)(),(0,x.X)(),ee("design:type",String)],ec.prototype,"country",void 0),Z([(0,A.IP)(),(0,x.X)(),ee("design:type",String)],ec.prototype,"appVersion",void 0),Z([(0,P.Mx)(),(0,x.X)(),(0,H.Z)(()=>Number),ee("design:type",Number)],ec.prototype,"appBuild",void 0),Z([et(),(0,x.X)(),(0,V.d)(({value:e})=>C()(e)?JSON.parse(e):e),ee("design:type",Object)],ec.prototype,"customData",void 0),Z([et(),(0,x.X)(),(0,V.d)(({value:e})=>C()(e)?JSON.parse(e):e),ee("design:type",Object)],ec.prototype,"privateCustomData",void 0),Z([(0,D.XF)(),(0,V.d)(es),ee("design:type",Date)],ec.prototype,"createdDate",void 0),Z([(0,D.XF)(),(0,V.d)(es),ee("design:type",Date)],ec.prototype,"lastSeenDate",void 0),Z([(0,A.IP)(),(0,O.Fv)(),ee("design:type",String)],ec.prototype,"platform",void 0),Z([(0,A.IP)(),(0,O.Fv)(),ee("design:type",String)],ec.prototype,"platformVersion",void 0),Z([(0,A.IP)(),(0,O.Fv)(),ee("design:type",String)],ec.prototype,"deviceModel",void 0),Z([(0,A.IP)(),(0,M.Sf)(["client","mobile"]),ee("design:type",String)],ec.prototype,"sdkType",void 0),Z([(0,A.IP)(),(0,O.Fv)(),ee("design:type",String)],ec.prototype,"sdkVersion",void 0),Z([(0,N.Zx)(),(0,x.X)(),(0,V.d)(({value:e})=>C()(e)?"true"===e:e),ee("design:type",Boolean)],ec.prototype,"isDebug",void 0),Z([(0,A.IP)(),er(),(0,O.Fv)(),ee("design:type",String)],(class{user_id}).prototype,"user_id",void 0);class el{type;target;date;value;metaData}Z([(0,O.Fv)(),(0,A.IP)(),ee("design:type",String)],el.prototype,"type",void 0),Z([(0,x.X)(),(0,A.IP)(),ee("design:type",String)],el.prototype,"target",void 0),Z([(0,x.X)(),(0,P.Mx)(),ee("design:type",Number)],el.prototype,"date",void 0),Z([(0,x.X)(),(0,P.Mx)(),ee("design:type",Number)],el.prototype,"value",void 0),Z([(0,x.X)(),(0,L.av)(),ee("design:type",Object)],el.prototype,"metaData",void 0);class ed{user;events}Z([(0,O.Fv)(),(0,U.K)(),(0,H.Z)(()=>eu),ee("design:type",eu)],ed.prototype,"user",void 0),Z([(0,O.Fv)(),(0,j.QS)(),(0,U.K)({each:!0}),(0,H.Z)(()=>el),ee("design:type",Array)],ed.prototype,"events",void 0),function(e){e["="]="=",e["!="]="!=",e[">"]=">",e[">="]=">=",e["<"]="<",e["<="]="<=",e.exist="exist",e["!exist"]="!exist",e.contain="contain",e["!contain"]="!contain",e.startWith="startWith",e["!startWith"]="!startWith",e.endWith="endWith",e["!endWith"]="!endWith"}(a||(a={})),function(e){e["="]="=",e.exist="exist",e["!exist"]="!exist"}(s||(s={})),function(e){e["="]="=",e["!="]="!=",e.exist="exist",e["!exist"]="!exist",e.contain="contain",e["!contain"]="!contain",e.startWith="startWith",e["!startWith"]="!startWith",e.endWith="endWith",e["!endWith"]="!endWith"}(u||(u={})),function(e){e["="]="=",e["!="]="!=",e[">"]=">",e[">="]=">=",e["<"]="<",e["<="]="<=",e.exist="exist",e["!exist"]="!exist"}(c||(c={})),function(e){e["="]="=",e["!="]="!=",e[">"]=">",e[">="]=">=",e["<"]="<",e["<="]="<=",e.exist="exist",e["!exist"]="!exist"}(l||(l={})),function(e){e.all="all",e.user="user",e.optIn="optIn",e.audienceMatch="audienceMatch"}(d||(d={})),function(e){e.user_id="user_id",e.email="email",e.country="country",e.platform="platform",e.platformVersion="platformVersion",e.appVersion="appVersion",e.deviceModel="deviceModel",e.customData="customData"}(f||(f={})),function(e){e.mixpanel="mixpanel",e.csv="csv"}(p||(p={})),function(e){e.string="String",e.boolean="Boolean",e.number="Number",e.semver="Semver"}(v||(v={})),function(e){e.and="and",e.or="or"}(h||(h={})),(g||(g={})).override="override";class ef{type;date;percentage}Z([(0,H.Z)(()=>Date),ee("design:type",Date)],ef.prototype,"date",void 0);class ep{type;startPercentage;startDate;stages}Z([(0,H.Z)(()=>Date),ee("design:type",Date)],ep.prototype,"startDate",void 0),Z([(0,H.Z)(()=>ef),ee("design:type",Array)],ep.prototype,"stages",void 0);class ev{_id;_audience;rollout;distribution;type;bucketingKey}Z([(0,H.Z)(()=>ep),ee("design:type",ep)],ev.prototype,"rollout",void 0);class eh{_id;prerequisites;winningVariation;forcedUsers;targets}Z([(0,H.Z)(()=>ev),ee("design:type",Array)],eh.prototype,"targets",void 0),function(e){e.api="api",e.dashboard="dashboard"}(m||(m={})),function(e){e.release="release",e.experiment="experiment",e.permission="permission",e.ops="ops"}(y||(y={}));class eg{_id;type;key;variations;configuration;settings;tags}Z([(0,H.Z)(()=>eh),ee("design:type",eh)],eg.prototype,"configuration",void 0),function(e){e.api="api",e.dashboard="dashboard",e.clientSDK="clientSDK",e.serverSDK="serverSDK"}(b||(b={})),function(e){e.string="String",e.boolean="Boolean",e.number="Number",e.json="JSON"}(w||(w={})),Z([(0,H.Z)(()=>eg),ee("design:type",Array)],(class{project;environment;features;variables;audiences;variableHashes;listAudiences;debugUsers;sse;ably;clientSDKKey}).prototype,"features",void 0);class em{type;target;customType;user_id;date;clientDate;value;featureVars;metaData}function ey(e,t,n,r){if("boolean"==typeof e)return w.boolean;if("number"==typeof e)return w.number;if("string"==typeof e)return w.string;if("object"==typeof e)return w.json;if(!r)return n.warn(`The default value for variable ${t} is not of type Boolean, Number, String, or JSON`),null;else throw Error(`The default value for variable ${t} is not of type Boolean, Number, String, or JSON`)}Z([(0,A.IP)(),ee("design:type",String)],em.prototype,"type",void 0),Z([(0,x.X)(),(0,A.IP)(),ee("design:type",String)],em.prototype,"target",void 0),Z([(0,x.X)(),(0,A.IP)(),ee("design:type",String)],em.prototype,"customType",void 0),Z([(0,A.IP)(),(0,O.Fv)(),ee("design:type",String)],em.prototype,"user_id",void 0),Z([(0,P.Mx)(),ee("design:type",Number)],em.prototype,"date",void 0),Z([(0,P.Mx)(),ee("design:type",Number)],em.prototype,"clientDate",void 0),Z([(0,x.X)(),(0,P.Mx)(),ee("design:type",Number)],em.prototype,"value",void 0),Z([(0,O.Fv)(),ee("design:type",Object)],em.prototype,"featureVars",void 0),Z([(0,x.X)(),ee("design:type",Object)],em.prototype,"metaData",void 0);class eb extends Error{constructor(e){super(e instanceof Error?e.message:e),this.name="UserError",e instanceof Error&&(this.stack=e.stack)}}var ew=n(80755),eS=n.n(ew),e_=n(59468),eE=n.n(e_),ek=n(31261),eC=n(37856),eT=n.n(eC);let eI={User:"dvc:user",AnonUserId:"dvc:anonymous_user_id",AnonymousConfig:"dvc:anonymous_config",IdentifiedConfig:"dvc:identified_config"},eN=e=>e instanceof Date?e.getTime():"object"==typeof e?JSON.stringify(e):e,ex=(e,t)=>{for(let n in e){let r=eN(e[n]);null!=r&&t.append(n,r)}},eA=(e,t)=>{if(!eO(t))throw Error(`Missing parameter: ${e}`)},eO=e=>null!=e,eR=(e,t,n)=>{if(!t)throw Error(`Missing parameter: ${e}`);if(typeof t!==n)throw Error(`${e} is not of type ${n}`)};function eP(){return"undefined"!=typeof self&&self.constructor&&"ServiceWorkerGlobalScope"===self.constructor.name}class eD{constructor(e){let{key:t,defaultValue:n}=e;eR("key",t,"string"),eA("defaultValue",n),this.key=t.toLowerCase(),void 0===e.value||null===e.value?(this.isDefaulted=!0,this.value=n):(this.value=e.value,this.isDefaulted=!1),this.defaultValue=e.defaultValue,this.eval=e.eval}onUpdate(e){return eR("callback",e,"function"),this.callback=e,this}}let eM={variableEvaluated:"variableEvaluated",variableDefaulted:"variableDefaulted"};class eL{constructor(e,t,n){var r,i;this.eventQueueBatchSize=100,this.sdkKey=e,this.client=t,this.eventQueue=[],this.aggregateEventMap={},this.options=n;let o="number"==typeof n.eventFlushIntervalMS?n.eventFlushIntervalMS:1e4;if(o<500)throw Error(`eventFlushIntervalMS: ${o} must be larger than 500ms`);if(o>6e4)throw Error(`eventFlushIntervalMS: ${o} must be smaller than 1 minute`);if(this.flushInterval=setInterval(this.flushEvents.bind(this),o),this.flushEventQueueSize=null!=(r=null==n?void 0:n.flushEventQueueSize)?r:100,this.maxEventQueueSize=null!=(i=null==n?void 0:n.maxEventQueueSize)?i:1e3,this.flushEventQueueSize>=this.maxEventQueueSize)throw Error(`flushEventQueueSize: ${this.flushEventQueueSize} must be smaller than maxEventQueueSize: ${this.maxEventQueueSize}`);if(this.flushEventQueueSize<10||this.flushEventQueueSize>1e3)throw Error(`flushEventQueueSize: ${this.flushEventQueueSize} must be between 10 and 1000`);if(this.maxEventQueueSize<100||this.maxEventQueueSize>5e3)throw Error(`maxEventQueueSize: ${this.maxEventQueueSize} must be between 100 and 5000`)}async flushEvents(){let e=this.client.user;if(!e)return void this.client.logger.warn("Skipping event flush, user has not been set yet.");let t=[...this.eventQueue],n=this.eventsFromAggregateEventMap();if(t.push(...n),t.length)for(let n of(this.client.logger.info(`Flush ${t.length} Events`),this.eventQueue=[],this.aggregateEventMap={},eS()(t,this.eventQueueBatchSize)))try{let t=await eQ(this.sdkKey,this.client.config,e,n,this.client.logger,this.options);201===t.status?this.client.logger.info(`DevCycle Flushed ${n.length} Events.`):t.status>=500||408===t.status?(this.client.logger.warn(`failed to flush events, retrying events. Response status: ${t.status}, message: ${t.statusText}`),this.eventQueue.push(...n)):this.client.logger.error(`failed to flush events, dropping events. Response status: ${t.status}, message: ${t.statusText}`)}catch(e){this.client.eventEmitter.emitError(e),this.client.logger.error(`failed to flush events due to error, dropping events. Error message: ${null==e?void 0:e.message}`)}}queueEvent(e){if(this.checkEventQueueSize())return void this.client.logger.warn(`DevCycle: Max event queue size (${this.maxEventQueueSize}) reached, dropping event: ${e}`);this.eventQueue.push(e)}queueAggregateEvent(e){if(this.checkEventQueueSize())return void this.client.logger.warn(`DevCycle: Max event queue size (${this.maxEventQueueSize}) reached, dropping event: ${e}`);eA("type",e.type),eA("target",e.target),e.date=Date.now(),e.value=1;let t=this.aggregateEventMap[e.type];t?t[e.target]?t[e.target].value++:t[e.target]=e:this.aggregateEventMap[e.type]={[e.target]:e}}checkEventQueueSize(){let e=Object.values(this.aggregateEventMap).reduce((e,t)=>e+Object.keys(t).length,0),t=this.eventQueue.length+e;return t>=this.flushEventQueueSize&&this.flushEvents(),t>=this.maxEventQueueSize}eventsFromAggregateEventMap(){return Object.values(this.aggregateEventMap).map(e=>Object.values(e)).flat()}async close(){clearInterval(this.flushInterval),await this.flushEvents()}}class eU{constructor(e,t,n){var r;let{type:i,target:o,date:a,value:s,metaData:u}=e;eA("type",i);let c=!(i in eM);if(this.type=c?"customEvent":i,this.customType=c?i:void 0,this.target=o,this.user_id=t,this.clientDate=a||Date.now(),this.value=s,n&&(null==(r=n.settings)?void 0:r.filterFeatureVars)&&("variableEvaluated"===i||"variableDefaulted"===i)&&o){let e=null==n?void 0:n.variables[o],t=null==e?void 0:e._feature;this.featureVars=t&&(null==n?void 0:n.featureVariationMap[t])?{[t]:null==n?void 0:n.featureVariationMap[t]}:{}}else this.featureVars=(null==n?void 0:n.featureVariationMap)||{};this.metaData=u}}class ej extends Error{constructor(e){super(e),this.name="ResponseError"}}let eV=e=>{let t=100*Math.pow(2,e),n=.2*t*Math.random();return t+n},eH=e=>(t,n,r)=>!(t>=e)&&(!r||!((null==r?void 0:r.status)<500));async function eq(e){if(!e.ok&&e.status>=400){let t;try{let n=await e.clone().json();t=new ej(n.message||"Something went wrong")}catch(e){t=new ej("Something went wrong")}throw t.status=e.status,t}return e}async function eB(e,t,n){var r;let i=new AbortController;try{let r=setTimeout(()=>{i.abort()},n),o=await e$(e,{...t,signal:i.signal});return clearTimeout(r),o}catch(e){if(null==(r=null==i?void 0:i.signal)?void 0:r.aborted)throw Error("Network connection timed out.");throw e}}async function eF(e,t,n){let[r,i]=await eK(t),o={...i.headers,Authorization:n,"Content-Type":"application/json"};return eq(await r(e,{...i,headers:o,method:"POST"}))}async function ez(e,t,n){let[r,i]=await eK(t),o={...i.headers,Authorization:n,"Content-Type":"application/json"};return eq(await r(e,{...i,headers:o,method:"PATCH"}))}async function e$(e,t){let[n,r]=await eK(t),i={...r.headers,"Content-Type":"application/json"};return eq(await n(e,{...r,headers:i,method:"GET"}))}async function eK(e){if("retries"in e&&e.retries){let t={...e};return t.retryOn=eH(e.retries),t.retryDelay=eV,[eE()(fetch),t]}return[fetch,e]}let eG=".devcycle.com",eY="https://sdk-api"+eG,eW="https://events"+eG,eJ={retries:5,retryDelay:eV},eX=async(e,t,n,r,i)=>{let o=new URLSearchParams({sdkKey:e});ex(t,o),(null==r?void 0:r.enableEdgeDB)&&o.append("enableEdgeDB",r.enableEdgeDB.toString()),(null==i?void 0:i.sse)&&(o.append("sse","1"),i.lastModified&&o.append("sseLastModified",i.lastModified.toString()),i.etag&&o.append("sseEtag",i.etag)),(null==r?void 0:r.enableObfuscation)&&o.append("obfuscated","1");let a=`${(null==r?void 0:r.apiProxyURL)||eY}/v1/sdkConfig?`+o.toString();try{let e=await eB(a,eJ,5e3);return await e.json()}catch(e){if(n.error(`Request to get config failed for url: ${a}, response message: ${e}`),e instanceof ej){if(401===e.status||403===e.status)throw new eb(`Invalid SDK Key. Error details: ${e.message}`);throw Error(`Failed to download DevCycle config. Error details: ${e.message}`)}throw Error(`Failed to download DevCycle config. Error details: ${e}`)}},eQ=async(e,t,n,r,i,o)=>{if(!e)throw Error("Missing sdkKey to publish events to Events API");let a=function(e,t,n){return{events:n.map(n=>new eU(n,t.user_id,e)),user:t}}(t,n,r);i.info(`Submit Events Payload: ${JSON.stringify(a)}`);let s=`${(null==o?void 0:o.apiProxyURL)||eW}/v1/events`;(null==o?void 0:o.enableObfuscation)&&(s+="?obfuscated=1");let u=await eF(s,{...eJ,body:JSON.stringify(a)},e),c=await u.json();return u.status>=400?i.error(`Error posting events, status: ${u.status}, body: ${c}`):i.info(`Posted Events, status: ${u.status}, body: ${c}`),u},eZ=async(e,t,n,r)=>{if(!t)throw Error("Missing sdkKey to save to Edge DB!");if(!e||!e.user_id)throw Error("Missing user to save to Edge DB!");if(e.isAnonymous)throw Error("Cannot save user data for an anonymous user!");try{return await ez(`${(null==r?void 0:r.apiProxyURL)||eY}/v1/edgedb/${encodeURIComponent(e.user_id)}`,{...eJ,body:JSON.stringify(e)},t)}catch(e){403===e.status?n.warn("Warning: EdgeDB feature is not enabled for this project"):e.status>=400?n.warn(`Error saving user entity, status: ${e.status}, body: ${e.message}`):n.info(`Saved user entity, status: ${e.status}, body: ${e.message}`);return}};var e0={version:"1.41.0"};class e1{constructor(e,t,n,r,i){var o;if((null==(o=e.user_id)?void 0:o.trim())==="")throw Error("A User cannot be created with a user_id that is an empty string");this.user_id=e.isAnonymous||!e.user_id?e.user_id||r||(0,ek.A)():e.user_id,this.isAnonymous=e.isAnonymous||!e.user_id,this.email=e.email,this.name=e.name,this.language=e.language,this.country=e.country,this.appVersion=e.appVersion,this.appBuild=e.appBuild,this.customData=e.customData,this.privateCustomData=e.privateCustomData,this.lastSeenDate=new Date;let a="undefined"!=typeof window?window.navigator.userAgent:i;if(n)Object.assign(this,n);else{let e=new(eT())(a),n=e.getBrowser().name&&`${e.getBrowser().name} ${e.getBrowser().version}`;this.createdDate=new Date,this.platform=(null==t?void 0:t.reactNative)?"ReactNative":"web",this.platformVersion=null!=n?n:"unknown",this.deviceModel=(null==t?void 0:t.reactNative)&&globalThis.DeviceInfo?globalThis.DeviceInfo.getModel():null!=a?a:"SSR - unknown",this.sdkType="client",this.sdkVersion=e0.version,this.sdkPlatform=null==t?void 0:t.sdkPlatform}}getStaticData(){return{createdDate:this.createdDate,platform:this.platform,platformVersion:this.platformVersion,deviceModel:this.deviceModel,sdkType:this.sdkType,sdkVersion:this.sdkVersion,sdkPlatform:this.sdkPlatform}}updateUser(e,t){if(this.user_id!==e.user_id)throw Error("Cannot update a user with a different user_id");return new e1(e,t,this.getStaticData())}}class e2{constructor(e,t,n=2592e6){this.store=e,this.logger=t,this.configCacheTTL=n}getConfigKey(e){return e.isAnonymous?`${eI.AnonymousConfig}.${e.user_id}`:`${eI.IdentifiedConfig}.${e.user_id}`}getConfigExpiryKey(e){return`${this.getConfigKey(e)}.expiry_date`}async loadConfigExpiryDate(e){let t=this.getConfigExpiryKey(e);return parseInt(await this.store.load(t)||"0",10)}async saveConfig(e,t){var n;let r=this.getConfigKey(t),i=this.getConfigExpiryKey(t),o=Date.now()+this.configCacheTTL;await Promise.all([this.store.save(r,e),this.store.save(i,o)]),null==(n=this.logger)||n.info(`Successfully saved config for user ${t.user_id} to local storage`)}isBucketedUserConfig(e){return!!e&&"object"==typeof e&&"features"in e&&"project"in e&&"environment"in e&&"featureVariationMap"in e&&"variableVariationMap"in e&&"variables"in e}async loadConfig(e){var t,n,r;await this.migrateLegacyConfigs(),await this.cleanupExpiredConfigs();let i=this.getConfigKey(e),o=await this.store.load(i);if(!o)return null==(t=this.logger)||t.debug("Skipping cached config: no config found"),null;if(!this.isBucketedUserConfig(o))return null==(n=this.logger)||n.debug(`Skipping cached config: invalid config found: ${JSON.stringify(o)}`),null;let a=await this.loadConfigExpiryDate(e);if(Date.now()>a){null==(r=this.logger)||r.debug("Skipping cached config: config has expired");let t=this.getConfigExpiryKey(e);return await Promise.all([this.store.remove(i),this.store.remove(t)]),null}return o}async saveAnonUserId(e){var t;await this.store.save(eI.AnonUserId,e),null==(t=this.logger)||t.info("Successfully saved anonymous user id to local storage")}async loadAnonUserId(){return await this.store.load(eI.AnonUserId)}async removeAnonUserId(){let e=await this.loadAnonUserId();if(e){let t=`${eI.AnonymousConfig}.${e}`,n=`${t}.expiry_date`;await Promise.all([this.store.remove(t),this.store.remove(n)])}await this.store.remove(eI.AnonUserId)}async migrateLegacyConfigs(){await Promise.all([this.migrateLegacyConfigType(eI.AnonymousConfig,!0),this.migrateLegacyConfigType(eI.IdentifiedConfig,!1)])}async migrateLegacyConfigType(e,t){var n,r;try{let r=await this.store.load(e);if(!r||!this.isBucketedUserConfig(r))return;let i=`${e}.user_id`,o=await this.store.load(i);if(!o)return;let a=new e1({user_id:o,isAnonymous:t},{}),s=`${e}.fetch_date`,u=this.getConfigKey(a);if(await this.store.load(u))return void await Promise.all([this.store.remove(e),this.store.remove(i),this.store.remove(s),this.store.remove(eI.User)]);null==(n=this.logger)||n.debug(`Migrating legacy ${t?"anonymous":"identified"} config for user ${o} to new format`),await this.saveConfig(r,a),await Promise.all([this.store.remove(e),this.store.remove(i),this.store.remove(s),this.store.remove(eI.User)])}catch(t){null==(r=this.logger)||r.debug(`Failed to migrate legacy config from ${e}: ${t}`)}}async cleanupExpiredConfigs(){var e,t,n,r;if(!this.store.listKeys){null==(e=this.logger)||e.debug("Storage does not support key enumeration, skipping cleanup");return}try{let e=Date.now();for(let r of[eI.AnonymousConfig,eI.IdentifiedConfig])for(let i of(await this.store.listKeys(r))){if(i.endsWith(".expiry_date"))continue;let r=`${i}.expiry_date`,o=await this.store.load(r);if(o){let n=parseInt(o,10);e>n&&(null==(t=this.logger)||t.debug(`Cleaning up expired config: ${i}`),await Promise.all([this.store.remove(i),this.store.remove(r)]))}else null==(n=this.logger)||n.debug(`Cleaning up orphaned config: ${i}`),await this.store.remove(i)}}catch(e){null==(r=this.logger)||r.debug(`Failed to cleanup expired configs: ${e}`)}}}class e3{}class e4 extends e3{constructor(e=!1){super(),this.isTesting=e,this.init()}async init(){this.store=this.isTesting?e6:window.localStorage}async save(e,t){this.store.setItem(e,JSON.stringify(t))}async load(e){let t=this.store.getItem(e);return t?JSON.parse(t):void 0}async remove(e){this.store.removeItem(e)}async listKeys(e){let t=[];for(let n=0;n<this.store.length;n++){let r=this.store.key(n);r&&r.startsWith(e)&&t.push(r)}return t}}let e6={getItem:()=>null,setItem:()=>void 0,removeItem:()=>void 0,clear:()=>void 0,key:()=>null,length:0};class e5 extends e3{constructor(){super(),this.connectionPromise=new Promise((e,t)=>{this.init().then(t=>{this.store=t,this.isReady=!0,e()}).catch(e=>t(e))})}async init(){return new Promise((e,t)=>{let n=indexedDB.open(e5.DBName,1);n.onupgradeneeded=e=>{let t=n.result;t.objectStoreNames.contains(e5.storeName)||t.createObjectStore(e5.storeName,{keyPath:"id"})},n.onsuccess=t=>{e(n.result)},n.onerror=e=>{t(n.error)}})}async save(e,t){await this.connectionPromise,this.store.transaction(e5.storeName,"readwrite").objectStore(e5.storeName).put({id:e,data:t})}async load(e){await this.connectionPromise;let t=this.store.transaction(e5.storeName,"readonly").objectStore(e5.storeName).get(e);return new Promise((e,n)=>{t.onsuccess=()=>{e(t.result?t.result.data:void 0)},t.onerror=()=>n(t.error)})}async remove(e){await this.connectionPromise,this.store.transaction(e5.storeName,"readwrite").objectStore(e5.storeName).delete(e)}async listKeys(e){let t=[];await this.connectionPromise;let n=this.store.transaction(e5.storeName,"readonly").objectStore(e5.storeName).openCursor();return new Promise((r,i)=>{n.onsuccess=n=>{let i=n.target.result;if(i){let n=i.key;n.startsWith(e)&&t.push(n),i.continue()}else r(t)},n.onerror=()=>i(n.error)})}}e5.storeName="DevCycleStore",e5.DBName="DevCycleDB";let e8={INITIALIZED:"initialized",NEW_VARIABLES:"newVariables",ERROR:"error",VARIABLE_UPDATED:"variableUpdated",FEATURE_UPDATED:"featureUpdated",CONFIG_UPDATED:"configUpdated",VARIABLE_EVALUATED:"variableEvaluated"},e9=e=>!Object.values(e8).includes(e)&&!e.startsWith(e8.VARIABLE_UPDATED)&&!e.startsWith(e8.FEATURE_UPDATED)&&!e.startsWith(e8.NEW_VARIABLES)&&!e.startsWith(e8.VARIABLE_EVALUATED);class e7{constructor(){this.handlers={}}subscribe(e,t){if(eR("key",e,"string"),eR("handler",t,"function"),e9(e))throw Error("Not a valid event to subscribe to");this.handlers[e]?this.handlers[e].push(t):this.handlers[e]=[t]}unsubscribe(e,t){if(eR("key",e,"string"),!e9(e))if(t){let n=this.handlers[e].findIndex(e=>e===t);this.handlers[e].splice(n,1)}else this.handlers[e]=[]}emit(e,...t){var n;eR("key",e,"string"),null==(n=this.handlers[e])||n.forEach(e=>{new Promise(n=>{e(...t),n(!0)})})}emitInitialized(e){this.emit(e8.INITIALIZED,e)}emitError(e){this.emit(e8.ERROR,e)}emitConfigUpdate(e){this.emit(e8.CONFIG_UPDATED,e)}emitVariableEvaluated(e){this.emit(`${e8.VARIABLE_EVALUATED}:*`,e.key,e),this.emit(`${e8.VARIABLE_EVALUATED}:${e.key}`,e.key,e)}emitVariableUpdates(e,t,n){let r=new Set(Object.keys(e).concat(Object.keys(t))),i=!1;r.forEach(r=>{let o=e[r]&&e[r].value,a=t[r],s=a&&t[r].value;if(JSON.stringify(o)!==JSON.stringify(s)){let e=n[r]&&Object.values(n[r]);e&&(i=!0,e.forEach(e=>{var t;e.value=null!=s?s:e.defaultValue,e.isDefaulted=null==s,null==(t=e.callback)||t.call(e,e.value)}));let t=a||null;this.emit(`${e8.VARIABLE_UPDATED}:*`,r,t),this.emit(`${e8.VARIABLE_UPDATED}:${r}`,r,t)}}),i&&this.emit(`${e8.NEW_VARIABLES}`)}emitFeatureUpdates(e,t){Object.keys(e).concat(Object.keys(t)).forEach(n=>{let r=e[n]&&e[n]._variation,i=t[n],o=i&&t[n]._variation,a=i||null;r!==o&&(this.emit(`${e8.FEATURE_UPDATED}:*`,n,a),this.emit(`${e8.FEATURE_UPDATED}:${n}`,n,a))})}}class te{constructor(e,t,n){this.requestConfigFunction=e,this.handleConfigReceivedFunction=t,this.nextUser=n,this.resolvers=[],this.requestParams=null}async queue(e,t){e&&(this.nextUser=e),t&&(this.requestParams=t);let n=new Promise((e,t)=>{this.resolvers.push({resolve:e,reject:t})});return this.currentPromise||this.processQueue(),n}async processQueue(){if(!this.resolvers.length)return;let e=this.resolvers.splice(0);await this.performRequest(this.nextUser).then(t=>{this.resolvers.length?this.resolvers.push(...e):(this.handleConfigReceivedFunction(t,this.nextUser),e.forEach(({resolve:e})=>e(t)))}).catch(t=>{e.forEach(({reject:e})=>e(t))}),this.resolvers.length&&this.processQueue()}async performRequest(e){return this.currentPromise=this.requestConfigFunction(e,this.requestParams?this.requestParams:void 0),this.requestParams=null,await this.currentPromise.finally(()=>{this.currentPromise=null})}}let tt="[DevCycle]: ";!function(e){e[e.debug=0]="debug",e[e.info=1]="info",e[e.warn=2]="warn",e[e.error=3]="error"}(S||(S={}));class tn{constructor(e,t,n){this.url=e,this.onMessage=t,this.logger=n,this.openConnection()}updateURL(e){this.close(),this.url=e,this.openConnection()}openConnection(){if("undefined"==typeof EventSource)return void this.logger.warn("StreamingConnection not opened. EventSource is not available.");this.connection=new EventSource(this.url,{withCredentials:!0}),this.connection.onmessage=e=>{this.onMessage(e.data)},this.connection.onerror=()=>{this.logger.warn("StreamingConnection warning. Connection failed to establish.")},this.connection.onopen=()=>{this.logger.debug("StreamingConnection opened")}}isConnected(){var e,t;return(null==(e=this.connection)?void 0:e.readyState)===(null==(t=this.connection)?void 0:t.OPEN)}reopen(){this.isConnected()||(this.close(),this.openConnection())}close(){var e;null==(e=this.connection)||e.close()}}class tr{get isInitialized(){return this._isInitialized}constructor(e,t,n={}){var r;if(this._isInitialized=!1,this.userSaved=!1,this._closing=!1,this.isConfigCached=!1,this.initializeTriggered=!1,this.clientInitialization=async e=>{if(this.initializeTriggered||this._closing)return this;this.initializeTriggered=!0;let t=e.user_id?void 0:await this.store.loadAnonUserId();this.user=new e1(e,this.options,void 0,t),this.options.bootstrapConfig||await this.getConfigCache(this.user),this.requestConsolidator=new te((e,t)=>eX(this.sdkKey,e,this.logger,this.options,t),(e,t)=>this.handleConfigReceived(e,t),this.user);try{this.options.bootstrapConfig?this.handleConfigReceived(this.options.bootstrapConfig,this.user):await this.requestConsolidator.queue(this.user),this._isInitialized=!0,this.settleOnInitialized(this),this.logger.info("Client initialized")}catch(e){return this.initializeOnConfigFailure(this.user,e),this}return this.eventEmitter.emitInitialized(!0),this.user.isAnonymous&&this.store.saveAnonUserId(this.user.user_id),this},this.initializeOnConfigFailure=(e,t)=>{this.isInitialized||(this.eventEmitter.emitInitialized(!1),t&&this.eventEmitter.emitError(t),this.setUser(e),this.settleOnInitialized(this,t instanceof eb?t:null))},n.sdkPlatform||(n.sdkPlatform="js"),(null==(r=n.next)?void 0:r.configRefreshHandler)&&(this.configRefetchHandler=n.next.configRefreshHandler),this.logger=n.logger||function(e){let t=(null==e?void 0:e.level)&&B()(S[null==e?void 0:e.level])?S[null==e?void 0:e.level]:S.error,n=(null==e?void 0:e.logWriter)||console.log,r=(null==e?void 0:e.logWriter)||console.error,i=e=>n(tt+e),o=e=>{};return{error:S.error>=t?(e,t)=>r(tt+e,t):o,warn:S.warn>=t?i:o,info:S.info>=t?i:o,debug:S.debug>=t?i:o}}({level:n.logLevel}),this.store=new e2(n.storage||(eP()?new e5:new e4("undefined"==typeof window)),this.logger,n.configCacheTTL),this.options=n,this.sdkKey=e,this.variableDefaultMap={},this.options.disableAutomaticEventLogging&&this.options.disableCustomEventLogging||(this.eventQueue=new eL(e,this,n)),this.eventEmitter=new e7,this.options.disableRealtimeUpdates||this.registerVisibilityChangeHandler(),this.onInitialized=new Promise((e,t)=>{this.settleOnInitialized=(n,r)=>{r?(this._isInitialized=!1,t(r)):(this._isInitialized=!0,e(n))}}),this.options.deferInitialization){if(this.options.bootstrapConfig)throw Error("bootstrapConfig option can not be combined with deferred initialization!")}else{if(!t)throw Error("User must be provided to initialize SDK");this.clientInitialization(t)}(null==n?void 0:n.reactNative)||"undefined"==typeof window||(this.windowMessageHandler=e=>{let t=e.data;(null==t?void 0:t.type)==="DVC.optIn.saved"&&this.refetchConfig(!1)},window.addEventListener("message",this.windowMessageHandler),this.windowPageHideHandler=()=>{this.flushEvents()},window.addEventListener("pagehide",this.windowPageHideHandler))}onClientInitialized(e){return e&&"function"==typeof e?void this.onInitialized.then(()=>e(null,this)).catch(t=>e(t)):this.onInitialized}variable(e,t){var n,r;let i;if(null==t)throw Error("Default value is a required param");let o=ey(t,e,this.logger,!0),a="string"==typeof t?t:JSON.stringify(t);if(this.variableDefaultMap[e]&&this.variableDefaultMap[e][a])i=this.variableDefaultMap[e][a];else{let s=null==(r=null==(n=this.config)?void 0:n.variables)?void 0:r[e],u={key:e,defaultValue:t};s&&(s.type===o?(u.value=s.value,u.eval=s.eval):this.logger.warn(`Type mismatch for variable ${e}. Expected ${o}, got ${s.type}`)),i=new eD(u),this.variableDefaultMap[e]={[a]:i,...this.variableDefaultMap[e]}}return this.trackVariableEvaluated(i),this.eventEmitter.emitVariableEvaluated(i),i}trackVariableEvaluated(e){var t,n,r;if(!this.options.disableAutomaticEventLogging)try{let i=null==(n=null==(t=this.config)?void 0:t.variables)?void 0:n[e.key];null==(r=this.eventQueue)||r.queueAggregateEvent({type:e.isDefaulted?eM.variableDefaulted:eM.variableEvaluated,target:e.key,metaData:{value:e.value,type:ey(e.defaultValue,e.key,this.logger),_variable:null==i?void 0:i._id}})}catch(e){this.eventEmitter.emitError(e),this.logger.warn(`Error with queueing aggregate events ${e}`)}}variableValue(e,t){return this.variable(e,t).value}identifyUser(e,t){if(this.options.next)return void this.logger.error("Unable to change user identity from the clientside in Next.js");let n=this._identifyUser(e);return t&&"function"==typeof t?void n.then(e=>t(null,e)).catch(e=>t(e,null)):n}async _identifyUser(e){var t,n;let r;if(this.options.deferInitialization&&!this.initializeTriggered)return await this.clientInitialization(e),(null==(t=this.config)?void 0:t.variables)||{};null==(n=this.eventQueue)||n.flushEvents();try{await this.onInitialized;let t=await this.store.loadAnonUserId();r=this.user&&e.user_id===this.user.user_id?this.user.updateUser(e,this.options):new e1(e,this.options,void 0,t);let n=await this.requestConsolidator.queue(r);return(e.isAnonymous||!e.user_id)&&await this.store.saveAnonUserId(r.user_id),n.variables||{}}catch(e){throw this.eventEmitter.emitError(e),e}}resetUser(e){let t;if(this.options.next)return void this.logger.error("Unable to change user identity from the clientside in Next.js");let n=new e1({isAnonymous:!0},this.options),r=new Promise((e,r)=>{var i;null==(i=this.eventQueue)||i.flushEvents(),this.onInitialized.then(()=>this.store.loadAnonUserId()).then(async e=>{await this.store.removeAnonUserId(),t=e}).then(()=>this.requestConsolidator.queue(n)).then(async t=>{await this.store.saveAnonUserId(n.user_id),e(t.variables||{})}).catch(async e=>{this.eventEmitter.emitError(e),t&&await this.store.saveAnonUserId(t),r(e)})});return e&&"function"==typeof e?void r.then(t=>e(null,t)).catch(t=>e(t,null)):r}allFeatures(){var e;return(null==(e=this.config)?void 0:e.features)||{}}allVariables(){var e;return(null==(e=this.config)?void 0:e.variables)||{}}subscribe(e,t){this.eventEmitter.subscribe(e,t)}unsubscribe(e,t){this.eventEmitter.unsubscribe(e,t)}track(e){if(this._closing)return void this.logger.error("Client is closing, cannot track new events.");this.options.disableCustomEventLogging||(eA("type",e.type),this.onInitialized.then(()=>{var t;null==(t=this.eventQueue)||t.queueEvent(e)}))}flushEvents(e){var t,n;return null!=(n=null==(t=this.eventQueue)?void 0:t.flushEvents().then(()=>null==e?void 0:e()))?n:Promise.resolve().then(()=>null==e?void 0:e())}async close(){var e,t;this.logger.debug("Closing client"),this._closing=!0,document&&this.pageVisibilityHandler&&document.removeEventListener("visibilitychange",this.pageVisibilityHandler),this.windowMessageHandler&&window.removeEventListener("message",this.windowMessageHandler),this.windowPageHideHandler&&window.removeEventListener("pagehide",this.windowPageHideHandler),null==(e=this.streamingConnection)||e.close(),await (null==(t=this.eventQueue)?void 0:t.close())}get closing(){return this._closing}synchronizeBootstrapData(e,t,n){let r=new e1(t,this.options,void 0,void 0,n);return e?(this.options.bootstrapConfig=e,this.options.deferInitialization&&!this.initializeTriggered)?void this.clientInitialization(t):void this.handleConfigReceived(e,r):void this.initializeOnConfigFailure(r)}async refetchConfig(e,t,n){await this.onInitialized,this.configRefetchHandler?this.configRefetchHandler(t):await this.requestConsolidator.queue(null,{sse:e,lastModified:t,etag:n})}handleConfigReceived(e,t){var n,r,i,o,a;let s=this.config;this.config=e,this.store.saveConfig(e,t),this.isConfigCached=!1,this.setUser(t);let u=(null==s?void 0:s.features)||{},c=(null==s?void 0:s.variables)||{};this.eventEmitter.emitFeatureUpdates(u,e.features),this.eventEmitter.emitVariableUpdates(c,e.variables,this.variableDefaultMap);let l=null==(i=null==(r=null==(n=this.config)?void 0:n.sse)?void 0:r.url)?void 0:i.includes("dvc_user");if((!s||l||s.etag!==this.config.etag)&&this.eventEmitter.emitConfigUpdate(e.variables),null==(o=null==e?void 0:e.sse)?void 0:o.url)if(this.streamingConnection)e.sse.url!==(null==(a=null==s?void 0:s.sse)?void 0:a.url)&&this.streamingConnection.updateURL(e.sse.url);else if(this.options.disableRealtimeUpdates)this.logger.info("Disabling Realtime Updates based on Initialization parameter");else{let t=this.options.sseConnectionClass||tn;this.streamingConnection=new t(e.sse.url,this.onSSEMessage.bind(this),this.logger)}}async setUser(e){var t;if(this.user!=e||!this.userSaved){if(this.user=e,!this.user.isAnonymous&&ti(this.logger,this.config,null==(t=this.options)?void 0:t.enableEdgeDB,!0)){let e=await eZ(this.user,this.sdkKey,this.logger,this.options);this.logger.info(`Saved response entity! ${e}`)}this.userSaved=!0}}onSSEMessage(e){var t,n;try{let r=JSON.parse(e),i=JSON.parse(r.data);if(!i)return;i.type&&"refetchConfig"!==i.type||(null==(t=this.config)?void 0:t.etag)&&i.etag===(null==(n=this.config)?void 0:n.etag)||this.refetchConfig(!0,i.lastModified,i.etag).catch(e=>{this.logger.warn(`Failed to refetch config ${e}`)})}catch(e){this.logger.warn(`Streaming Connection: Unparseable message ${e}`)}}registerVisibilityChangeHandler(){var e,t,n;if("undefined"==typeof document)return;let r=(null==(t=null==(e=this.config)?void 0:e.sse)?void 0:t.inactivityDelay)||12e4;this.pageVisibilityHandler=()=>{var e,t,n;(null==(e=this.config)?void 0:e.sse)&&("visible"===document.visibilityState?((null==(t=this.streamingConnection)?void 0:t.isConnected())||(this.logger.debug("Page became visible, refetching config"),this.refetchConfig(!1).catch(e=>{this.logger.warn(`Failed to refetch config ${e}`)}),null==(n=this.streamingConnection)||n.reopen()),null==window||window.clearTimeout(this.inactivityHandlerId)):(null==window||window.clearTimeout(this.inactivityHandlerId),this.inactivityHandlerId=null==window?void 0:window.setTimeout(()=>{var e;this.logger.debug("Page is not visible, closing streaming connection"),null==(e=this.streamingConnection)||e.close()},r)))},null==(n=document.addEventListener)||n.call(document,"visibilitychange",this.pageVisibilityHandler)}async getConfigCache(e){if(this.options.disableConfigCache)return void this.logger.info("Skipping config cache");let t=await this.store.loadConfig(e);t&&(this.config=t,this.isConfigCached=!0,this.eventEmitter.emitFeatureUpdates({},t.features),this.eventEmitter.emitVariableUpdates({},t.variables,this.variableDefaultMap),this.logger.debug("Initialized with a cached config"))}}let ti=(e,t,n,r=!1)=>{var i,o,a;return(null==(a=null==(o=null==(i=null==t?void 0:t.project)?void 0:i.settings)?void 0:o.edgeDB)?void 0:a.enabled)?!!n:(n&&r&&e.warn("EdgeDB is not enabled for this project. Only using local user data."),!1)},to=(e,t={})=>{let n;if(e&&"deferInitialization"in e){if(e.deferInitialization)return{user:void 0,options:e,isDeferred:!0}}else n=e;if(!n)throw Error("Missing user! Call initialize with a valid user");return{user:n,options:t,isDeferred:!1}};function ta(e,t,n={}){let r;if(!e)throw new eb("Missing SDK key! Call initialize with a valid SDK key");if(!e.startsWith("client")&&!e.startsWith("dvc_client")&&!(null==n?void 0:n.next))throw new eb("Invalid SDK key provided. Please call initialize with a valid client SDK key");let i=to(t,n),{options:o}=i,a=eP();if("undefined"!=typeof window&&!window.addEventListener&&!a&&!(null==o?void 0:o.reactNative))throw Error("Window is not defined, try initializing in a browser context. If running on React Native, initialize with the option reactNative: true");if((null==o?void 0:o.reactNative)&&!globalThis.DeviceInfo)throw Error("DeviceInfo is not defined. Import react-native-device-info and set global.DeviceInfo when running on React Native");if(!o||null===o)throw Error("Invalid options! Call initialize with valid options");return(r=i.isDeferred?new tr(e,void 0,i.options):new tr(e,i.user,i.options)).onClientInitialized().then(()=>r.logger.info("Successfully initialized DevCycle!")).catch(e=>r.logger.error(`Error initializing DevCycle: ${e}`)),r}var ts=n(2396),tu=n.n(ts);let tc=(0,E.createContext)(void 0),{Provider:tl,Consumer:td}=tc,tf=(0,E.createContext)({isInitialized:!1}),tp={showConditionalBorders:!1,borderColor:"#ff6347"},tv=(0,E.createContext)(tp),th=(e,t={isAnonymous:!0},n)=>(null==n?void 0:n.deferInitialization)?ta(e,{sdkPlatform:"react",...n,deferInitialization:!0,bootstrapConfig:void 0}):ta(e,t,{sdkPlatform:"react",...n}),tg=()=>{let e=(0,E.useContext)(tc);if(void 0===e)throw Error("useDevCycleClient must be used within DevCycleProvider");return e.client},tm=(e,t)=>{let n=(0,E.useContext)(tc),[r,i]=(0,E.useState)({}),o=(0,E.useCallback)(()=>i({}),[]);if(void 0===n)throw Error("useVariable must be used within DevCycleProvider");return(0,E.useEffect)(()=>(n.client.subscribe(`variableUpdated:${e}`,o),()=>{n.client.unsubscribe(`variableUpdated:${e}`,o)}),[n,e,o]),n.client.variable(e,t)},ty=(e,t)=>tm(e,t).value;function tb(e){var t,n;let r,{config:i}=e,{user:o,options:a}=i,[s,u]=(0,E.useState)(!1);if(!(r="sdkKey"in i?i.sdkKey:i.envKey))throw Error("You must provide a sdkKey to DevCycleProvider");let c=(0,E.useRef)(),[l,d]=(0,E.useState)({});void 0===c.current&&(c.current=th(r,o,{...a})),(0,E.useEffect)(()=>(void 0===c.current&&(c.current=th(r,o,{...a}),d({})),c.current.onClientInitialized().then(()=>{u(!0)}).catch(()=>{console.log("Error initializing DevCycle."),u(!0)}),()=>{var e;null==(e=c.current)||e.close(),c.current=void 0}),[r,o,a]);let f=Object.assign({},tp,null!=(n=null==(t=e.config.options)?void 0:t.reactDebug)?n:{});return(0,_.jsx)(tl,{value:{client:c.current},children:(0,_.jsx)(tf.Provider,{value:{isInitialized:s||c.current.isInitialized},children:(0,_.jsx)(tv.Provider,{value:f,children:e.children})})})}function tw(e){return function(t){let n=(0,E.forwardRef)((n,r)=>(0,_.jsx)(tb,{config:e,children:(0,_.jsx)(t,{...n,ref:r})}));return tu()(n,t),n}}let tS=()=>{let e=(0,E.useContext)(tf);if(void 0===e)throw Error("useIsDevCycleInitialized must be used within DevCycleProvider");return e.isInitialized},t_=tS},37856:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",u="object",c="string",l="major",d="model",f="name",p="type",v="vendor",h="version",g="architecture",m="console",y="mobile",b="tablet",w="smarttv",S="wearable",_="embedded",E="Amazon",k="Apple",C="ASUS",T="BlackBerry",I="Browser",N="Chrome",x="Firefox",A="Google",O="Huawei",R="Microsoft",P="Motorola",D="Opera",M="Samsung",L="Sharp",U="Sony",j="Xiaomi",V="Zebra",H="Facebook",q="Chromium OS",B="Mac OS",F=" Browser",z=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},$=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},K=function(e,t){return typeof e===c&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},Y=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},W=function(e,t){for(var n,r,i,s,c,l,d=0;d<t.length&&!c;){var f=t[d],p=t[d+1];for(n=r=0;n<f.length&&!c&&f[n];)if(c=f[n++].exec(e))for(i=0;i<p.length;i++)l=c[++r],typeof(s=p[i])===u&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):void 0:this[s[0]]=l?s[1].call(this,l,s[2]):void 0:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;d+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===u&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(K(t[n][r],e))return"?"===n?o:n}else if(K(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},X={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,h],[/opios[\/ ]+([\w\.]+)/i],[h,[f,D+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[h,[f,D+" GX"]],[/\bopr\/([\w\.]+)/i],[h,[f,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[h,[f,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[h,[f,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,h],[/quark(?:pc)?\/([-\w\.]+)/i],[h,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[h,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[f,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[h,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[h,[f,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+I],h],[/\bfocus\/([\w\.]+)/i],[h,[f,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[f,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[f,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[f,"MIUI"+F]],[/fxios\/([\w\.-]+)/i],[h,[f,x]],[/\bqihoobrowser\/?([\w\.]*)/i],[h,[f,"360"]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],h],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+F],h],[/samsungbrowser\/([\w\.]+)/i],[h,[f,M+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[h,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[f,h],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[h,f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,H],h],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[f,N+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,N+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[f,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[h,J,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],h],[/(wolvic|librewolf)\/([\w\.]+)/i],[f,h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[f,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,[h,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,G]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[v,M],[p,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[v,M],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[v,k],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[v,k],[p,b]],[/(macintosh);/i],[d,[v,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[v,L],[p,y]],[/(?:honor)([-\w ]+)[;\)]/i],[d,[v,"Honor"],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[v,O],[p,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[v,O],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[v,j],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[v,j],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[v,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[v,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[v,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[v,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[v,P],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[v,P],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[v,"LG"],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[v,"LG"],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[v,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[v,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[v,A],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[v,A],[p,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[v,U],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[v,U],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[v,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[v,E],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[v,E],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,v,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[v,T],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[v,C],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[v,C],[p,y]],[/(nexus 9)/i],[d,[v,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[d,/_/g," "],[p,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[v,"TCL"],[p,b]],[/(itel) ((\w+))/i],[[v,G],d,[p,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[v,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[v,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[v,"Ulefone"],[p,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[v,"Energizer"],[p,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[v,"Cat"],[p,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[v,"Smartfren"],[p,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[v,"Nothing"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,d,[p,y]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,d,[p,b]],[/(surface duo)/i],[d,[v,R],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[v,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[v,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[v,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[v,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[v,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[v,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[v,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[v,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[v,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[v,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[v,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[v,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[v,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[v,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[v,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[v,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[v,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[v,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[v,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[v,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[v,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[v,R],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[v,V],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[v,V],[p,y]],[/smart-tv.+(samsung)/i],[v,[p,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[v,M],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,"LG"],[p,w]],[/(apple) ?tv/i],[v,[d,k+" TV"],[p,w]],[/crkey/i],[[d,N+"cast"],[v,A],[p,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[v,E],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[v,L],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[v,U],[p,w]],[/(mitv-\w{5}) bui/i],[d,[v,j],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[v,d,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,Y],[d,Y],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,d,[p,m]],[/droid.+; (shield) bui/i],[d,[v,"Nvidia"],[p,m]],[/(playstation [345portablevi]+)/i],[d,[v,U],[p,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[v,R],[p,m]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[v,M],[p,S]],[/((pebble))app/i],[v,d,[p,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[v,k],[p,S]],[/droid.+; (glass) \d/i],[d,[v,A],[p,S]],[/droid.+; (wt63?0{2,3})\)/i],[d,[v,V],[p,S]],[/droid.+; (glass) \d/i],[d,[v,A],[p,S]],[/(pico) (4|neo3(?: link|pro)?)/i],[v,d,[p,S]],[/; (quest( \d| pro)?)/i],[d,[v,H],[p,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[p,_]],[/(aeobc)\b/i],[d,[v,E],[p,_]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[f,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[f,h],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,h],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[h,J,X]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[h,J,X],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,B],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,h],[/\(bb(10);/i],[h,[f,T]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[f,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[f,N+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,q],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,h],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,h]]},Z=function(e,t){if(typeof e===u&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:o,w=t?z(Q,t):Q,S=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[f]=o,t[h]=o,W.call(t,r,w.browser),t[l]=typeof(e=t[h])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,S&&n&&n.brave&&typeof n.brave.isBrave==a&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,W.call(e,r,w.cpu),e},this.getDevice=function(){var e={};return e[v]=o,e[d]=o,e[p]=o,W.call(e,r,w.device),S&&!e[p]&&m&&m.mobile&&(e[p]=y),S&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[f]=o,e[h]=o,W.call(e,r,w.engine),e},this.getOS=function(){var e={};return e[f]=o,e[h]=o,W.call(e,r,w.os),S&&!e[f]&&m&&m.platform&&"Unknown"!=m.platform&&(e[f]=m.platform.replace(/chrome os/i,q).replace(/macos/i,B)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?Y(e,500):e,this},this.setUA(r),this};Z.VERSION="1.0.40",Z.BROWSER=$([f,h,l]),Z.CPU=$([g]),Z.DEVICE=$([d,v,p,m,y,w,b,S,_]),Z.ENGINE=Z.OS=$([f,h]),typeof t!==s?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?o===(r=(function(){return Z}).call(t,n,t,e))||(e.exports=r):typeof i!==s&&(i.UAParser=Z);var ee=typeof i!==s&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var et=new Z;ee.ua=et.getResult(),ee.ua.get=function(){return et.getUA()},ee.ua.set=function(e){et.setUA(e);var t=et.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"==typeof window?window:this)},38900:e=>{e.exports=function(){var e={};function t(){return(t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}e=function(){function e(){var e="undefined"!=typeof window&&window.React;if(this.name="react",this.lazy=0==arguments.length&&!e,!this.lazy&&(this.React=(arguments.length<=0?void 0:arguments[0])||e,!this.React))throw Error("@bugsnag/plugin-react reference to `React` was undefined")}return e.prototype.load=function(e){if(!this.lazy){var t=i(this.React,e);return t.createErrorBoundary=function(){return t},t}var n=function(){throw Error(`@bugsnag/plugin-react was used incorrectly. Valid usage is as follows:
Pass React to the plugin constructor

  \`Bugsnag.start({ plugins: [new BugsnagPluginReact(React)] })\`
and then call \`const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary()\`

Or if React is not available until after Bugsnag has started,
construct the plugin with no arguments
  \`Bugsnag.start({ plugins: [new BugsnagPluginReact()] })\`,
then pass in React when available to construct your error boundary
  \`const ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React)\``)};return n.createErrorBoundary=function(t){if(!t)throw Error("@bugsnag/plugin-react reference to `React` was undefined");return i(t,e)},n},e}();var r=function(e){for(var t=e.split(/\n/g),n="",r=0,i=t.length;r<i;r++)t[r].length&&(n+=(n.length?`
`:"")+t[r].trim());return n},i=function(e,i){return function(o){function a(e){var t;return(t=o.call(this,e)||this).state={error:null,info:null},t.handleClearError=t.handleClearError.bind(function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)),t}a.prototype=Object.create(o.prototype),a.prototype.constructor=a,n(a,o);var s=a.prototype;return s.handleClearError=function(){this.setState({error:null,info:null})},s.componentDidCatch=function(e,t){var n=this.props.onError,o=i.Event.create(e,!0,{severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},1);t&&t.componentStack&&(t.componentStack=r(t.componentStack)),o.addMetadata("react",t),i._notify(o,n),this.setState({error:e,info:t})},s.render=function(){if(this.state.error){var n=this.props.FallbackComponent;return n?e.createElement(n,t({},this.state,{clearError:this.handleClearError})):null}return this.props.children},a}(e.Component)};return e.formatComponentStack=r,e.default=e,e}()},56297:(e,t,n)=>{"use strict";t.Ay=function(e){return(0,r.default)(e),i.has(e.toUpperCase())};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(76041)),i=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"])},58463:e=>{e.exports=function(){var e,t=["navigation","request","process","log","user","state","error","manual"],n=function(e,t,n){for(var r=n,i=0,o=e.length;i<o;i++)r=t(r,e[i],i,e);return r},r=function(e,t){return n(e,function(e,n,r,i){return t(n,r,i)?e.concat(n):e},[])},i=function(e,t){return n(e,function(e,n,r,i){return!0===e||n===t},!1)},o=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=!({toString:null}).propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);if(!a)return n;for(var r=0,i=s.length;r<i;r++)Object.prototype.hasOwnProperty.call(e,s[r])&&n.push(s[r]);return n},c=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=1/0),function(n){return"number"==typeof n&&parseInt(""+n,10)===n&&n>=e&&n<=t}},l=function(e){return"function"==typeof e||o(e)&&r(e,function(e){return"function"==typeof e}).length===e.length},d=function(e){return"string"==typeof e&&!!e.length},f={},p=function(){return{unhandledExceptions:!0,unhandledRejections:!0}};f.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:d},appVersion:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||d(e)}},appType:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||d(e)}},autoDetectErrors:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledErrorTypes:{defaultValue:function(){return p()},message:"should be an object containing the flags { unhandledExceptions:true|false, unhandledRejections:true|false }",allowPartialObject:!0,validate:function(e){if("object"!=typeof e||!e)return!1;var t=u(e),n=u(p());return!(r(t,function(e){return i(n,e)}).length<t.length)&&!(r(u(e),function(t){return"boolean"!=typeof e[t]}).length>0)}},onError:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:l},onSession:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:l},onBreadcrumb:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:l},endpoints:{defaultValue:function(e){return void 0===e?{notify:"https://notify.bugsnag.com",sessions:"https://sessions.bugsnag.com"}:{notify:null,sessions:null}},message:"should be an object containing endpoint URLs { notify, sessions }",validate:function(e){return e&&"object"==typeof e&&d(e.notify)&&d(e.sessions)&&0===r(u(e),function(e){return!i(["notify","sessions"],e)}).length}},autoTrackSessions:{defaultValue:function(e){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},enabledReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||o(e)&&r(e,function(e){return"string"==typeof e}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 25},message:"should be a number 100",validate:function(e){return c(0,100)(e)}},enabledBreadcrumbTypes:{defaultValue:function(){return t},message:"should be null or a list of available breadcrumb types ("+t.join(",")+")",validate:function(e){return null===e||o(e)&&n(e,function(e,n){return!1===e?e:i(t,n)},!0)}},context:{defaultValue:function(){},message:"should be a string",validate:function(e){return void 0===e||"string"==typeof e}},user:{defaultValue:function(){return{}},message:"should be an object with { id, email, name } properties",validate:function(e){return null===e||e&&n(u(e),function(e,t){return e&&i(["id","email","name"],t)},!0)}},metadata:{defaultValue:function(){return{}},message:"should be an object",validate:function(e){return"object"==typeof e&&null!==e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&n(["debug","info","warn","error"],function(t,n){return t&&"function"==typeof e[n]},!0)}},redactedKeys:{defaultValue:function(){return["password"]},message:"should be an array of strings|regexes",validate:function(e){return o(e)&&e.length===r(e,function(e){return"string"==typeof e||e&&"function"==typeof e.test}).length}},plugins:{defaultValue:function(){return[]},message:"should be an array of plugin objects",validate:function(e){return o(e)&&e.length===r(e,function(e){return e&&"object"==typeof e&&"function"==typeof e.load}).length}},featureFlags:{defaultValue:function(){return[]},message:'should be an array of objects that have a "name" property',validate:function(e){return o(e)&&e.length===r(e,function(e){return e&&"object"==typeof e&&"string"==typeof e.name}).length}},reportUnhandledPromiseRejectionsAsHandled:{defaultValue:function(){return!1},message:"should be true|false",validate:function(e){return!0===e||!1===e}},sendPayloadChecksums:{defaultValue:function(){return!1},message:"should be true|false",validate:function(e){return!0===e||!1===e}}};var v=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h=function(e,t){return n(e,function(e,n,r,i){return e.concat(t(n,r,i))},[])};function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=f.schema,y={releaseStage:v({},m.releaseStage,{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"}}),appType:g({},m.appType,{defaultValue:function(){return"browser"}}),logger:v({},m.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?b():void 0}})},b=function(){var e={},t=console.log;return h(["debug","info","warn","error"],function(n){var r=console[n];e[n]="function"==typeof r?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},w=function(){function e(e,t,n,r){void 0===r&&(r=new Date),this.type=n,this.message=e,this.metadata=t,this.timestamp=r}return e.prototype.toJSON=function(){return{type:this.type,name:this.message,timestamp:this.timestamp,metaData:this.metadata}},e}(),S={};!function(t,n){"use strict";"function"==typeof e&&e.amd?e("stackframe",[],n):"object"==typeof S?S=n():t.StackFrame=n()}(this,function(){"use strict";function e(e){return e.charAt(0).toUpperCase()+e.substring(1)}function t(e){return function(){return this[e]}}var n=["isConstructor","isEval","isNative","isToplevel"],r=["columnNumber","lineNumber"],i=["fileName","functionName","source"],o=n.concat(r,i,["args"],["evalOrigin"]);function a(t){if(t)for(var n=0;n<o.length;n++)void 0!==t[o[n]]&&this["set"+e(o[n])](t[o[n]])}a.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new a(e);else throw TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},a.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),r=e.substring(0,t),i=e.substring(t+1,n).split(","),o=e.substring(n+1);if(0===o.indexOf("@"))var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(o,""),u=s[1],c=s[2],l=s[3];return new a({functionName:r,args:i||void 0,fileName:u,lineNumber:c||void 0,columnNumber:l||void 0})};for(var s=0;s<n.length;s++)a.prototype["get"+e(n[s])]=t(n[s]),a.prototype["set"+e(n[s])]=function(e){return function(t){this[e]=!!t}}(n[s]);for(var u=0;u<r.length;u++)a.prototype["get"+e(r[u])]=t(r[u]),a.prototype["set"+e(r[u])]=function(e){return function(t){if(!(!isNaN(parseFloat(t))&&isFinite(t)))throw TypeError(e+" must be a Number");this[e]=Number(t)}}(r[u]);for(var c=0;c<i.length;c++)a.prototype["get"+e(i[c])]=t(i[c]),a.prototype["set"+e(i[c])]=function(e){return function(t){this[e]=String(t)}}(i[c]);return a});var _={};!function(t,n){"use strict";"function"==typeof e&&e.amd?e("stack-generator",["stackframe"],n):"object"==typeof _?_=n(S):t.StackGenerator=n(t.StackFrame)}(this,function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var i=arguments.callee;i&&n.length<r&&i.arguments;){for(var o=Array(i.arguments.length),a=0;a<o.length;++a)o[a]=i.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(i.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:o})):n.push(new e({args:o}));try{i=i.caller}catch(e){break}}return n}}});var E={};!function(t,n){"use strict";"function"==typeof e&&e.amd?e("error-stack-parser",["stackframe"],n):"object"==typeof E?E=n(S):t.ErrorStackParser=n(t.StackFrame)}(this,function(e){"use strict";var t=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){return t.stack.split(`
`).filter(function(e){return!!e.match(n)},this).map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),r=n.match(/ (\((.+):(\d+):(\d+)\)$)/),i=(n=r?n.replace(r[0],""):n).split(/\s+/).slice(1),o=this.extractLocation(r?r[1]:i.pop());return new e({functionName:i.join(" ")||void 0,fileName:["eval","<anonymous>"].indexOf(o[0])>-1?void 0:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseFFOrSafari:function(t){return t.stack.split(`
`).filter(function(e){return!e.match(r)},this).map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,r=t.match(n),i=r&&r[1]?r[1]:void 0,o=this.extractLocation(t.replace(n,""));return new e({functionName:i,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf(`
`)>-1&&e.message.split(`
`).length>e.stacktrace.split(`
`).length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split(`
`),i=[],o=2,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split(`
`),i=[],o=0,a=r.length;o<a;o+=2){var s=n.exec(r[o]);s&&i.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[o]}))}return i},parseOpera11:function(n){return n.stack.split(`
`).filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this).map(function(t){var n,r=t.split("@"),i=this.extractLocation(r.pop()),o=r.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return o.match(/\(([^)]*)\)/)&&(n=o.replace(/^[^(]+\(([^)]*)\)$/,"$1")),new e({functionName:a,args:void 0===n||"[arguments not available]"===n?void 0:n.split(","),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:t})},this)}}});var k=E,C=function(e,t,n,r){var i,o,a,s,u;return JSON.stringify((i=e,o=r&&r.redactedKeys?r.redactedKeys:[],a=r&&r.redactedPaths?r.redactedPaths:[],s=[],u=0,function e(t,n){function r(){return n.length>8&&u>25e3}if(u++,n.length>20||r())return"...";if(null===t||"object"!=typeof t)return t;if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(s,t))return"[Circular]";if(s.push(t),"function"==typeof t.toJSON)try{u--;var i=e(t.toJSON(),n);return s.pop(),i}catch(e){return T(e)}if(t instanceof Error||/^\[object (Error|(Dom)?Exception)\]$/.test(Object.prototype.toString.call(t))){u--;var c=e({name:t.name,message:t.message},n);return s.pop(),c}if("[object Array]"===Object.prototype.toString.call(t)){for(var l=[],d=0,f=t.length;d<f;d++){if(r()){l.push("...");break}l.push(e(t[d],n.concat("[]")))}return s.pop(),l}var p={};try{for(var v in t)if(Object.prototype.hasOwnProperty.call(t,v)){if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(0===t.indexOf(e[n]))return!0;return!1}(a,n.join("."))&&function(e,t){for(var n=0,r=e.length;n<r;n++)if("string"==typeof e[n]&&e[n].toLowerCase()===t.toLowerCase()||e[n]&&"function"==typeof e[n].test&&e[n].test(t))return!0;return!1}(o,v)){p[v]="[REDACTED]";continue}if(r()){p[v]="...";break}p[v]=e(function(e,t){try{return e[t]}catch(e){return T(e)}}(t,v),n.concat(v))}}catch(e){}return s.pop(),p}(i,[])),t,n)};function T(e){return"[Throws: "+(e?e.message:"?")+"]"}function I(e,t,n,r){if("string"==typeof n){void 0===r?r=null:null!==r&&"string"!=typeof r&&(r=C(r));var i=t[n];if("number"==typeof i){e[i]={name:n,variant:r};return}e.push({name:n,variant:r}),t[n]=e.length-1}}var N=function(e,t,n){var r=t[n];"number"==typeof r&&(e[r]=null,delete t[n])},x=function(e,t,n){if(o(t)){for(var r=0;r<t.length;++r){var i=t[r];null!==i&&"object"==typeof i&&I(e,n,i.name,i.variant)}return e}},A=function(e){return!!e&&(!!e.stack||!!e.stacktrace||!!e["opera#sourceloc"])&&"string"==typeof(e.stack||e.stacktrace||e["opera#sourceloc"])&&e.stack!==e.name+": "+e.message},O=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},R=function(e,t,n){if("string"==typeof t){if(!n)return void delete e[t];"__proto__"!==t&&"constructor"!==t&&"prototype"!==t&&e[t]&&delete e[t][n]}},P=function(e,t,n,r){var i,o;if(t){if(null===n)return R(e,t);"object"==typeof n&&(o=n),"string"==typeof n&&((i={})[n]=r,o=i),o&&"__proto__"!==t&&"constructor"!==t&&"prototype"!==t&&(e[t]||(e[t]={}),e[t]=v({},e[t],o))}},D=function(e,t,n){if("string"==typeof t){if(!n)return e[t];if(e[t])return e[t][n]}};function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var L=function(){function e(t,n,r,i,o){void 0===r&&(r=[]),void 0===i&&(i=V()),this.apiKey=void 0,this.context=void 0,this.groupingHash=void 0,this.originalError=o,this._handledState=i,this.severity=this._handledState.severity,this.unhandled=this._handledState.unhandled,this.app={},this.device={},this.request={},this.breadcrumbs=[],this.threads=[],this._metadata={},this._features=[],this._featuresIndex={},this._user={},this._session=void 0,this._correlation=void 0,this.errors=[q(t,n,e.__type,r)]}var t=e.prototype;return t.addMetadata=function(e,t,n){return P(this._metadata,e,t,n)},t.setTraceCorrelation=function(e,t){"string"==typeof e&&(this._correlation=M({traceId:e},"string"==typeof t?{spanId:t}:{}))},t.getMetadata=function(e,t){return D(this._metadata,e,t)},t.clearMetadata=function(e,t){return R(this._metadata,e,t)},t.addFeatureFlag=function(e,t){void 0===t&&(t=null),I(this._features,this._featuresIndex,e,t)},t.addFeatureFlags=function(e){x(this._features,e,this._featuresIndex)},t.getFeatureFlags=function(){return h(r(this._features,Boolean),function(e){var t=e.name,n=e.variant,r={featureFlag:t};return"string"==typeof n&&(r.variant=n),r})},t.clearFeatureFlag=function(e){N(this._features,this._featuresIndex,e)},t.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{payloadVersion:"4",exceptions:h(this.errors,function(e){return v({},e,{message:e.errorMessage})}),severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,request:this.request,breadcrumbs:this.breadcrumbs,context:this.context,groupingHash:this.groupingHash,metaData:this._metadata,user:this._user,session:this._session,featureFlags:this.getFeatureFlags(),correlation:this._correlation}},e}(),U=function(e){var t={file:e.fileName,method:j(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return!(t.lineNumber>-1)||t.file||t.method||(t.file="global code"),t},j=function(e){return/^global code$/i.test(e)?"global code":e},V=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},H=function(e){return"string"==typeof e?e:""};function q(e,t,r,i){return{errorClass:H(e),errorMessage:H(t),type:r,stacktrace:n(i,function(e,t){var n=U(t);try{if("{}"===JSON.stringify(n))return e;return e.concat(n)}catch(t){return e}},[])}}L.getStacktrace=function(e,t,n){if(A(e))return k.parse(e).slice(t);try{return r(_.backtrace(),function(e){return -1===(e.functionName||"").indexOf("StackGenerator$$")}).slice(1+n)}catch(e){return[]}},L.create=function(e,t,n,r,i,o){void 0===i&&(i=0);var a=F(e,t,r,o),s=a[0],u=a[1];try{var c=L.getStacktrace(s,u>0?1+u+i:0,1+i);l=new L(s.name,s.message,c,n,e)}catch(t){l=new L(s.name,s.message,[],n,e)}if("InvalidError"===s.name&&l.addMetadata(""+r,"non-error parameter",B(e)),s.cause){var l,d,f=h((function e(t){return t.cause?[t].concat(e(t.cause)):[t]})(s).slice(1),function(e){var t=O(e)&&A(e)?k.parse(e):[],n=F(e,!0,"error cause")[0];return"InvalidError"===n.name&&l.addMetadata("error cause",B(e)),q(n.name,n.message,L.__type,t)});(d=l.errors).push.apply(d,f)}return l};var B=function(e){return null===e?"null":void 0===e?"undefined":e},F=function(e,t,n,r){var i,o=0,a=function(e){var t="error cause"===n?"was":"received";r&&r.warn(n+" "+t+' a non-error: "'+e+'"');var i=Error(n+" "+t+' a non-error. See "'+n+'" tab for more detail.');return i.name="InvalidError",i};if(t)switch(typeof e){case"string":case"number":case"boolean":i=Error(String(e)),o+=1;break;case"function":i=a("function"),o+=2;break;case"object":null!==e&&O(e)?i=e:null!==e&&z(e)?((i=Error(e.message||e.errorMessage)).name=e.name||e.errorClass,o+=1):(i=a(null===e?"null":"unsupported object"),o+=2);break;default:i=a("nothing"),o+=2}else O(e)?i=e:(i=a(typeof e),o+=2);if(!A(i))try{throw i}catch(e){A(e)&&(i=e,o=1)}return[i,o]};L.__type="browserjs";var z=function(e){return("string"==typeof e.name||"string"==typeof e.errorClass)&&("string"==typeof e.message||"string"==typeof e.errorMessage)},$=function(e,t,n){var r=0,i=function(){if(r>=e.length)return n(null,!0);t(e[r],function(e,t){return e?n(e):!1===t?n(null,!1):void(r++,i())})};i()},K=function(e,t,n,r){$(e,function(e,r){if("function"!=typeof e)return r(null);try{if(2!==e.length){var i=e(t);if(i&&"function"==typeof i.then)return i.then(function(e){return setTimeout(function(){return r(null,e)})},function(e){setTimeout(function(){return n(e),r(null,!0)})});return r(null,i)}e(t,function(e,t){if(e)return n(e),r(null);r(null,t)})}catch(e){n(e),r(null)}},r)},G=function(e,t,n,r){for(var i=!1,o=e.slice();!i&&o.length;)try{i=!1===o.pop()(t)}catch(e){r.error("Error occurred in "+n+" callback, continuing anyway"),r.error(e)}return i},Y=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},W="object"==typeof window?window:self,J=0;for(var X in W)Object.hasOwnProperty.call(W,X)&&J++;var Q=Y(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+J.toString(36),4),Z=function(){return Q},ee=0;function et(){return Y((1679616*Math.random()|0).toString(36),4)}function en(){return"c"+new Date().getTime().toString(36)+Y((ee=ee<1679616?ee:0,++ee-1).toString(36),4)+Z()+(et()+et())}en.fingerprint=Z,en.isCuid=function(e){return"string"==typeof e&&/^c[a-z0-9]{20,32}$/.test(e)};var er=function(){function e(){this.id=en(),this.startedAt=new Date,this._handled=0,this._unhandled=0,this._user={},this.app={},this.device={}}var t=e.prototype;return t.getUser=function(){return this._user},t.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},t.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},t._track=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),ei=function(){},eo=function(){function e(t,n,r,i){var o=this;void 0===n&&(n=f.schema),void 0===r&&(r=[]),this._notifier=i,this._config={},this._schema=n,this._delivery={sendSession:ei,sendEvent:ei},this._logger={debug:ei,info:ei,warn:ei,error:ei},this._plugins={},this._breadcrumbs=[],this._session=null,this._metadata={},this._featuresIndex={},this._features=[],this._context=void 0,this._user={},this._cbs={e:[],s:[],sp:[],b:[]},this.Client=e,this.Event=L,this.Breadcrumb=w,this.Session=er,this._config=this._configure(t,r),h(r.concat(this._config.plugins),function(e){e&&o._loadPlugin(e)}),this._depth=1;var a=this,s=this.notify;this.notify=function(){return s.apply(a,arguments)}}var o=e.prototype;return o.addMetadata=function(e,t,n){return P(this._metadata,e,t,n)},o.getMetadata=function(e,t){return D(this._metadata,e,t)},o.clearMetadata=function(e,t){return R(this._metadata,e,t)},o.addFeatureFlag=function(e,t){void 0===t&&(t=null),I(this._features,this._featuresIndex,e,t)},o.addFeatureFlags=function(e){x(this._features,e,this._featuresIndex)},o.clearFeatureFlag=function(e){N(this._features,this._featuresIndex,e)},o.clearFeatureFlags=function(){this._features=[],this._featuresIndex={}},o.getContext=function(){return this._context},o.setContext=function(e){this._context=e},o._configure=function(e,t){var r=n(t,function(e,t){return t&&t.configSchema?v({},e,t.configSchema):e},this._schema);e.endpoints||(e.sendPayloadChecksums=!("sendPayloadChecksums"in e)||e.sendPayloadChecksums);var i=n(u(r),function(t,n){var i=r[n].defaultValue(e[n]);return void 0!==e[n]?r[n].validate(e[n])?r[n].allowPartialObject?t.config[n]=v(i,e[n]):t.config[n]=e[n]:(t.errors[n]=r[n].message,t.config[n]=i):t.config[n]=i,t},{errors:{},config:{}}),o=i.errors,a=i.config;if(r.apiKey){if(!a.apiKey)throw Error("No Bugsnag API Key set");/^[0-9a-f]{32}$/i.test(a.apiKey)||(o.apiKey="should be a string of 32 hexadecimal characters")}return this._metadata=v({},a.metadata),x(this._features,a.featureFlags,this._featuresIndex),this._user=v({},a.user),this._context=a.context,a.logger&&(this._logger=a.logger),a.onError&&(this._cbs.e=this._cbs.e.concat(a.onError)),a.onBreadcrumb&&(this._cbs.b=this._cbs.b.concat(a.onBreadcrumb)),a.onSession&&(this._cbs.s=this._cbs.s.concat(a.onSession)),u(o).length&&this._logger.warn(ea(o,e)),a},o.getUser=function(){return this._user},o.setUser=function(e,t,n){this._user={id:e,email:t,name:n}},o._loadPlugin=function(e){var t=e.load(this);e.name&&(this._plugins["~"+e.name+"~"]=t)},o.getPlugin=function(e){return this._plugins["~"+e+"~"]},o._setDelivery=function(e){this._delivery=e(this)},o.startSession=function(){var e=new er;return(e.app.releaseStage=this._config.releaseStage,e.app.version=this._config.appVersion,e.app.type=this._config.appType,e._user=v({},this._user),G(this._cbs.s,e,"onSession",this._logger))?(this._logger.debug("Session not started due to onSession callback"),this):this._sessionDelegate.startSession(this,e)},o.addOnError=function(e,t){void 0===t&&(t=!1),this._cbs.e[t?"unshift":"push"](e)},o.removeOnError=function(e){this._cbs.e=r(this._cbs.e,function(t){return t!==e})},o._addOnSessionPayload=function(e){this._cbs.sp.push(e)},o.addOnSession=function(e){this._cbs.s.push(e)},o.removeOnSession=function(e){this._cbs.s=r(this._cbs.s,function(t){return t!==e})},o.addOnBreadcrumb=function(e,t){void 0===t&&(t=!1),this._cbs.b[t?"unshift":"push"](e)},o.removeOnBreadcrumb=function(e){this._cbs.b=r(this._cbs.b,function(t){return t!==e})},o.pauseSession=function(){return this._sessionDelegate.pauseSession(this)},o.resumeSession=function(){return this._sessionDelegate.resumeSession(this)},o.leaveBreadcrumb=function(e,n,r){if(e="string"==typeof e?e:"",r="string"==typeof r&&i(t,r)?r:"manual",n="object"==typeof n&&null!==n?n:{},e){var o=new w(e,n,r);if(G(this._cbs.b,o,"onBreadcrumb",this._logger))return void this._logger.debug("Breadcrumb not attached due to onBreadcrumb callback");this._breadcrumbs.push(o),this._breadcrumbs.length>this._config.maxBreadcrumbs&&(this._breadcrumbs=this._breadcrumbs.slice(this._breadcrumbs.length-this._config.maxBreadcrumbs))}},o._isBreadcrumbTypeEnabled=function(e){var t=this._config.enabledBreadcrumbTypes;return null===t||i(t,e)},o.notify=function(e,t,n){void 0===n&&(n=ei);var r=L.create(e,!0,void 0,"notify()",this._depth+1,this._logger);this._notify(r,t,n)},o._notify=function(t,n,r){var o=this;if(void 0===r&&(r=ei),t.app=v({},t.app,{releaseStage:this._config.releaseStage,version:this._config.appVersion,type:this._config.appType}),t.context=t.context||this._context,t._metadata=v({},t._metadata,this._metadata),t._user=v({},t._user,this._user),t.breadcrumbs=this._breadcrumbs.slice(),x(t._features,this._features,t._featuresIndex),null!==this._config.enabledReleaseStages&&!i(this._config.enabledReleaseStages,this._config.releaseStage))return this._logger.warn("Event not sent due to releaseStage/enabledReleaseStages configuration"),r(null,t);var a=t.severity,s=function(e){o._logger.error("Error occurred in onError callback, continuing anyway"),o._logger.error(e)};K([].concat(this._cbs.e).concat(n),t,s,function(n,i){if(n&&s(n),!i)return o._logger.debug("Event not sent due to onError callback"),r(null,t);o._isBreadcrumbTypeEnabled("error")&&e.prototype.leaveBreadcrumb.call(o,t.errors[0].errorClass,{errorClass:t.errors[0].errorClass,errorMessage:t.errors[0].errorMessage,severity:t.severity},"error"),a!==t.severity&&(t._handledState.severityReason={type:"userCallbackSetSeverity"}),t.unhandled!==t._handledState.unhandled&&(t._handledState.severityReason.unhandledOverridden=!0,t._handledState.unhandled=t.unhandled),o._session&&(o._session._track(t),t._session=o._session),o._delivery.sendEvent({apiKey:t.apiKey||o._config.apiKey,notifier:o._notifier,events:[t]},function(e){return r(e,t)})})},e}(),ea=function(e,t){return Error(`Invalid configuration
`+h(u(e),function(n){return"  - "+n+" "+e[n]+", got "+es(t[n])}).join(`

`))},es=function(e){switch(typeof e){case"string":case"number":case"object":return JSON.stringify(e);default:return String(e)}},eu={},ec=["events.[].metaData","events.[].breadcrumbs.[].metaData","events.[].request"];eu.event=function(e,t){var n=C(e,null,null,{redactedPaths:ec,redactedKeys:t});return n.length>1e6&&(e.events[0]._metadata={notifier:`WARNING!
Serialized payload was `+n.length/1e6+`MB (limit = 1MB)
metadata was removed`},n=C(e,null,null,{redactedPaths:ec,redactedKeys:t})),n},eu.session=function(e,t){return C(e,null,null)};var el={},ed=function(e,t,n,r){var i=JSON.parse(JSON.stringify(new Date));return ef(e.endpoints[t],r.location.protocol)+"?apiKey="+encodeURIComponent(e.apiKey)+"&payloadVersion="+n+"&sentAt="+encodeURIComponent(i)},ef=(el=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){if(void 0===r&&(r=function(){}),null===e._config.endpoints.notify){var i=Error("Event not sent due to incomplete endpoint configuration");return r(i)}var o=ed(e._config,"notify","4",t),a=eu.event(n,e._config.redactedKeys),s=new t.XDomainRequest;s.onload=function(){r(null)},s.onerror=function(){var t=Error("Event failed to send");e._logger.error("Event failed to send",t),a.length>1e6&&e._logger.warn("Event oversized ("+(a.length/1e6).toFixed(2)+" MB)"),r(t)},s.open("POST",o),setTimeout(function(){try{s.send(a)}catch(t){e._logger.error(t),r(t)}},0)},sendSession:function(n,r){if(void 0===r&&(r=function(){}),null===e._config.endpoints.sessions){var i=Error("Session not sent due to incomplete endpoint configuration");return r(i)}var o=ed(e._config,"sessions","1",t),a=new t.XDomainRequest;a.onload=function(){r(null)},a.open("POST",o),setTimeout(function(){try{a.send(eu.session(n,e._config.redactedKeys))}catch(t){e._logger.error(t),r(t)}},0)}}})._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e};function ep(e,t){if(e.isSecureContext&&e.crypto&&e.crypto.subtle&&e.crypto.subtle.digest&&"function"==typeof TextEncoder){var n=new TextEncoder().encode(t);return e.crypto.subtle.digest("SHA-1",n).then(function(e){return"sha1 "+Array.from(new Uint8Array(e)).map(function(e){return e.toString(16).padStart(2,"0")}).join("")})}return Promise.resolve()}var ev=function(e,t){return void 0===t&&(t=window),{sendEvent:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.notify;if(null===i){var o=Error("Event not sent due to incomplete endpoint configuration");return r(o)}var a=new t.XMLHttpRequest,s=eu.event(n,e._config.redactedKeys);a.onreadystatechange=function(){if(a.readyState===t.XMLHttpRequest.DONE){var n=a.status;if(0===n||n>=400){var i=Error("Request failed with status "+n);e._logger.error("Event failed to send",i),s.length>1e6&&e._logger.warn("Event oversized ("+(s.length/1e6).toFixed(2)+" MB)"),r(i)}else r(null)}},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Bugsnag-Api-Key",n.apiKey||e._config.apiKey),a.setRequestHeader("Bugsnag-Payload-Version","4"),a.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),e._config.sendPayloadChecksums&&"undefined"!=typeof Promise&&-1!==Promise.toString().indexOf("[native code]")?ep(t,s).then(function(e){e&&a.setRequestHeader("Bugsnag-Integrity",e),a.send(s)}).catch(function(t){e._logger.error(t),a.send(s)}):a.send(s)}catch(t){e._logger.error(t)}},sendSession:function(n,r){void 0===r&&(r=function(){});try{var i=e._config.endpoints.sessions;if(null===i){var o=Error("Session not sent due to incomplete endpoint configuration");return r(o)}var a=new t.XMLHttpRequest,s=eu.session(n,e._config.redactedKeys);a.onreadystatechange=function(){if(a.readyState===t.XMLHttpRequest.DONE){var n=a.status;if(0===n||n>=400){var i=Error("Request failed with status "+n);e._logger.error("Session failed to send",i),r(i)}else r(null)}},a.open("POST",i),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Bugsnag-Api-Key",e._config.apiKey),a.setRequestHeader("Bugsnag-Payload-Version","1"),a.setRequestHeader("Bugsnag-Sent-At",new Date().toISOString()),e._config.sendPayloadChecksums&&"undefined"!=typeof Promise&&-1!==Promise.toString().indexOf("[native code]")?ep(t,s).then(function(e){e&&a.setRequestHeader("Bugsnag-Integrity",e),a.send(s)}).catch(function(t){e._logger.error(t),a.send(s)}):a.send(s)}catch(t){e._logger.error(t)}}}},eh=new Date,eg=function(){eh=new Date},em={name:"appDuration",load:function(e){return e.addOnError(function(e){var t=new Date;e.app.duration=t-eh},!0),{reset:eg}}},ey="bugsnag-anonymous-id",eb=function(e){try{var t=e.localStorage,n=t.getItem(ey);if(n&&/^c[a-z0-9]{20,32}$/.test(n))return n;return n=en(),t.setItem(ey,n),n}catch(e){}},ew=function(e){var t=e.getUser();t&&t.id||e.setUser(e.device.id)},eS={load:function(e){e._sessionDelegate=e_}},e_={startSession:function(e,t){return(e._session=t,e._pausedSession=null,null===e._config.enabledReleaseStages||i(e._config.enabledReleaseStages,e._config.releaseStage))?e._delivery.sendSession({notifier:e._notifier,device:t.device,app:t.app,sessions:[{id:t.id,startedAt:t.startedAt,user:t._user}]}):e._logger.warn("Session not sent due to releaseStage/enabledReleaseStages configuration"),e},resumeSession:function(e){return e._session?e:e._pausedSession?(e._session=e._pausedSession,e._pausedSession=null,e):e.startSession()},pauseSession:function(e){e._pausedSession=e._session,e._session=null}},eE={load:function(e){e._config.collectUserIp||e.addOnError(function(e){e._user&&void 0===e._user.id&&delete e._user.id,e._user=v({id:"[REDACTED]"},e._user),e.request=v({clientIp:"[REDACTED]"},e.request)})},configSchema:{collectUserIp:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}}}},ek={};ek.load=function(e){!/^(local-)?dev(elopment)?$/.test(e._config.releaseStage)&&e._isBreadcrumbTypeEnabled("log")&&h(eC,function(t){var r=console[t];console[t]=function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];e.leaveBreadcrumb("Console output",n(o,function(e,t,n){var r="[Unknown value]";try{r=String(t)}catch(e){}if("[object Object]"===r)try{r=JSON.stringify(t)}catch(e){}return e["["+n+"]"]=r,e},{severity:0===t.indexOf("group")?"log":t}),"log"),r.apply(console,o)},console[t]._restore=function(){console[t]=r}})};var eC=r(["log","debug","info","warn","error"],function(e){return"undefined"!=typeof console&&"function"==typeof console[e]});function eT(e,t,n){var r=e[t];if(!r)return r;var i=n(r);return e[t]=i,r}function eI(e){var t=!!e[1]&&"function"==typeof e[1].handleEvent;return{get:function(){return t?e[1].handleEvent:e[1]},replace:function(n){t?e[1].handleEvent=n:e[1]=n}}}var eN=/^\s*([^\s][\s\S]{0,139}[^\s])?\s*/,ex={};ex=function(e){return void 0===e&&(e=window),{load:function(t){if("addEventListener"in e&&t._isBreadcrumbTypeEnabled("navigation")){var n=function(e){return function(){return t.leaveBreadcrumb(e,{},"navigation")}};e.addEventListener("pagehide",n("Page hidden"),!0),e.addEventListener("pageshow",n("Page shown"),!0),e.addEventListener("load",n("Page loaded"),!0),e.document.addEventListener("DOMContentLoaded",n("DOMContentLoaded"),!0),e.addEventListener("load",function(){return e.addEventListener("popstate",n("Navigated back"),!0)}),e.addEventListener("hashchange",function(n){var r=n.oldURL?{from:eA(n.oldURL,e),to:eA(n.newURL,e),state:eP(e)}:{to:eA(e.location.href,e)};t.leaveBreadcrumb("Hash changed",r,"navigation")},!0),e.history.pushState&&eR(t,e.history,"pushState",e,!0),e.history.replaceState&&eR(t,e.history,"replaceState",e)}}}};var eA=function(e,t){var n=t.document.createElement("A");return n.href=e,""+n.pathname+n.search+n.hash},eO=function(e,t,n,r){var i=eA(e.location.href,e);return{title:n,state:t,prevState:eP(e),to:r||i,from:i}},eR=function(e,t,n,r,i){void 0===i&&(i=!1);var o=t[n];t[n]=function(a,s,u){e.leaveBreadcrumb("History "+n,eO(r,a,s,u),"navigation"),i&&"function"==typeof e.resetEventCount&&e.resetEventCount(),o.apply(t,[a,s].concat(void 0!==u?u:[]))}},eP=function(e){try{return e.history.state}catch(e){}},eD="request",eM=function(e){return e&&new Date-e},eL={load:function(e){var t=0;e.addOnError(function(n){if(t>=e._config.maxEvents)return e._logger.warn("Cancelling event send due to maxEvents per session limit of "+e._config.maxEvents+" being reached"),!1;t++}),e.resetEventCount=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer 100",validate:function(e){return c(1,100)(e)}}}},eU={},ej=(eU={load:function(e){e.addOnError(function(e){h(n(e.errors,function(e,t){return e.concat(t.stacktrace)},[]),function(e){e.file=ej(e.file)})})}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},eV=function(e,t,n,r){e[0]||e.push({});var i=e[0];i.file||"string"!=typeof t||(i.file=t),!i.lineNumber&&eH(n)&&(i.lineNumber=n),!i.columnNumber&&(eH(r)?i.columnNumber=r:window.event&&eH(window.event.errorCharacter)&&(i.columnNumber=window.event.errorCharacter))},eH=function(e){return"number"==typeof e&&"NaN"!==String.call(e)},eq={},eB=v({},f.schema,y),eF={_client:null,createClient:function(e){"string"==typeof e&&(e={apiKey:e}),e||(e={});var t,o,a,s,u,c,l,d,f,p,g,m,y=new eo(e,eB,[em,(void 0===t&&(t=navigator),void 0===o&&(o=window),{load:function(e){var n={locale:t.browserLanguage||t.systemLanguage||t.userLanguage||t.language,userAgent:t.userAgent};o&&o.screen&&o.screen.orientation&&o.screen.orientation.type?n.orientation=o.screen.orientation.type:o&&o.document&&(n.orientation=o.document.documentElement.clientWidth>o.document.documentElement.clientHeight?"landscape":"portrait"),e._config.generateAnonymousId&&(n.id=eb(o)),e.addOnSession(function(t){t.device=v({},t.device,n),e._config.collectUserIp||ew(t)}),e.addOnError(function(t){t.device=v({},t.device,n,{time:new Date}),e._config.collectUserIp||ew(t)},!0)},configSchema:{generateAnonymousId:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}}),(void 0===a&&(a=window),{load:function(e){e.addOnError(function(e){void 0===e.context&&(e.context=a.location.pathname)},!0)}}),(void 0===s&&(s=window),{load:function(e){e.addOnError(function(e){e.request&&e.request.url||(e.request=v({},e.request,{url:s.location.href}))},!0)}}),eL,eS,eE,eU,(void 0===u&&(u=window),void 0===c&&(c="window onerror"),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledExceptions){var t=u.onerror;u.onerror=function(n,r,i,o,a){if(0===i&&/Script error\.?/.test(n))e._logger.warn("Ignoring cross-domain or eval script error. See docs: https://tinyurl.com/yy3rn63z");else{var s,u={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}};if(a)eV((s=e.Event.create(a,!0,u,c,1)).errors[0].stacktrace,r,i,o);else if("object"!=typeof n||null===n||r&&"string"==typeof r||i||o||a)eV((s=e.Event.create(n,!0,u,c,1)).errors[0].stacktrace,r,i,o);else{var l=n.type?"Event: "+n.type:"Error",d=n.message||n.detail||"";(s=e.Event.create({name:l,message:d},!0,u,c,1)).originalError=n,s.addMetadata(c,{event:n,extraParameters:r})}e._notify(s)}"function"==typeof t&&t.apply(this,arguments)}}}}),(void 0===l&&(l=window),{load:function(e){if(e._config.autoDetectErrors&&e._config.enabledErrorTypes.unhandledRejections){var t=function(t){var n,r=t.reason,i=!1;try{t.detail&&t.detail.reason&&(r=t.detail.reason,i=!0)}catch(e){}var o=!e._config.reportUnhandledPromiseRejectionsAsHandled,a=e.Event.create(r,!1,{severity:"error",unhandled:o,severityReason:{type:"unhandledPromiseRejection"}},"unhandledrejection handler",1,e._logger);i&&h(a.errors[0].stacktrace,(n=r,function(e){e.file!==n.toString()&&e.method&&(e.method=e.method.replace(/^\s+/,""))})),e._notify(a,function(e){if(O(e.originalError)&&!e.originalError.stack){var t;e.addMetadata("unhandledRejection handler",((t={})[Object.prototype.toString.call(e.originalError)]={name:e.originalError.name,message:e.originalError.message,code:e.originalError.code},t))}})};"addEventListener"in l?l.addEventListener("unhandledrejection",t):l.onunhandledrejection=function(e,n){t({detail:{reason:e,promise:n}})}}}}),ex(),(void 0===d&&(d=window),{load:function(e){"addEventListener"in d&&e._isBreadcrumbTypeEnabled("user")&&d.addEventListener("click",function(t){var n,r,i,o;try{(o=(i=t.target).textContent||i.innerText||"")||"submit"!==i.type&&"button"!==i.type||(o=i.value),n=(o=o.replace(eN,"$1")).length>140?o.slice(0,135)+"(...)":o,r=function e(t,n){var r=[t.tagName];if(t.id&&r.push("#"+t.id),t.className&&t.className.length&&r.push("."+t.className.split(" ").join(".")),!n.document.querySelectorAll||!Array.prototype.indexOf)return r.join("");try{if(1===n.document.querySelectorAll(r.join("")).length)return r.join("")}catch(e){return r.join("")}if(t.parentNode.childNodes.length>1){var i=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1;r.push(":nth-child("+i+")")}return 1===n.document.querySelectorAll(r.join("")).length?r.join(""):t.parentNode?e(t.parentNode,n)+" > "+r.join(""):r.join("")}(t.target,d)}catch(t){n="[hidden]",r="[hidden]",e._logger.error("Cross domain error when tracking click event. See docs: https://tinyurl.com/yy3rn63z")}e.leaveBreadcrumb("UI click",{targetText:n,targetSelector:r},"user")},!0)}}),(void 0===f&&(f=[]),void 0===p&&(p=window),{load:function(e){if(e._isBreadcrumbTypeEnabled("request")){var t=[e._config.endpoints.notify,e._config.endpoints.sessions].concat(f);(function(){if("addEventListener"in p.XMLHttpRequest.prototype&&"WeakMap"in p){var n=new WeakMap,r=new WeakMap,o=p.XMLHttpRequest.prototype.open;p.XMLHttpRequest.prototype.open=function(e,t){this&&n.set(this,{method:e,url:t}),o.apply(this,arguments)};var a=p.XMLHttpRequest.prototype.send;p.XMLHttpRequest.prototype.send=function(o){var s=this,u=n.get(this);if(u){var c=r.get(this);c&&(this.removeEventListener("load",c.load),this.removeEventListener("error",c.error));var l=new Date,d=function(){return function(n,r,o){if(void 0===r)return void e._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");"string"==typeof r&&i(t,r.replace(/\?.*$/,""))||e.leaveBreadcrumb("XMLHttpRequest error",{method:String(n),url:String(r),duration:o},eD)}(u.method,u.url,eM(l))},f=function(){return function(n,r,o,a){if(void 0===r)return void e._logger.warn("The request URL is no longer present on this XMLHttpRequest. A breadcrumb cannot be left for this request.");if(!("string"==typeof r&&i(t,r.replace(/\?.*$/,"")))){var s={status:o,method:String(n),url:String(r),duration:a};o>=400?e.leaveBreadcrumb("XMLHttpRequest failed",s,eD):e.leaveBreadcrumb("XMLHttpRequest succeeded",s,eD)}}(u.method,u.url,s.status,eM(l))};this.addEventListener("load",f),this.addEventListener("error",d),this&&r.set(this,{load:f,error:d})}a.apply(this,arguments)}}})(),function(){if("fetch"in p&&!p.fetch.polyfill){var e=p.fetch;p.fetch=function(){var t,i=arguments,o=arguments[0],a=arguments[1],s=null;return o&&"object"==typeof o?(s=o.url,a&&"method"in a?t=a.method:o&&"method"in o&&(t=o.method)):(s=o,a&&"method"in a&&(t=a.method)),void 0===t&&(t="GET"),new Promise(function(o,a){var u=new Date;e.apply(void 0,i).then(function(e){n(e,t,s,eM(u)),o(e)}).catch(function(e){r(t,s,eM(u)),a(e)})})}}}();var n=function(t,n,r,i){var o={method:String(n),status:t.status,url:String(r),duration:i};t.status>=400?e.leaveBreadcrumb("fetch() failed",o,eD):e.leaveBreadcrumb("fetch() succeeded",o,eD)},r=function(t,n,r){e.leaveBreadcrumb("fetch() error",{method:String(t),url:String(n),duration:r},eD)}}}}),ek,(void 0===g&&(g=document),void 0===m&&(m=window),{load:function(e){if(e._config.trackInlineScripts){var t=m.location.href,i="",o=g.attachEvent?"complete"===g.readyState:"loading"!==g.readyState,a=function(){return g.documentElement.outerHTML};i=a();var s=g.onreadystatechange;g.onreadystatechange=function(){"interactive"===g.readyState&&(i=a(),o=!0);try{s.apply(this,arguments)}catch(e){}};var u=null,c=function(e){u=e},l=function(){var e=g.currentScript||u;if(!e&&!o){var t=g.scripts||g.getElementsByTagName("script");e=t[t.length-1]}return e},d=function(e){o&&i||(i=a());var t=["\x3c!-- DOC START --\x3e"].concat(i.split(`
`)),r=e-1,s=Math.max(r-3,0),u=Math.min(r+3,t.length);return n(t.slice(s,u),function(e,t,n){return e[s+1+n]=t.length<=200?t:t.substr(0,200),e},{})};e.addOnError(function(e){e.errors[0].stacktrace=r(e.errors[0].stacktrace,function(e){return!/__trace__$/.test(e.method)});var n=e.errors[0].stacktrace[0],i=function(e){return e.replace(/#.*$/,"").replace(/\?.*$/,"")};if(!n||!n.file||i(n.file)===i(t)){var o=l();if(o){var a=o.innerHTML;e.addMetadata("script","content",a.length<=5e5?a:a.substr(0,5e5)),n&&n.lineNumber&&(n.code=d(n.lineNumber))}}},!0);var f=h(["setTimeout","setInterval","setImmediate","requestAnimationFrame"],function(e){return eT(m,e,function(e){return p(e,function(e){return{get:function(){return e[0]},replace:function(t){e[0]=t}}})})})[0];h(["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],function(e){m[e]&&m[e].prototype&&Object.prototype.hasOwnProperty.call(m[e].prototype,"addEventListener")&&(eT(m[e].prototype,"addEventListener",function(e){return p(e,eI)}),eT(m[e].prototype,"removeEventListener",function(e){return p(e,eI,!0)}))})}function p(e,t,n){return void 0===n&&(n=!1),function(){var r=[].slice.call(arguments);try{var i=t(r),o=i.get();if(n&&e.apply(this,r),"function"!=typeof o)return e.apply(this,r);if(o.__trace__)i.replace(o.__trace__);else{var a=l();o.__trace__=function(){c(a),f(function(){c(null)},0);var e=o.apply(this,arguments);return c(null),e},o.__trace__.__trace__=o.__trace__,i.replace(o.__trace__)}}catch(e){}if(e.apply)return e.apply(this,r);switch(r.length){case 1:return e(r[0]);case 2:return e(r[0],r[1]);default:return e()}}}},configSchema:{trackInlineScripts:{validate:function(e){return!0===e||!1===e},defaultValue:function(){return!0},message:"should be true|false"}}})],{name:"Bugsnag JavaScript",version:"8.2.0",url:"https://github.com/bugsnag/bugsnag-js"});return y._setDelivery(window.XDomainRequest?el:ev),y._logger.debug("Loaded!"),y.leaveBreadcrumb("Bugsnag loaded",{},"state"),y._config.autoTrackSessions?y.startSession():y},start:function(e){return eF._client?eF._client._logger.warn("Bugsnag.start() was called more than once. Ignoring."):eF._client=eF.createClient(e),eF._client},isStarted:function(){return null!=eF._client}};return h(["resetEventCount"].concat(u(eo.prototype)),function(e){/^_/.test(e)||(eF[e]=function(){if(!eF._client)return console.log("Bugsnag."+e+"() was called before Bugsnag.start()");eF._client._depth+=1;var t=eF._client[e].apply(eF._client,arguments);return eF._client._depth-=1,t})}),(eq=eF).Client=eo,eq.Event=L,eq.Session=er,eq.Breadcrumb=w,eq.default=eF,eq}()},76041:(e,t)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},79548:(e,t,n)=>{"use strict";n.d(t,{OP:()=>c,bu:()=>s,fS:()=>o,mG:()=>r,mJ:()=>a,pL:()=>u,r:()=>i});var r="-",i="AMP",o="".concat(i,"_unsent"),a="https://api2.amplitude.com/2/httpapi",s="https://api.eu.amplitude.com/2/httpapi",u="https://api2.amplitude.com/batch",c="https://api.eu.amplitude.com/batch"},81645:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,a:()=>i});var r=n(55823),i=function(e){if(Object.keys(e).length>1e3)return!1;for(var t in e){var n=e[t];if(!o(t,n))return!1}return!0},o=function(e,t){var n,o;if("string"!=typeof e)return!1;if(Array.isArray(t)){var a=!0;try{for(var s=(0,r.Ju)(t),u=s.next();!u.done;u=s.next()){var c=u.value;if(Array.isArray(c))return!1;if("object"==typeof c)a=a&&i(c);else if(!["number","string"].includes(typeof c))return!1;if(!a)return!1}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}else if(null==t)return!1;else if("object"==typeof t)return i(t);else if(!["number","string","boolean"].includes(typeof t))return!1;return!0}},89463:(e,t,n)=>{var r,i=n(23184);!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:i=o(r.Reflect,i),t(i)}(function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s=({__proto__:[]})instanceof Array,u=!a&&!s,c={create:a?function(){return A(Object.create(null))}:s?function(){return A({__proto__:null})}:function(){return A({})},has:u?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:u?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),d="object"==typeof i&&i.env&&"true"===i.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();function r(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(r.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),r.prototype.has=function(e){return this._find(e,!1)>=0},r.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},r.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},r.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},r.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},r.prototype.keys=function(){return new n(this._keys,this._values,i)},r.prototype.values=function(){return new n(this._keys,this._values,a)},r.prototype.entries=function(){return new n(this._keys,this._values,s)},r.prototype["@@iterator"]=function(){return this.entries()},r.prototype[o]=function(){return this.entries()},r.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},r;function i(e,t){return e}function a(e,t){return t}function s(e,t){return[e,t]}}():Map,p=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,v=new(d||"function"!=typeof WeakMap?function(){var e=c.create(),n=i();function r(){this._key=i()}return r.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},r.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},r.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},r.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},r.prototype.clear=function(){this._key=i()},r;function i(){var t;do t="@@WeakMap@@"+function(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(e),e):a(Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var i=t[r];(4===r||6===r||8===r)&&(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}();while(c.has(e,t))return e[t]=!0,t}function o(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}}():WeakMap);function h(e,t,n){var r=v.get(e);if(S(r)){if(!n)return;r=new f,v.set(e,r)}var i=r.get(t);if(S(i)){if(!n)return;i=new f,r.set(t,i)}return i}function g(e,t,n){var r=h(t,n,!1);return!S(r)&&!!r.has(e)}function m(e,t,n){var r=h(t,n,!1);if(!S(r))return r.get(e)}function y(e,t,n,r){h(n,r,!0).set(e,t)}function b(e,t){var n=[],r=h(e,t,!1);if(S(r))return n;for(var i=function(e){var t=N(e,o);if(!T(t))throw TypeError();var n=t.call(e);if(!E(n))throw TypeError();return n}(r.keys()),a=0;;){var s=function(e){var t=e.next();return!t.done&&t}(i);if(!s)return n.length=a,n;var u=s.value;try{n[a]=u}catch(e){try{!function(e){var t=e.return;t&&t.call(e)}(i)}finally{throw e}}a++}}function w(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function S(e){return void 0===e}function _(e){return null===e}function E(e){return"object"==typeof e?null!==e:"function"==typeof e}function k(e){var t=function(e,t){switch(w(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n="string",i=N(e,r);if(void 0!==i){var o=i.call(e,n);if(E(o))throw TypeError();return o}return function(e,t){if("string"===t){var n=e.toString;if(T(n)){var r=n.call(e);if(!E(r))return r}var i=e.valueOf;if(T(i)){var r=i.call(e);if(!E(r))return r}}else{var i=e.valueOf;if(T(i)){var r=i.call(e);if(!E(r))return r}var o=e.toString;if(T(o)){var r=o.call(e);if(!E(r))return r}}throw TypeError()}(e,n)}(e,0);return"symbol"==typeof t?t:""+t}function C(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function I(e){return"function"==typeof e}function N(e,t){var n=e[t];if(null!=n){if(!T(n))throw TypeError();return n}}function x(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l||t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function A(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,n,r){if(S(n)){if(!C(e)||!I(t))throw TypeError();for(var i=e,o=t,a=i.length-1;a>=0;--a){var s=(0,i[a])(o);if(!S(s)&&!_(s)){if(!I(s))throw TypeError();o=s}}return o}if(!C(e)||!E(t)||!E(r)&&!S(r)&&!_(r))throw TypeError();return _(r)&&(r=void 0),function(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!S(o)&&!_(o)){if(!E(o))throw TypeError();r=o}}return r}(e,t,n=k(n),r)}),e("metadata",function(e,t){return function(n,r){if(!E(n)||!S(r)&&!function(e){switch(w(e)){case 3:case 4:return!0;default:return!1}}(r))throw TypeError();y(e,t,n,r)}}),e("defineMetadata",function(e,t,n,r){if(!E(n))throw TypeError();return S(r)||(r=k(r)),y(e,t,n,r)}),e("hasMetadata",function(e,t,n){if(!E(t))throw TypeError();return S(n)||(n=k(n)),function e(t,n,r){if(g(t,n,r))return!0;var i=x(n);return!_(i)&&e(t,i,r)}(e,t,n)}),e("hasOwnMetadata",function(e,t,n){if(!E(t))throw TypeError();return S(n)||(n=k(n)),g(e,t,n)}),e("getMetadata",function(e,t,n){if(!E(t))throw TypeError();return S(n)||(n=k(n)),function e(t,n,r){if(g(t,n,r))return m(t,n,r);var i=x(n);if(!_(i))return e(t,i,r)}(e,t,n)}),e("getOwnMetadata",function(e,t,n){if(!E(t))throw TypeError();return S(n)||(n=k(n)),m(e,t,n)}),e("getMetadataKeys",function(e,t){if(!E(e))throw TypeError();return S(t)||(t=k(t)),function e(t,n){var r=b(t,n),i=x(t);if(null===i)return r;var o=e(i,n);if(o.length<=0)return r;if(r.length<=0)return o;for(var a=new p,s=[],u=0;u<r.length;u++){var c=r[u],l=a.has(c);l||(a.add(c),s.push(c))}for(var d=0;d<o.length;d++){var c=o[d],l=a.has(c);l||(a.add(c),s.push(c))}return s}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!E(e))throw TypeError();return S(t)||(t=k(t)),b(e,t)}),e("deleteMetadata",function(e,t,n){if(!E(t))throw TypeError();S(n)||(n=k(n));var r=h(t,n,!1);if(S(r)||!r.delete(e))return!1;if(r.size>0)return!0;var i=v.get(t);return i.delete(n),i.size>0||(v.delete(t),!0)})})}(r||(r={}))},92071:(e,t,n)=>{"use strict";n.d(t,{L:()=>r0});var r,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,w,S,_,E,k,C={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},T=console,I={};Object.keys(C).forEach(function(e){I[e]=T[e]});var N="Datadog Browser SDK:",x={debug:I.debug.bind(T,N),log:I.log.bind(T,N),info:I.info.bind(T,N),warn:I.warn.bind(T,N),error:I.error.bind(T,N)},A="https://docs.datadoghq.com",O="".concat(A,"/real_user_monitoring/browser/troubleshooting"),R="More details:";function P(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){x.error(t,e)}}}var D=function(e,t,n){if(n||2==arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},M=!1;function L(e){M=e}function U(e){return function(){return j(e,this,arguments)}}function j(e,t,n){try{return e.apply(t,n)}catch(e){if(V(e),r)try{r(e)}catch(e){V(e)}}}function V(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];M&&x.error.apply(x,D(["[MONITOR]"],e,!1))}function H(e,t){return -1!==e.indexOf(t)}function q(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(e){return t.push(e)});else for(var n=0;n<e.length;n++)t.push(e[n]);return t}function B(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(t(r,n))return r}}function F(e){return Object.keys(e).map(function(t){return e[t]})}function z(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function $(e,t){return e.slice(0,t.length)===t}function K(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}),e}function G(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}var Y=/[^\u0000-\u007F]/;function W(e){return Y.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function J(e,t){var n,r=G();return r.Zone&&"function"==typeof r.Zone.__symbol__&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}function X(e,t){return J(G(),"setTimeout")(U(e),t)}function Q(e){J(G(),"clearTimeout")(e)}function Z(e,t){return J(G(),"setInterval")(U(e),t)}function ee(e){J(G(),"clearInterval")(e)}function et(e,t,n){var r,i,o=!n||void 0===n.leading||n.leading,a=!n||void 0===n.trailing||n.trailing,s=!1;return{throttled:function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];if(s){r=n;return}o?e.apply(void 0,n):r=n,s=!0,i=X(function(){a&&r&&e.apply(void 0,r),s=!1,r=void 0},t)},cancel:function(){Q(i),s=!1,r=void 0}}}function en(){}function er(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);var r=ei(Object.prototype),i=ei(Array.prototype),o=ei(Object.getPrototypeOf(e)),a=ei(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),o(),a()}}function ei(e){var t=e.toJSON;return t?(delete e.toJSON,function(){e.toJSON=t}):en}function eo(e){return K({},e)}function ea(e,t){return Object.keys(e).some(function(n){return e[n]===t})}function es(e){return 0===Object.keys(e).length}function eu(e){var t=0,n=et(function(n){t=W(er(n)),e()},200),r=n.throttled,i=n.cancel,o=function(){i(),t=0};return{updateCustomerData:function(e){es(e)?o():r(e)},resetCustomerData:o,getBytesCount:function(){return t},stop:function(){i()}}}function ec(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function el(e,t,n){if(void 0===n&&(n=function(){if("undefined"!=typeof WeakSet){var e=new WeakSet;return{hasAlreadyBeenSeen:function(t){var n=e.has(t);return n||e.add(t),n}}}var t=[];return{hasAlreadyBeenSeen:function(e){var n=t.indexOf(e)>=0;return n||t.push(e),n}}}()),void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var r=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,r)}if(!n.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],o=0;o<t.length;++o)i[o]=el(i[o],t[o],n);return i}var a="object"===ec(e)?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(a[s]=el(a[s],t[s],n));return a}}function ed(e){return el(void 0,e)}function ef(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];null!=i&&(e=el(e,i))}return e}function ep(e,t){void 0===t&&(t=225280);var n=ei(Object.prototype),r=ei(Array.prototype),i=[],o=new WeakMap,a=ev(e,"$",void 0,i,o),s=JSON.stringify(a),u=s?s.length:0;if(u>t)return void eh(t,"discarded",e);for(;i.length>0&&u<t;){var c=i.shift(),l=0;if(Array.isArray(c.source))for(var d=0;d<c.source.length;d++){var f=ev(c.source[d],c.path,d,i,o);if(void 0!==f?u+=JSON.stringify(f).length:u+=4,u+=l,l=1,u>t){eh(t,"truncated",e);break}c.target[d]=f}else for(var d in c.source)if(Object.prototype.hasOwnProperty.call(c.source,d)){var f=ev(c.source[d],c.path,d,i,o);if(void 0!==f&&(u+=JSON.stringify(f).length+l+d.length+3,l=1),u>t){eh(t,"truncated",e);break}c.target[d]=f}}return n(),r(),a}function ev(e,t,n,r,i){var o,a=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!a||"object"!=typeof a){return"bigint"==typeof(o=a)?"[BigInt] ".concat(o.toString()):"function"==typeof o?"[Function] ".concat(o.name||"unknown"):"symbol"==typeof o?"[Symbol] ".concat(o.description||o.toString()):o}var s=function(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e).match(/\[object (.*)\]/);if(t&&t[1])return"[".concat(t[1],"]")}catch(e){}return"[Unserializable]"}(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;if(i.has(e))return"[Reference seen at ".concat(i.get(e),"]");var u=void 0!==n?"".concat(t,".").concat(n):t,c=Array.isArray(a)?[]:{};return i.set(e,u),r.push({source:a,target:c,path:u}),c}function eh(e,t,n){x.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),n)}var eg=function(){function e(e){this.onFirstSubscribe=e,this.observers=[]}return e.prototype.subscribe=function(e){var t=this;return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){t.observers=t.observers.filter(function(t){return e!==t}),!t.observers.length&&t.onLastUnsubscribe&&t.onLastUnsubscribe()}}},e.prototype.notify=function(e){this.observers.forEach(function(t){return t(e)})},e}();function em(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new eg(function(t){var n=e.map(function(e){return e.subscribe(function(e){return t.notify(e)})});return function(){return n.forEach(function(e){return e.unsubscribe()})}})}function ey(e){var t={},n=new eg,r={getContext:function(){return ed(t)},setContext:function(i){"object"===ec(i)?(t=ep(i),null==e||e.updateCustomerData(t)):r.clearContext(),n.notify()},setContextProperty:function(r,i){t[r]=ep(i),null==e||e.updateCustomerData(t),n.notify()},removeContextProperty:function(r){delete t[r],null==e||e.updateCustomerData(t),n.notify()},clearContext:function(){t={},null==e||e.resetCustomerData(),n.notify()},changeObservable:n};return r}var eb={GRANTED:"granted",NOT_GRANTED:"not-granted"};function ew(e,t,n,r,i){return eS(e,t,[n],r,i)}function eS(e,t,n,r,i){var o=void 0===i?{}:i,a=o.once,s=o.capture,u=o.passive,c=U(function(t){(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(a&&p(),r(t))}),l=u?{capture:s,passive:u}:s,d=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,f=J(d,"addEventListener");function p(){var e=J(d,"removeEventListener");n.forEach(function(n){return e.call(t,n,c,l)})}return n.forEach(function(e){return f.call(t,e,c,l)}),{stop:p}}var e_=[];function eE(e,t,n,r){var i,o,a=(i=n,o=r,"".concat("_dd_c","_").concat(i,"_").concat(o));function s(){var e=localStorage.getItem(a);return null!==e?JSON.parse(e):{}}e_.push(ew(e,window,"storage",function(e){a===e.key&&t.setContext(s())})),t.changeObservable.subscribe(function(){localStorage.setItem(a,JSON.stringify(t.getContext()))}),t.setContext(ef(s(),t.getContext()))}function ek(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(n,r){var i=W(n);t+=i,e+=n,r&&r(i)},finish:function(e){e(this.finishSync())},finishSync:function(){var n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:function(e){return e.length}}}function eC(e){var t=[],n=eD(e,"stack"),r=String(e);return n&&$(n,r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(function(e){var n=function(e){var t=eN.exec(e);if(t){var n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=ex.exec(t[2]);return r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}}(e)||function(e){var t=eA.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){var t=eO.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){var t=eR.exec(e);if(t){var n=t[3]&&t[3].indexOf(" > eval")>-1,r=eP.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}}(e);n&&(!n.func&&n.line&&(n.func="?"),t.push(n))}),{message:eD(e,"message"),name:eD(e,"name"),stack:t}}var eT="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",eI="(?::(\\d+))",eN=RegExp("^\\s*at (.*?) ?\\(".concat(eT).concat(eI,"?").concat(eI,"?\\)?\\s*$"),"i"),ex=new RegExp("\\((\\S*)".concat(eI).concat(eI,"\\)")),eA=RegExp("^\\s*at ?".concat(eT).concat(eI,"?").concat(eI,"??\\s*$"),"i"),eO=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eR=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,eP=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function eD(e,t){if("object"==typeof e&&e&&t in e){var n=e[t];return"string"==typeof n?n:void 0}}var eM=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function eL(){var e,t=Error();if(!t.stack)try{throw t}catch(e){}return j(function(){var n=eC(t);n.stack=n.stack.slice(2),e=eU(n)}),e}function eU(e){var t=ej(e);return e.stack.forEach(function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"(".concat(e.args.join(", "),")"):"",i=e.line?":".concat(e.line):"",o=e.line&&e.column?":".concat(e.column):"";t+=`
  at `.concat(n).concat(r," @ ").concat(e.url).concat(i).concat(o)}),t}function ej(e){return"".concat(e.name||"Error",": ").concat(e.message)}var eV="No stack, consider using an instance of Error";function eH(e){var t,n,r,i,o,a,s=e.stackTrace,u=e.originalError,c=e.handlingStack,l=e.startClocks,d=e.nonErrorPrefix,f=e.source,p=e.handling,v=eB(u),h=(t=s,n=v,r=d,i=u,(null==t?void 0:t.message)&&(null==t?void 0:t.name)?t.message:n?"Empty message":"".concat(r," ").concat(er(ep(i)))),g=(o=v,void 0!==(a=s)&&(o||a.stack.length>0&&(a.stack.length>1||void 0!==a.stack[0].url)))?eU(s):eV,m=v?eF(u,f):void 0,y=s?s.name:void 0,b=eq(u);return{startClocks:l,source:f,handling:p,handlingStack:c,originalError:u,type:y,message:h,stack:g,causes:m,fingerprint:b}}function eq(e){return eB(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function eB(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function eF(e,t){for(var n=e,r=[];eB(null==n?void 0:n.cause)&&r.length<10;){var i=eC(n.cause);r.push({message:n.cause.message,source:t,type:null==i?void 0:i.name,stack:i&&eU(i)}),n=n.cause}return r.length?r:void 0}!function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.REMOTE_CONFIGURATION="remote_configuration",e.LONG_ANIMATION_FRAME="long_animation_frame",e.ANONYMOUS_USER_TRACKING="anonymous_user_tracking",e.ACTION_NAME_MASKING="action_name_masking",e.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",e.DELAY_VIEWPORT_COLLECTION="delay_viewport_collection"}(i||(i={}));var ez=new Set;function e$(e){return ez.has(e)}var eK="datad0g.com",eG="datadoghq.com",eY=["ddsource","ddtags"];function eW(e){return 0!==e&&100*Math.random()<=e}function eJ(e,t){return+e.toFixed(t)}function eX(e){return"number"==typeof e}var eQ=31536e6;function eZ(e){var t,n,r;return{relative:e,timeStamp:(t=e,(n=e1()-performance.now())>e6()?Math.round(function(e,t){return e+t}(n,t)):(r=t,Math.round(e6()+r)))}}function e0(e){return eX(e)?eJ(1e6*e,0):e}function e1(){return new Date().getTime()}function e2(){return performance.now()}function e3(){return{relative:e2(),timeStamp:e1()}}function e4(){return{relative:0,timeStamp:e6()}}function e6(){return void 0===o&&(o=performance.timing.navigationStart),o}function e5(e,t){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}function e8(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null==(e=t.connection)?void 0:e.effectiveType}}function e9(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function e7(){var e=[];return{add:function(t){e.push(t)>500&&e.splice(0,1)},remove:function(t){e9(e,t)},drain:function(t){e.forEach(function(e){return e(t)}),e.length=0}}}var te={log:"log",configuration:"configuration",usage:"usage"},tt=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],tn=["ddog-gov.com"],tr=e7(),ti=function(e){tr.add(function(){return ti(e)})};function to(e,t){V(C.debug,e,t),ti(K({type:te.log,message:e,status:"debug"},t))}function ta(e,t){ti(K({type:te.log,status:"error"},function(e){if(eB(e)){var t,n=eC(e);return{error:{kind:n.name,stack:eU(((t=n).stack=t.stack.filter(function(e){return!e.url||tt.some(function(t){return $(e.url,t)})}),t))},message:n.message}}return{error:{stack:eV},message:"".concat("Uncaught"," ").concat(er(e))}}(e),t))}function ts(e){ti({type:te.usage,usage:e})}function tu(e){var t=K({},e);return["id","name","email"].forEach(function(e){e in t&&(t[e]=String(t[e]))}),t}function tc(e,t){t.silentMultipleInit||x.error("".concat(e," is already initialized."))}function tl(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,tl)}var td=/([\w-]+)\s*=\s*([^;]+)/g;function tf(e,t){for(td.lastIndex=0;;){var n=td.exec(e);if(n){if(n[1]===t)return n[2]}else break}}function tp(e,t,n){void 0===n&&(n="");var r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:"".concat(e.slice(0,i)).concat(n)}function tv(e,t,n){var r=e.vitalsByName,i=e.vitalsByReference;void 0===n&&(n={});var o={name:t,startClocks:e3(),context:n.context,description:n.description},a={__dd_vital_reference:!0};return r.set(t,o),i.set(a,o),a}function th(e,t,n,r){var i,o,a,s,u,c,l=t.vitalsByName,d=t.vitalsByReference;void 0===r&&(r={});var f="string"==typeof n?l.get(n):d.get(n);f&&(e((i=f,o=f.startClocks,a=r,s=e3(),{name:i.name,type:"duration",startClocks:o,duration:(c=o.timeStamp,s.timeStamp-c),context:ef(i.context,a.context),description:null!=(u=a.description)?u:i.description})),"string"==typeof n?l.delete(n):d.delete(n))}function tg(){var e=G().DatadogEventBridge;if(e)return{getCapabilities:function(){var t;return JSON.parse((null==(t=e.getCapabilities)?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return null==(t=e.getPrivacyLevel)?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,n,r){e.send(JSON.stringify({eventType:t,event:n,view:r?{id:r}:void 0}))}}}function tm(e){void 0===e&&(e=null==(t=G().location)?void 0:t.hostname);var t,n=tg();return!!n&&n.getAllowedWebViewHosts().some(function(t){var n,r;return e===t||(n=e,r=".".concat(t),n.slice(-r.length)===r)})}function ty(e,t,n,r){var i=(void 0===r?{}:r).computeHandlingStack,o=e[t];if("function"!=typeof o)if(!(t in e&&$(t,"on")))return{stop:en};else o=en;var a=!1,s=function(){if(a)return o.apply(this,arguments);var e,t=q(arguments);j(n,null,[{target:this,parameters:t,onPostCall:function(t){e=t},handlingStack:i?eL():void 0}]);var r=o.apply(this,t);return e&&j(e,null,[r]),r};return e[t]=s,{stop:function(){a=!0,e[t]===s&&(e[t]=o)}}}function tb(e){return tw(e,location.href).href}function tw(e,t){var n=function(){if(void 0===a)try{var e=new tS("http://test/path");a="http://test/path"===e.href}catch(e){a=!1}return a?tS:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw Error("Failed to construct URL: ".concat(String(n)," ").concat(er({url:e,base:t})))}if(void 0===t&&!/:/.test(e))throw Error("Invalid URL: '".concat(e,"'"));var r=document,i=r.createElement("a");if(void 0!==t){var o=(r=document.implementation.createHTMLDocument("")).createElement("base");o.href=t,r.head.appendChild(o),r.body.appendChild(i)}return i.href=e,i}var tS=URL;function t_(){return s||(s=new eg(function(e){if(window.fetch)return ty(window,"fetch",function(t){var n,r,i,o,a,s,u,c,l,d,f;return n=t,r=e,i=n.parameters,o=n.onPostCall,a=n.handlingStack,s=i[0],void 0===(c=(u=i[1])&&u.method)&&s instanceof Request&&(c=s.method),l=void 0!==c?String(c).toUpperCase():"GET",d=s instanceof Request?s.url:tb(String(s)),f={state:"start",init:u,input:s,method:l,startClocks:e3(),url:d,handlingStack:a},void(r.notify(f),i[0]=f.input,i[1]=f.init,o(function(e){var t=r,n=e,i=f;function o(e){i.state="resolve",K(i,e),t.notify(i)}n.then(U(function(e){o({response:e,responseType:e.type,status:e.status,isAborted:!1})}),U(function(e){var t,n;o({status:0,isAborted:(null==(n=null==(t=i.init)?void 0:t.signal)?void 0:n.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})}))}))},{computeHandlingStack:!0}).stop})),s}function tE(e,t,n,r){void 0===n&&(n=0);var i=new Date;i.setTime(i.getTime()+n);var o="expires=".concat(i.toUTCString()),a=r&&r.crossSite?"none":"strict",s=r&&r.domain?";domain=".concat(r.domain):"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(o,";path=/;samesite=").concat(a).concat(s).concat(u).concat(c)}function tk(e){return tf(document.cookie,e)}function tC(e){return u||(u=function(e){var t=new Map;for(td.lastIndex=0;;){var n=td.exec(e);if(n)t.set(n[1],n[2]);else break}return t}(document.cookie)),u.get(e)}function tT(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||tC("datadog-synthetics-injects-rum"))}function tI(){var e,t,n;return null!=l?l:(void 0===e&&(e=window),n=e.navigator.userAgent,l=e.chrome||/HeadlessChrome/.test(n)?1:(null==(t=e.navigator.vendor)?void 0:t.indexOf("Apple"))===0||/safari/i.test(n)&&!/chrome|android/i.test(n)?2:3*!e.document.documentMode)}var tN="_dd_s",tx=144e5,tA=9e5,tO={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},tR=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function tP(e){var t={isExpired:"1"};return e$(i.ANONYMOUS_USER_TRACKING)&&((null==e?void 0:e.anonymousId)?t.anonymousId=null==e?void 0:e.anonymousId:t.anonymousId=Math.floor(0x20000000000000*Math.random()).toString(36)),t}function tD(e){return!es(e)}function tM(e){var t;return void 0!==e.isExpired||!((void 0===(t=e).created||e1()-Number(t.created)<tx)&&(void 0===t.expire||e1()<Number(t.expire)))}function tL(e){e.expire=String(e1()+tA)}function tU(e){return z(e).map(function(e){var t=e[0],n=e[1];return"anonymousId"===t?"aid=".concat(n):"".concat(t,"=").concat(n)}).join("&")}function tj(e){var t={};return e&&(-1!==e.indexOf("&")||tR.test(e))&&e.split("&").forEach(function(e){var n=tR.exec(e);if(null!==n){var r=n[1],i=n[2];"aid"===r?t.anonymousId=i:t[r]=i}}),t}function tV(e){var t,n,r=((n={}).secure=!!(t=e).useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,n.crossSite=!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie,n.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(n.domain=function(){if(void 0===c){for(var e="dd_site_test_".concat(tl()),t=window.location.hostname.split("."),n=t.pop();t.length&&!tk(e);)tE(e,"test",1e3,{domain:n="".concat(t.pop(),".").concat(n)});tE(e,"",0,{domain:n}),c=n}return c}()),n);return!function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{var t="dd_cookie_test_".concat(tl()),n="test";tE(t,n,6e4,e);var r=tk(t)===n;return tE(t,"",0,e),r}catch(e){return x.error(e),!1}}(r)?void 0:{type:tO.COOKIE,cookieOptions:r}}function tH(){return tj(tk(tN))}function tq(){try{var e=tl(),t="".concat("_dd_test_").concat(e);localStorage.setItem(t,e);var n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:tO.LOCAL_STORAGE}:void 0}catch(e){return}}function tB(e){localStorage.setItem(tN,tU(e))}function tF(){return tj(localStorage.getItem(tN))}function tz(e){tB(tP(e))}var t$=[];function tK(e,t,n){void 0===n&&(n=0);var r,i,o=t.isLockEnabled,a=t.persistSession,s=t.expireSession,u=function(e){return a(K({},e,{lock:i}))},c=function(){var e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(d||(d=e),e!==d)return void t$.push(e);if(o&&n>=100)return void tY(t);var l=c();if(o&&(l.lock||(i=tl(),u(l.session),(l=c()).lock!==i)))return void tG(e,t,n);var f=e.process(l.session);if(o&&(l=c()).lock!==i)return void tG(e,t,n);if(f&&(tM(f)?s(f):(tL(f),o?u(f):a(f))),o&&!(f&&tM(f))){if((l=c()).lock!==i)return void tG(e,t,n);a(l.session),f=l.session}null==(r=e.after)||r.call(e,f||l.session),tY(t)}function tG(e,t,n){X(function(){tK(e,t,n+1)},10)}function tY(e){d=void 0;var t=t$.shift();t&&tK(t,e)}function tW(e,t,n){var r=function(e,t){var n="/api/v2/".concat(t),r=e.proxy;if("string"==typeof r){var i=tb(r);return function(e){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(e)))}}if("function"==typeof r)return function(e){return r({path:n,parameters:e})};var o=function(e,t){var n=t.site,r=void 0===n?eG:n,i=t.internalAnalyticsSubdomain;if("logs"===e&&t.usePciIntake&&r===eG)return"pci.browser-intake-datadoghq.com";if(i&&r===eG)return"".concat(i,".").concat(eG);if("dd0g-gov.com"===r)return"http-intake.logs.".concat(r);var o=r.split("."),a=o.pop();return"browser-intake-".concat(o.join("-"),".").concat(a)}(t,e);return function(e){return"https://".concat(o).concat(n,"?").concat(e)}}(e,t);return{build:function(i,o){var a,s,u,c,l,d,f,p,v,h,g;return r((a=e,s=t,u=n,c=i,l=o,d=a.clientToken,f=a.internalAnalyticsSubdomain,p=l.retry,v=l.encoding,h=["sdk_version:".concat("5.35.1"),"api:".concat(c)].concat(u),p&&h.push("retry_count:".concat(p.count),"retry_after:".concat(p.lastFailureStatus)),g=["ddsource=browser","ddtags=".concat(encodeURIComponent(h.join(","))),"dd-api-key=".concat(d),"dd-evp-origin-version=".concat(encodeURIComponent("5.35.1")),"dd-evp-origin=browser","dd-request-id=".concat(tl())],v&&g.push("dd-evp-encoding=".concat(v)),"rum"===s&&g.push("batch_time=".concat(e1())),f&&g.reverse(),g.join("&")))},urlPrefix:r(""),trackType:t}}function tJ(e,t){var n,r=200-e.length-1;(t.length>r||(n=t,function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(n)))&&x.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. ").concat(R," ").concat(A,"/getting_started/tagging/#defining-tags"));var i=t.replace(/,/g,"_");return"".concat(e,":").concat(i)}var tX={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},tQ={ALL:"all",SAMPLED:"sampled"};function tZ(e,t){return null==e||"string"==typeof e||(x.error("".concat(t," must be defined as a string")),!1)}function t0(e,t){return void 0===e||!!(eX(e)&&e>=0&&e<=100)||(x.error("".concat(t," Sample Rate should be a number between 0 and 100")),!1)}function t1(e){var t=ec(e);return"string"===t||"function"===t||e instanceof RegExp}function t2(e,t,n){return void 0===n&&(n=!1),e.some(function(e){try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?$(t,e):e===t}catch(e){x.error(e)}return!1})}function t3(){return window.crypto||window.msCrypto}function t4(e){return f||(f=e$(i.CONSISTENT_TRACE_SAMPLING)&&function(){try{return crypto.getRandomValues(new BigUint64Array(1)),!0}catch(e){return!1}}()?t6:t5),f(e)}function t6(e){var t=crypto.getRandomValues(new BigUint64Array(1))[0];return 63===e&&(t>>=BigInt("1")),t}function t5(e){var t=t3().getRandomValues(new Uint32Array(2));return 63===e&&(t[t.length-1]>>>=1),{toString:function(e){void 0===e&&(e=10);var n=t[1],r=t[0],i="";do{var o=n%e*0x100000000+r;n=Math.floor(n/e),r=Math.floor(o/e),i=(o%e).toString(e)+i}while(n||r)return i}}}function t8(e){var t=e.toString(16);return Array(17-t.length).join("0")+t}function t9(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function t7(e,t,n,r){if(void 0!==t3()&&n.findTrackedSession()){var i=B(e.allowedTracingUrls,function(e){return t2([e.match],t.url,!0)});if(i){var o,a,s,u,c,l=t4(64);t.traceSampled=function(e,t){if(100===t)return!0;if(0===t)return!1;if("bigint"!=typeof e)return eW(t);var n=BigInt("1111111111111111111"),r=BigInt("0x10000000000000000");return Number(e*n%r)<=t/100*Number(r)}(l,e.traceSampleRate),(t.traceSampled||e.traceContextInjection===tQ.ALL)&&(t.traceId=l,t.spanId=t4(63),r((o=t.traceId,a=t.spanId,s=t.traceSampled,u=i.propagatorTypes,c={},u.forEach(function(e){switch(e){case"datadog":K(c,{"x-datadog-origin":"rum","x-datadog-parent-id":a.toString(),"x-datadog-sampling-priority":s?"1":"0","x-datadog-trace-id":o.toString()});break;case"tracecontext":K(c,{traceparent:"00-0000000000000000".concat(t8(o),"-").concat(t8(a),"-0").concat(s?"1":"0")});break;case"b3":K(c,{b3:"".concat(t8(o),"-").concat(t8(a),"-").concat(s?"1":"0")});break;case"b3multi":K(c,{"X-B3-TraceId":t8(o),"X-B3-SpanId":t8(a),"X-B3-Sampled":s?"1":"0"})}}),c)))}}}var ne=["tracecontext","datadog"];function nt(){x.error("Error fetching the remote configuration.")}var nn={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"},nr={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",SOURCE:"source",REPORT:"report"};function ni(e,t,n){var r=0,i=!1;return{isLimitReached:function(){if(0===r&&X(function(){r=0},6e4),(r+=1)<=t||i)return i=!1,!1;if(r===t+1){i=!0;try{n({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:nr.AGENT,startClocks:e3()})}finally{i=!1}}return!0}}}function no(e,t,n){for(var r=e,i=t.split("."),o=0;o<i.length;o+=1){var a=i[o];if(!na(r))return;o!==i.length-1?r=r[a]:r[a]=n}}function na(e){return"object"===ec(e)}var ns={"view.name":"string","view.url":"string","view.referrer":"string"},nu={context:"object"},nc={service:"string",version:"string"},nl=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach(function(e){return e(t)})},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return t!==e})}}},e}(),nd=1/0;function nf(e){var t=e.expireDelay,n=e.maxEntries,r=[],i=Z(function(){for(var e=e2()-t;r.length>0&&r[r.length-1].endTime<e;)r.pop()},6e4);return{add:function(e,t){var i={value:e,startTime:t,endTime:nd,remove:function(){e9(r,i)},close:function(e){i.endTime=e}};return n&&r.length>=n&&r.pop(),r.unshift(i),i},find:function(e,t){void 0===e&&(e=nd),void 0===t&&(t={returnInactive:!1});for(var n=0,i=r;n<i.length;n++){var o=i[n];if(o.startTime<=e){if(t.returnInactive||e<=o.endTime)return o.value;break}}},closeActive:function(e){var t=r[0];t&&t.endTime===nd&&t.close(e)},findAll:function(e,t){void 0===e&&(e=nd),void 0===t&&(t=0);var n=e+t;return r.filter(function(t){return t.startTime<=n&&e<=t.endTime}).map(function(e){return e.value})},reset:function(){r=[]},stop:function(){ee(i)}}}var np=new WeakMap;function nv(e){var t=e.target,n=e.parameters,r=n[0],i=n[1];np.set(t,{state:"open",method:String(r).toUpperCase(),url:tb(String(i))})}function nh(e){var t=e.target,n=np.get(t);n&&(n.isAborted=!0)}var ng="initial_document",nm=[["document",function(e){return ng===e}],["xhr",function(e){return"xmlhttprequest"===e}],["fetch",function(e){return"fetch"===e}],["beacon",function(e){return"beacon"===e}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return H(["image","img","icon"],e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)}],["font",function(e,t){return null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)}],["media",function(e,t){return H(["audio","video"],e)||null!==/\.(mp3|mp4)$/i.exec(t)}]];function ny(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function nb(e){return e.duration>=0}function nw(e){var t,n=ny(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),r=!((t=e).redirectEnd>t.startTime)||ny(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return n&&r}function nS(e,t,n){if(e<=t&&t<=n)return{duration:e0(n-t),start:e0(t-e)}}function n_(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}function nE(e){return""===e.deliveryType?"other":e.deliveryType}function nk(e){return e&&!eY.every(function(t){return H(e,t)})}var nC=/data:(.+)?(;base64)?,/g,nT=1;function nI(){var e=nT;return nT+=1,e}function nN(e){return eX(e)&&e<0?void 0:e}function nx(e){var t=e.lifeCycle,n=e.isChildEvent,r=e.onChange,i=void 0===r?en:r,o={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},a=t.subscribe(13,function(e){var t;if("view"!==e.type&&"vital"!==e.type&&n(e))switch(e.type){case"error":o.errorCount+=1,i();break;case"action":o.actionCount+=1,e.action.frustration&&(o.frustrationCount+=e.action.frustration.type.length),i();break;case"long_task":o.longTaskCount+=1,i();break;case"resource":(null==(t=e._dd)?void 0:t.discarded)||(o.resourceCount+=1,i())}});return{stop:function(){a.unsubscribe()},eventCounts:o}}function nA(e,t){return new eg(function(n){if(window.PerformanceObserver){var r,i,o,a=function(e){var t=e.filter(function(e){var t;return!((t=e).entryType===h.RESOURCE&&(!nk(t.name)||!nb(t)))});t.length>0&&n.notify(t)},s=!0,u=new PerformanceObserver(U(function(e){s?i=X(function(){return a(e.getEntries())}):a(e.getEntries())}));try{u.observe(t)}catch(e){if(H([h.RESOURCE,h.NAVIGATION,h.LONG_TASK,h.PAINT],t.type)){t.buffered&&(i=X(function(){return a(performance.getEntriesByType(t.type))}));try{u.observe({entryTypes:[t.type]})}catch(e){return}}}return s=!1,r=e,!g&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(g=ew(r,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})),nO(h.FIRST_INPUT)||t.type!==h.FIRST_INPUT||(o=function(e,t){var n=e1(),r=!1,i=eS(e,window,["click","mousedown","keydown","touchstart","pointerdown"],function(t){if(t.cancelable){var n,r,i={entryType:"first-input",processingStart:e2(),processingEnd:e2(),startTime:t.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};"pointerdown"===t.type?(n=e,r=i,eS(n,window,["pointerup","pointercancel"],function(e){"pointerup"===e.type&&o(r)},{once:!0})):o(i)}},{passive:!0,capture:!0}).stop;return{stop:i};function o(e){if(!r){r=!0,i();var o=e.processingStart-e.startTime;o>=0&&o<e1()-n&&t(e)}}}(e,function(e){a([e])}).stop),function(){u.disconnect(),o&&o(),Q(i)}}})}function nO(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}!function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.LONG_ANIMATION_FRAME="long-animation-frame",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"}(h||(h={}));function nR(e,t,n){var r,i=!1,o=X(U(function(){return c({hadActivity:!1})}),100),a=void 0!==n?X(U(function(){return c({hadActivity:!0,end:e1()})}),n):void 0,s=e.subscribe(function(e){var t=e.isBusy;Q(o),Q(r);var n=e1();t||(r=X(U(function(){return c({hadActivity:!0,end:n})}),100))}),u=function(){i=!0,Q(o),Q(r),Q(a),s.unsubscribe()};function c(e){i||(u(),t(e))}return{stop:u}}function nP(e,t,n,r){return new eg(function(i){var o,a=[],s=0;return a.push(t.subscribe(u),n.subscribe(u),nA(r,{type:h.RESOURCE}).subscribe(function(e){e.some(function(e){return!nD(r,e.name)})&&u()}),e.subscribe(7,function(e){nD(r,e.url)||(void 0===o&&(o=e.requestIndex),s+=1,u())}),e.subscribe(8,function(e){nD(r,e.url)||void 0===o||e.requestIndex<o||(s-=1,u())})),function(){a.forEach(function(e){return e.unsubscribe()})};function u(){i.notify({isBusy:s>0})}})}function nD(e,t){return t2(e.excludedActivityUrls,t)}function nM(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"":"".concat(e.slice(0,-1),"\\").concat(e.charCodeAt(e.length-1).toString(16)," "):"\\".concat(e)})}function nL(e,t){return e.matches?e.matches(t):!!e.msMatchesSelector&&e.msMatchesSelector(t)}function nU(e){if(e.parentElement)return e.parentElement;for(;e.parentNode;){if(e.parentNode.nodeType===Node.ELEMENT_NODE)return e.parentNode;e=e.parentNode}return null}var nj=function(){function e(e){var t=this;this.map=new WeakMap,e&&e.forEach(function(e){return t.map.set(e,1)})}return e.prototype.add=function(e){return this.map.set(e,1),this},e.prototype.delete=function(e){return this.map.delete(e)},e.prototype.has=function(e){return this.map.has(e)},e}();function nV(e){return e.nodeType===Node.ELEMENT_NODE}var nH={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:tX.ALLOW,MASK:tX.MASK,MASK_USER_INPUT:tX.MASK_USER_INPUT},nq={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function nB(e){return"[".concat("data-dd-privacy",'="').concat(e,'"], .').concat("dd-privacy-").concat(e)}var nF="data-dd-action-name";function nz(e,t){if(void 0===y&&(y="closest"in HTMLElement.prototype),y)n=e.closest("[".concat(t,"]"));else for(var n,r=e;r;){if(r.hasAttribute(t)){n=r;break}r=nU(r)}if(n)return nW(nY(n.getAttribute(t).trim()))}var n$=[function(e,t,n){if(void 0===m&&(m="labels"in HTMLInputElement.prototype),m){if("labels"in e&&e.labels&&e.labels.length>0)return nX(e.labels[0],t)}else if(e.id){var r=e.ownerDocument&&B(e.ownerDocument.querySelectorAll("label"),function(t){return t.htmlFor===e.id});return r&&nX(r,t,n)}},function(e){if("INPUT"===e.nodeName){var t=e.getAttribute("type");if("button"===t||"submit"===t||"reset"===t)return{name:e.value,nameSource:"text_content"}}},function(e,t,n){if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return nX(e,t,n)},function(e){return nJ(e,"aria-label")},function(e,t,n){var r=e.getAttribute("aria-labelledby");if(r)return{name:r.split(/\s+/).map(function(t){var n,r;return n=e,r=t,n.ownerDocument?n.ownerDocument.getElementById(r):null}).filter(function(e){return!!e}).map(function(e){return nQ(e,t,n)}).join(" "),nameSource:"text_content"}},function(e){return nJ(e,"alt")},function(e){return nJ(e,"name")},function(e){return nJ(e,"title")},function(e){return nJ(e,"placeholder")},function(e,t){if("options"in e&&e.options.length>0)return nX(e.options[0],t)}],nK=[function(e,t,n){return nX(e,t,n)}];function nG(e,t,n,r){for(var i=e,o=0;o<=10&&i&&"BODY"!==i.nodeName&&"HTML"!==i.nodeName&&"HEAD"!==i.nodeName;){for(var a=0;a<n.length;a++){var s=(0,n[a])(i,t,r);if(s){var u=s.name,c=s.nameSource,l=u&&u.trim();if(l)return{name:nW(nY(l)),nameSource:c}}}if("FORM"===i.nodeName)break;i=nU(i),o+=1}}function nY(e){return e.replace(/\s+/g," ")}function nW(e){return e.length>100?"".concat(tp(e,100)," [...]"):e}function nJ(e,t){return{name:e.getAttribute(t)||"",nameSource:"standard_attribute"}}function nX(e,t,n){return{name:nQ(e,t,n)||"",nameSource:"text_content"}}function nQ(e,t,n){if(!e.isContentEditable){if("innerText"in e){var r=e.innerText,i=function(t){for(var n=e.querySelectorAll(t),i=0;i<n.length;i+=1){var o=n[i];if("innerText"in o){var a=o.innerText;a&&a.trim().length>0&&(r=r.replace(a,""))}}};return 0===tI()&&i("script, style"),i("[".concat(nF,"]")),t&&i("[".concat(t,"]")),n&&i("".concat(nB(nH.HIDDEN),", ").concat(nB(nH.MASK))),r}return e.textContent}}var nZ=[nF,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],n0=[n4,function(e){if(e.id&&!n3(e.id))return"#".concat(nM(e.id))}],n1=[n4,function(e){if("BODY"!==e.tagName)for(var t=function(e){if(e.classList)return e.classList;var t=(e.getAttribute("class")||"").trim();return t?t.split(/\s+/):[]}(e),n=0;n<t.length;n+=1){var r=t[n];if(!n3(r))return"".concat(nM(e.tagName),".").concat(nM(r))}},function(e){return nM(e.tagName)}];function n2(e,t){var n;if("isConnected"in(n=e)?n.isConnected:n.ownerDocument.documentElement.contains(n)){for(var r,i=e;i&&"HTML"!==i.nodeName;){var o=n6(i,n0,n5,t,r);if(o)return o;r=n6(i,n1,n8,t,r)||n9(function(e){for(var t=nU(e).firstElementChild,n=1;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;return"".concat(nM(e.tagName),":nth-of-type(").concat(n,")")}(i),r),i=nU(i)}return r}}function n3(e){return/[0-9]/.test(e)}function n4(e,t){if(t){var n=i(t);if(n)return n}for(var r=0;r<nZ.length;r++){var n=i(nZ[r]);if(n)return n}function i(t){if(e.hasAttribute(t))return"".concat(nM(e.tagName),"[").concat(t,'="').concat(nM(e.getAttribute(t)),'"]')}}function n6(e,t,n,r,i){for(var o=0;o<t.length;o++){var a=(0,t[o])(e,r);if(a&&n(e,a,i))return n9(a,i)}}function n5(e,t,n){return 1===e.ownerDocument.querySelectorAll(n9(t,n)).length}function n8(e,t,n){if(void 0===n)r=function(e){return nL(e,t)};else{var r,i=!function(){if(void 0===b)try{document.querySelector(":scope"),b=!0}catch(e){b=!1}return b}()?n9(t,n):n9("".concat(t,":scope"),n);r=function(e){return null!==e.querySelector(i)}}for(var o=nU(e).firstElementChild;o;){if(o!==e&&r(o))return!1;o=o.nextElementSibling}return!0}function n9(e,t){return t?"".concat(e,">").concat(t):e}function n7(){var e=window.getSelection();return!e||e.isCollapsed}function re(e){return e.target instanceof Element&&!1!==e.isPrimary}function rt(e){return!e.hasPageActivity&&!e.getUserActivity().input&&!e.getUserActivity().scroll&&!nL(e.event.target,'input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *')}var rn=new Map;function rr(e,t){rn.set(e,t),rn.forEach(function(e,t){e2()-t>1e4&&rn.delete(t)})}var ri=3e5;function ro(e,t){var n=ra(e)?{action:{id:e.id,loading_time:nN(e0(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:e$(i.ACTION_NAME_MASKING)?e.nameSource:void 0}}}:void 0,r=ra(e)?void 0:e.context,o=ef({action:{id:tl(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},n),a=ra(e)?{events:e.events}:{};return!ra(e)&&e.handlingStack&&(a.handlingStack=e.handlingStack),{customerContext:r,rawRumEvent:o,startTime:e.startClocks.relative,domainContext:a}}function ra(e){return"custom"!==e.type}var rs={},ru={intervention:"intervention",cspViolation:"csp_violation"};function rc(e){return K({startClocks:e3(),source:nr.REPORT,handling:"unhandled"},e)}function rl(e,t,n,r,i){return n?eU({name:e,message:t,stack:[{func:"?",url:n,line:null!=r?r:void 0,column:null!=i?i:void 0}]}):void 0}var rd=new nj;function rf(e){return e.startTime+e.duration}function rp(e,t,n){return document.readyState===t||"complete"===document.readyState?(n(),{stop:en}):ew(e,window,"complete"===t?"load":"DOMContentLoaded",n,{once:!0})}var rv=12e4;function rh(e,t){var n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function rg(e){if(e&&e.nodeType===Node.COMMENT_NODE){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function rm(){if(nO(h.NAVIGATION)){var e=performance.getEntriesByType(h.NAVIGATION)[0];if(e)return e}var t=function(){var e={},t=performance.timing;for(var n in t)if(eX(t[n])){var r=t[n];e[n]=0===r?0:r-e6()}return e}(),n=K({entryType:h.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:function(){return K({},n,{toJSON:void 0})}},t);return n}function ry(e,t){rp(e,"interactive",function(){var e=K(rm().toJSON(),{entryType:h.RESOURCE,initiatorType:ng,traceId:function(e){var t,n,r,i=(n=(t=e).querySelector("meta[name=dd-trace-id]"),r=t.querySelector("meta[name=dd-trace-time]"),rh(n&&n.content,r&&r.content)||function(e){var t=function(e){for(var t=0;t<e.childNodes.length;t+=1){var n=rg(e.childNodes[t]);if(n)return n}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var r=e.body.childNodes[t],n=rg(r);if(n)return n;if(r.nodeType!==Node.TEXT_NODE)break}}(e);if(t)return rh(tf(t,"trace-id"),tf(t,"trace-time"))}(e));if(!(!i||i.traceTime<=e1()-rv))return i.traceId}(document),toJSON:function(){return K({},e,{toJSON:void 0})}});t(e)})}function rb(e,t){var n=eZ(e.startTime),r=function(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,span_id:t4(63).toString(),rule_psr:t.rulePsr}}}(e,t);if(t.trackResources||r){var i,o=function(e){var t,n=e.name;if(!function(e){try{return!!tw(e)}catch(e){return!1}}(n))return to('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r="/"===(t=tw(n).pathname)[0]?t:"/".concat(t),i=0;i<nm.length;i++){var o=nm[i],a=o[0];if((0,o[1])(e.initiatorType,r))return a}return"other"}(e),a=rw(e),s=ef({date:n.timeStamp,resource:{id:tl(),type:o,url:e.name,status_code:0===(i=e.responseStatus)?void 0:i,protocol:n_(e),delivery_type:nE(e)},type:"resource",_dd:{discarded:!t.trackResources}},r,a);return{startTime:n.relative,rawRumEvent:s,domainContext:{performanceEntry:e}}}}function rw(e){var t,n,r,i,o=e.renderBlockingStatus;return{resource:K({duration:(n=(t=e).duration,r=t.startTime,i=t.responseEnd,0===n&&r<i?e0(i-r):e0(n)),render_blocking_status:o},function(e){if(e.startTime<e.responseStart){var t=e.encodedBodySize,n=e.decodedBodySize;return{size:n,encoded_body_size:t,decoded_body_size:n,transfer_size:e.transferSize}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}(e),function(e){if(nw(e)){var t=e.startTime,n=e.fetchStart,r=e.workerStart,i=e.redirectStart,o=e.redirectEnd,a=e.domainLookupStart,s=e.domainLookupEnd,u=e.connectStart,c=e.secureConnectionStart,l=e.connectEnd,d=e.requestStart,f=e.responseStart,p={download:nS(t,f,e.responseEnd),first_byte:nS(t,d,f)};return 0<r&&r<n&&(p.worker=nS(t,r,n)),n<l&&(p.connect=nS(t,u,l),u<=c&&c<=l&&(p.ssl=nS(t,c,l))),n<s&&(p.dns=nS(t,a,s)),t<o&&(p.redirect=nS(t,i,o)),p}}(e))}}var rS=6e5,r_=6e5;function rE(e,t){var n,r;return void 0===t&&(t=window),"hidden"===document.visibilityState?n=0:(n=1/0,r=eS(e,t,["pagehide","visibilitychange"],function(e){("pagehide"===e.type||"hidden"===document.visibilityState)&&(n=e.timeStamp,r())},{capture:!0}).stop),{get timeStamp(){return n},stop:function(){null==r||r()}}}var rk=0,rC=1/0,rT=0,rI=function(){return w?rk:window.performance.interactionCount||0},rN=6e4;function rx(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var rA=3e5,rO=3e5;function rR(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}var rP=[];function rD(e){return"2"===e||"1"===e}function rM(e){var t=e.encoder,n=e.request,r=e.flushController,i=e.messageBytesLimit,o={},a=r.flushObservable.subscribe(function(e){return function(e){var r,i=F(o).join(`
`);o={};var a=(r=e.reason,H(F(nn),r)),s=a?n.sendOnExit:n.send;if(a&&t.isAsync){var u=t.finishSync();u.outputBytesCount&&s(rL(u));var c=[u.pendingData,i].filter(Boolean).join(`
`);c&&s({data:c,bytesCount:W(c)})}else i&&t.write(t.isEmpty?i:`
`.concat(i)),t.finish(function(e){s(rL(e))})}(e)});function s(e,n){var a,s,u=er(e),c=t.estimateEncodedBytesCount(u);if(c>=i)return void x.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(i,"KB. ").concat(R," ").concat(O,"/#technical-limitations"));void 0!==n&&void 0!==o[n]&&(a=o[n],delete o[n],s=t.estimateEncodedBytesCount(a),r.notifyAfterRemoveMessage(s)),r.notifyBeforeAddMessage(c),void 0!==n?(o[n]=u,r.notifyAfterAddMessage()):t.write(t.isEmpty?u:`
`.concat(u),function(e){r.notifyAfterAddMessage(e-c)})}return{flushController:r,add:s,upsert:s,stop:a.unsubscribe}}function rL(e){var t;return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}var rU=3145728;function rj(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?rV(e,t,n,{onSuccess:function(){return rH(0,t,n,r,i)},onFailure:function(){t.queuedPayloads.enqueue(e),function e(t,n,r,i){2===t.transportStatus&&X(function(){rV(t.queuedPayloads.first(),t,n,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,rH(1,t,n,r,i)},onFailure:function(){t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),e(t,n,r,i)}})},t.currentBackoffTime)}(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function rV(e,t,n,r){var i=r.onSuccess,o=r.onFailure;t.bandwidthMonitor.add(e),n(e,function(n){var r;t.bandwidthMonitor.remove(e),"opaque"!==(r=n).type&&(0===r.status&&!navigator.onLine||408===r.status||429===r.status||r.status>=500)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},o()):(t.transportStatus=0,i())})}function rH(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(r," events size queued for upload: ").concat(rU/1048576,"MiB"),source:nr.AGENT,startClocks:e3()}),t.queueFullReported=!0);var o=t.queuedPayloads;for(t.queuedPayloads=rq();o.size()>0;)rj(o.dequeue(),t,n,r,i)}function rq(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=rU}}}var rB=!1;function rF(e,t,n){var r=new XMLHttpRequest;r.open("POST",e,!0),t instanceof Blob&&r.setRequestHeader("Content-Type",t.type),ew({allowUntrustedEvents:!0},r,"loadend",function(){null==n||n({status:r.status})},{once:!0}),r.send(t)}function rz(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}function r$(){0!==_.batchCount&&(to("Customer data measures",_),rW())}function rK(){return{min:1/0,max:0,sum:0}}function rG(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function rY(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function rW(){_={batchCount:0,batchBytesCount:rK(),batchMessagesCount:rK(),globalContextBytes:rK(),userContextBytes:rK(),featureFlagBytes:rK()}}function rJ(){k=!1,E={globalContextBytes:rK(),userContextBytes:rK(),featureFlagBytes:rK()}}function rX(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}function rQ(e,t){var n=tf(document.cookie,e),r=Z(function(){var r=tf(document.cookie,e);r!==n&&t(r)},1e3);return function(){ee(r)}}var rZ="datadog-ci-visibility-test-execution-id",r0=function(e,t,n){void 0===n&&(n={});var r,o,a,s=function(e){void 0===e&&(e=2);var t=new Map,n=!1;function r(r){if(void 0===r&&(r=0),!n&&0!==e){var i,o=2===e?3072:16384,a=r;t.forEach(function(e){a+=e.getBytesCount()}),a>o&&(i=o,x.warn("Customer data exceeds the recommended ".concat(i/1024,"KiB threshold. ").concat(R," ").concat(O,"/#customer-data-exceeds-the-recommended-threshold-warning")),n=!0)}}return{createDetachedTracker:function(){var e=eu(function(){return r(e.getBytesCount())});return e},getOrCreateTracker:function(e){return t.has(e)||t.set(e,eu(r)),t.get(e)},setCompressionStatus:function(t){0===e&&(e=t,r())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(e){return e.stop()}),t.clear()}}}(0),u=ey(s.getOrCreateTracker(2)),c=ey(s.getOrCreateTracker(1)),l={tryToInit:function(e){r||(r=e)},update:function(e){r=e,o.notify()},isGranted:function(){return r===eb.GRANTED},observable:o=new eg},d={vitalsByName:new Map,vitalsByReference:new WeakMap};function f(){return{context:u.getContext(),user:c.getContext(),hasReplay:!!t.isRecording()||void 0}}var p=function(e,t,n,r,o){var a,s,u,c,l=e.ignoreInitIfSyntheticsWillInjectRum,d=e.startDeflateWorker,f=e7(),p=n.observable.subscribe(v);function v(){if(u&&c&&n.isGranted()){if(p.unsubscribe(),c.trackViewsManually){if(!a)return;f.remove(a.callback),e=a.options}var e,t=o(c,s,e);f.drain(t)}}function h(e){var t,r,i,o,a,l,f,p,h,g=tm();if(g&&(e=K({},t=e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:null!=(r=t.defaultPrivacyLevel)?r:null==(i=tg())?void 0:i.getPrivacyLevel()})),u=e,f={session_sample_rate:(a=o=e).sessionSampleRate,telemetry_sample_rate:a.telemetrySampleRate,telemetry_configuration_sample_rate:a.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:a.telemetryUsageSampleRate,use_before_send:!!a.beforeSend,use_cross_site_session_cookie:a.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:a.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:a.useSecureSessionCookie,use_proxy:!!a.proxy,silent_multiple_init:a.silentMultipleInit,track_session_across_subdomains:a.trackSessionAcrossSubdomains,session_persistence:a.sessionPersistence,allow_fallback_to_local_storage:!!a.allowFallbackToLocalStorage,store_contexts_across_pages:!!a.storeContextsAcrossPages,allow_untrusted_events:!!a.allowUntrustedEvents,tracking_consent:a.trackingConsent},h=K({session_replay_sample_rate:o.sessionReplaySampleRate,start_session_replay_recording_manually:o.startSessionReplayRecordingManually,trace_sample_rate:o.traceSampleRate,trace_context_injection:o.traceContextInjection,action_name_attribute:o.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(o.allowedTracingUrls)&&o.allowedTracingUrls.length>0,selected_tracing_propagators:(p=new Set,Array.isArray(o.allowedTracingUrls)&&o.allowedTracingUrls.length>0&&o.allowedTracingUrls.forEach(function(e){t1(e)?ne.forEach(function(e){return p.add(e)}):"object"===ec(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach(function(e){return p.add(e)})}),q(p)),default_privacy_level:o.defaultPrivacyLevel,enable_privacy_for_action_name:o.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(o.excludedActivityUrls)&&o.excludedActivityUrls.length>0,use_worker_url:!!o.workerUrl,compress_intake_requests:o.compressIntakeRequests,track_views_manually:o.trackViewsManually,track_user_interactions:o.trackUserInteractions,track_resources:o.trackResources,track_long_task:o.trackLongTasks,plugins:null==(l=o.plugins)?void 0:l.map(function(e){var t;return K({name:e.name},null==(t=e.getConfigurationTelemetry)?void 0:t.call(e))})},f),ti({type:te.configuration,configuration:h}),c)return void tc("DD_RUM",e);var m=function(e){if(!e.applicationId)return void x.error("Application ID is not configured, no RUM data will be collected.");if(t0(e.sessionReplaySampleRate,"Session Replay")&&t0(e.traceSampleRate,"Trace")){if(void 0!==e.excludedActivityUrls&&!Array.isArray(e.excludedActivityUrls))return void x.error("Excluded Activity Urls should be an array");var t,n,r,i=function(e){if(void 0===e.allowedTracingUrls)return[];if(!Array.isArray(e.allowedTracingUrls))return void x.error("Allowed Tracing URLs should be an array");if(0!==e.allowedTracingUrls.length&&void 0===e.service)return void x.error("Service needs to be configured when tracing is enabled");var t=[];return e.allowedTracingUrls.forEach(function(e){if(t1(e))t.push({match:e,propagatorTypes:ne});else"object"===ec(e)&&t1(e.match)&&Array.isArray(e.propagatorTypes)?t.push(e):x.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)}),t}(e);if(i){var o=function(e){var t,n,r,i,o,a,s,u,c,l,d,f,p,v,h,g;if(!e||!e.clientToken)return void x.error("Client Token is not configured, we will not send any data.");if((!(a=e.site)||"string"!=typeof a||/(datadog|ddog|datad0g|dd0g)/.test(a)||(x.error("Site should be a valid Datadog site. ".concat(R," ").concat(A,"/getting_started/site/.")),0))&&t0(e.sessionSampleRate,"Session")&&t0(e.telemetrySampleRate,"Telemetry")&&t0(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&t0(e.telemetryUsageSampleRate,"Telemetry Usage")&&tZ(e.version,"Version")&&tZ(e.env,"Env")&&tZ(e.service,"Service")){if(void 0!==e.trackingConsent&&!ea(eb,e.trackingConsent))return void x.error('Tracking Consent should be either "granted" or "not-granted"');return K({beforeSend:e.beforeSend&&P(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:function(e){switch(e.sessionPersistence){case tO.COOKIE:return tV(e);case tO.LOCAL_STORAGE:return tq();case void 0:var t=tV(e);return!t&&e.allowFallbackToLocalStorage&&(t=tq()),t;default:x.error("Invalid session persistence '".concat(String(e.sessionPersistence),"'"))}}(e),sessionSampleRate:null!=(t=e.sessionSampleRate)?t:100,telemetrySampleRate:null!=(n=e.telemetrySampleRate)?n:20,telemetryConfigurationSampleRate:null!=(r=e.telemetryConfigurationSampleRate)?r:5,telemetryUsageSampleRate:null!=(i=e.telemetryUsageSampleRate)?i:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!=(o=e.trackingConsent)?o:eb.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:50,messageBytesLimit:262144},(s=e.site||eG,u=e.env,c=e.service,l=e.version,d=e.datacenter,f=[],u&&f.push(tJ("env",u)),c&&f.push(tJ("service",c)),l&&f.push(tJ("version",l)),d&&f.push(tJ("datacenter",d)),p=f,v={logsEndpointBuilder:tW(h=e,"logs",g=p),rumEndpointBuilder:tW(h,"rum",g),sessionReplayEndpointBuilder:tW(h,"replay",g)},K({replica:function(e,t){if(e.replica){var n=K({},e,{site:eG,clientToken:e.replica.clientToken}),r={logsEndpointBuilder:tW(n,"logs",t),rumEndpointBuilder:tW(n,"rum",t)};return K({applicationId:e.replica.applicationId},r)}}(e,p),site:s},v)))}}(e);if(o){var a=null!=(t=e.sessionReplaySampleRate)?t:0;return K({applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:a,startSessionReplayRecordingManually:void 0!==e.startSessionReplayRecordingManually?!!e.startSessionReplayRecordingManually:0===a,traceSampleRate:null!=(n=e.traceSampleRate)?n:100,rulePsr:eX(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:i,excludedActivityUrls:null!=(r=e.excludedActivityUrls)?r:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!e.trackUserInteractions,trackViewsManually:!!e.trackViewsManually,trackResources:!!e.trackResources,trackLongTasks:!!e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:ea(tX,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:tX.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:ea(tQ,e.traceContextInjection)?e.traceContextInjection:tQ.ALL,plugins:e.plugins||[]},o)}}}}(e);if(m){if(!g&&!m.sessionStoreStrategyType)return void x.warn("No storage available for session. We will not send any data.");if(m.compressIntakeRequests&&!g&&d&&!(s=d(m,"Datadog RUM",en)))return;c=m,t_().subscribe(en),n.tryToInit(m.trackingConsent),v()}}var g=function(e){f.add(function(t){return t.addDurationVital(e)})};return{init:function(e,t){var n,r,o,a;if(!e)return void x.error("Missing configuration");if(Array.isArray(n=e.enableExperimentalFeatures)&&n.filter(function(e){return ea(i,e)}).forEach(function(e){ez.add(e)}),u=e,!(l&&tT()))if(!function(e,t,n){if(e)for(var r=0;r<e.length;r++){var i=e[r][t];i&&i(n)}}(e.plugins,"onInit",{initConfiguration:e,publicApi:t}),e.remoteConfigurationId&&e$(i.REMOTE_CONFIGURATION)){r=e,o=function(t){h(K({},e,t))},ew(r,a=new XMLHttpRequest,"load",function(){200===a.status?o(JSON.parse(a.responseText)):nt()}),ew(r,a,"error",function(){nt()}),a.open("GET","".concat("https://d3uc069fcn7uxw.cloudfront.net/configuration","/").concat(encodeURIComponent(r.remoteConfigurationId),".json")),a.send()}else h(e)},get initConfiguration(){return u},getInternalContext:en,stopSession:en,addTiming:function(e,t){void 0===t&&(t=e1()),f.add(function(n){return n.addTiming(e,t)})},startView:function(e,t){void 0===t&&(t=e3());var n=function(n){n.startView(e,t)};f.add(n),a||(a={options:e,callback:n},v())},setViewName:function(e){f.add(function(t){return t.setViewName(e)})},setViewContext:function(e){f.add(function(t){return t.setViewContext(e)})},setViewContextProperty:function(e,t){f.add(function(n){return n.setViewContextProperty(e,t)})},addAction:function(e,n){void 0===n&&(n=t()),f.add(function(t){return t.addAction(e,n)})},addError:function(e,n){void 0===n&&(n=t()),f.add(function(t){return t.addError(e,n)})},addFeatureFlagEvaluation:function(e,t){f.add(function(n){return n.addFeatureFlagEvaluation(e,t)})},startDurationVital:function(e,t){return tv(r,e,t)},stopDurationVital:function(e,t){th(g,r,e,t)},addDurationVital:g}}(n,f,l,d,function(r,i,o){r.storeContextsAcrossPages&&(eE(r,u,"rum",2),eE(r,c,"rum",1)),s.setCompressionStatus(i?1:2);var a,v,h=e(r,t,s,f,o,i&&n.createDeflateEncoder?function(e){return n.createDeflateEncoder(r,i,e)}:ek,l,d);return t.onRumStart(h.lifeCycle,r,h.session,h.viewHistory,i),a=p,v=h,p=K({init:function(e){tc("DD_RUM",e)},initConfiguration:a.initConfiguration},v),h}),v=U(function(e){var t="object"==typeof e?e:{name:e};t.context&&s.getOrCreateTracker(3).updateCustomerData(t.context),p.startView(t),ts({feature:"start-view"})}),h=(Object.defineProperty(a=K({version:"5.35.1",onReady:function(e){e()}},{init:U(function(e){p.init(e,h)}),setTrackingConsent:U(function(e){l.update(e),ts({feature:"set-tracking-consent",tracking_consent:e})}),setViewName:U(function(e){p.setViewName(e)}),setViewContext:U(function(e){p.setViewContext(e)}),setViewContextProperty:U(function(e,t){p.setViewContextProperty(e,t)}),setGlobalContext:U(function(e){u.setContext(e),ts({feature:"set-global-context"})}),getGlobalContext:U(function(){return u.getContext()}),setGlobalContextProperty:U(function(e,t){u.setContextProperty(e,t),ts({feature:"set-global-context"})}),removeGlobalContextProperty:U(function(e){return u.removeContextProperty(e)}),clearGlobalContext:U(function(){return u.clearContext()}),getInternalContext:U(function(e){return p.getInternalContext(e)}),getInitConfiguration:U(function(){return ed(p.initConfiguration)}),addAction:function(e,t){var n=eL();j(function(){p.addAction({name:ep(e),context:ep(t),startClocks:e3(),type:"custom",handlingStack:n}),ts({feature:"add-action"})})},addError:function(e,t){var n=eL();j(function(){p.addError({error:e,handlingStack:n,context:ep(t),startClocks:e3()}),ts({feature:"add-error"})})},addTiming:U(function(e,t){p.addTiming(ep(e),t)}),setUser:U(function(e){var t;(t="object"===ec(e))||x.error("Unsupported user:",e),t&&c.setContext(tu(e)),ts({feature:"set-user"})}),getUser:U(function(){return c.getContext()}),setUserProperty:U(function(e,t){var n,r=tu(((n={})[e]=t,n))[e];c.setContextProperty(e,r),ts({feature:"set-user"})}),removeUserProperty:U(function(e){return c.removeContextProperty(e)}),clearUser:U(function(){return c.clearContext()}),startView:v,stopSession:U(function(){p.stopSession(),ts({feature:"stop-session"})}),addFeatureFlagEvaluation:U(function(e,t){p.addFeatureFlagEvaluation(ep(e),ep(t)),ts({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:U(function(){return t.getSessionReplayLink()}),startSessionReplayRecording:U(function(e){t.start(e),ts({feature:"start-session-replay-recording",force:e&&e.force})}),stopSessionReplayRecording:U(function(){return t.stop()}),addDurationVital:U(function(e,t){var n;ts({feature:"add-duration-vital"}),p.addDurationVital({name:ep(e),type:"duration",startClocks:{relative:(n=t.startTime)-e6(),timeStamp:n},duration:t.duration,context:ep(t&&t.context),description:ep(t&&t.description)})}),startDurationVital:U(function(e,t){return ts({feature:"start-duration-vital"}),p.startDurationVital(ep(e),{context:ep(t&&t.context),description:ep(t&&t.description)})}),stopDurationVital:U(function(e,t){ts({feature:"stop-duration-vital"}),p.stopDurationVital("string"==typeof e?ep(e):e,{context:ep(t&&t.context),description:ep(t&&t.description)})})}),"_setDebug",{get:function(){return L},enumerable:!1}),a);return h}(function(e,t,n,o,a,s,u,c){var l,d,f,g,m,y,b,I,N,A,O,R,P,D,M,L,V,F,$,G,Y,W,ei=[],ea=new nl;ea.subscribe(13,function(e){return e5("rum",e)});var eu=function(e){var t,n,i,o,a,s,u,c,l,d=(t="browser-rum-sdk",n=e,a=new eg,s=new Set,u=!H(tn,n.site)&&eW(n.telemetrySampleRate),c=((i={})[te.log]=u,i[te.configuration]=u&&eW(n.telemetryConfigurationSampleRate),i[te.usage]=u&&eW(n.telemetryUsageSampleRate),i),l={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self},ti=function(e){var r=er(e);if(c[e.type]&&s.size<n.maxTelemetryEventsPerPage&&!s.has(r)){var i,u,d,f=(i=t,u=e,d=l,ef({type:"telemetry",date:e1(),service:i,version:"5.35.1",source:"browser",_dd:{format_version:2},telemetry:ef(u,{runtime_env:d,connectivity:e8(),sdk_setup:"npm"}),experimental_features:q(ez)},void 0!==o?o():{}));a.notify(f),e5("telemetry",f),s.add(r)}},r=ta,{setContextProvider:function(e){o=e},observable:a,enabled:u});if(tm()){var f=tg();d.observable.subscribe(function(e){return f.send("internal_telemetry",e)})}return d}(e);eu.setContextProvider(function(){var t,n;return{application:{id:e.applicationId},session:{id:null==(t=e_.findTrackedSession())?void 0:t.id},view:{id:null==(n=tc.findView())?void 0:n.id},action:{id:tf.findActionId()}}});var el=function(e){ea.notify(14,{error:e}),to("Error reported to customer",{"error.message":e.message})},ev=(eE=n.getOrCreateTracker(0),ek=nf({expireDelay:tx}),ea.subscribe(1,function(e){var t=e.startClocks;ek.add({},t.relative),eE.resetCustomerData()}),ea.subscribe(6,function(e){var t=e.endClocks;ek.closeActive(t.relative)}),{findFeatureFlagEvaluations:function(e){return ek.find(e)},addFeatureFlagEvaluation:function(e,t){var n=ek.find();n&&(n[e]=t,eE.updateCustomerData(n))},stop:function(){return eE.stop()}}),eh=new eg(function(t){var n=eS(e,window,["visibilitychange","freeze"],function(e){"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:nn.HIDDEN}):"freeze"===e.type&&t.notify({reason:nn.FROZEN})},{capture:!0}).stop,r=ew(e,window,"beforeunload",function(){t.notify({reason:nn.UNLOADING})}).stop;return function(){n(),r()}}),eb=eh.subscribe(function(e){ea.notify(11,e)});ei.push(function(){return eb.unsubscribe()});var e_=tm()?(eN={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:+(eT="records",!!((eI=tg())&&H(eI.getCapabilities(),eT)))},{findTrackedSession:function(){return eN},expire:en,expireObservable:new eg,setForcedReplay:en}):((ex=function(e,t,n,r){var o,a,s,u,c,l,d,f=new eg,p=new eg,v=function(e,t,n){var r,o=new eg,a=new eg,s=new eg,u=e.type===tO.COOKIE?function(e){var t,n={isLockEnabled:1===tI(),persistSession:(t=e,function(e){tE(tN,tU(e),tA,t)}),retrieveSession:tH,expireSession:function(t){var n;return n=e,void tE(tN,tU(tP(t)),e$(i.ANONYMOUS_USER_TRACKING)?eQ:tx,n)}};if(!tC(tN)){var r=tC("_dd"),o=tC("_dd_r"),a=tC("_dd_l"),s={};r&&(s.id=r),a&&/^[01]$/.test(a)&&(s.logs=a),o&&/^[012]$/.test(o)&&(s.rum=o),es(s)||(tL(s),n.persistSession(s))}return n}(e.cookieOptions):{isLockEnabled:!1,persistSession:tB,retrieveSession:tF,expireSession:tz},c=u.expireSession,l=Z(function(){tK({process:function(e){return tM(e)?tP(e):void 0},after:v},u)},1e3);h();var d=et(function(){tK({process:function(e){if(!es(e)){var r=v(e);return function(e){if(!es(e)){var r=n(e.rum),i=r.trackingType,o=r.isTracked;e[t]=i,delete e.isExpired,o&&!e.id&&(e.id=tl(),e.created=String(e1()))}}(r),r}},after:function(e){es(e)||g()||(r=e,o.notify()),r=e}},u)},1e3),f=d.throttled,p=d.cancel;function v(e){var n;return tM(e)&&(e=tP(e)),g()&&((n=e,r.id!==n.id||r[t]!==n[t])?(r=tP(r),a.notify()):(s.notify({previousState:r,newState:e}),r=e)),e}function h(){tK({process:function(e){if(es(e))return tP(e)},after:function(e){r=e}},u)}function g(){return void 0!==r[t]}return{expandOrRenewSession:f,expandSession:function(){tK({process:function(e){return g()?v(e):void 0}},u)},getSession:function(){return r},renewObservable:o,expireObservable:a,sessionStateUpdateObservable:s,restartSession:h,expire:function(){p(),c(r),v(tP(r))},stop:function(){ee(l)},updateSessionState:function(e){tK({process:function(t){return K({},t,e)},after:v},u)}}}(e.sessionStoreStrategyType,"rum",n);rP.push(function(){return v.stop()});var h=nf({expireDelay:tx});function g(){return{id:v.getSession().id,trackingType:v.getSession().rum,isReplayForced:!!v.getSession().forcedReplay,anonymousId:v.getSession().anonymousId}}return rP.push(function(){return h.stop()}),v.renewObservable.subscribe(function(){h.add(g(),e2()),f.notify()}),v.expireObservable.subscribe(function(){p.notify(),h.closeActive(e2())}),v.expandOrRenewSession(),h.add(g(),e4().relative),r.observable.subscribe(function(){r.isGranted()?v.expandOrRenewSession():v.expire()}),o=eS(e,window,["click","touchstart","keydown","scroll"],function(){r.isGranted()&&v.expandOrRenewSession()},{capture:!0,passive:!0}).stop,rP.push(o),a=e,s=function(){return v.expandSession()},u=function(){"visible"===document.visibilityState&&s()},c=ew(a,document,"visibilitychange",u).stop,rP.push(c),l=Z(u,6e4),rP.push(function(){ee(l)}),d=ew(e,window,"resume",function(){return v.restartSession()},{capture:!0}).stop,rP.push(d),{findSession:function(e,t){return h.find(e,t)},renewObservable:f,expireObservable:p,sessionStateUpdateObservable:v.sessionStateUpdateObservable,expire:v.expire,updateSessionState:v.updateSessionState}}(e,"rum",function(t){var n,r,i,o;return n=e,{trackingType:i="0"===(o=r=t)||"1"===o||"2"===o?r:eW(n.sessionSampleRate)?eW(n.sessionReplaySampleRate)?"1":"2":"0",isTracked:rD(i)}},u)).expireObservable.subscribe(function(){ea.notify(9)}),ex.renewObservable.subscribe(function(){ea.notify(10)}),ex.sessionStateUpdateObservable.subscribe(function(e){var t=e.previousState,n=e.newState;if(!t.forcedReplay&&n.forcedReplay){var r=ex.findSession();r&&(r.isReplayForced=!0)}}),{findTrackedSession:function(e){var t=ex.findSession(e);if(t&&rD(t.trackingType))return{id:t.id,sessionReplay:"1"===t.trackingType?1:2*!!t.isReplayForced,anonymousId:t.anonymousId}},expire:ex.expire,expireObservable:ex.expireObservable,setForcedReplay:function(){return ex.updateSessionState({forcedReplay:"1"})}});if(tm())eA=tg(),ea.subscribe(13,function(e){eA.send("rum",e)});else{var eE,ek,eT,eI,eN,ex,eA,eO,eR,eP,eD,eV,eG=(eO=eu.observable,eR=e_.expireObservable,eP=e.replica,eD=function(e,t,n,r,i,o,a){void 0===a&&(a=rM);var s=c(e,t),u=n&&c(e,n);function c(e,t){var n,s,u,c=t.endpoint,l=t.encoder;return a({encoder:l,request:(n=e.batchBytesLimit,s={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:rq(),queueFullReported:!1},u=function(e,t){var r,i,o,a;return r=c,i=n,o=e,a=t,void(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o.bytesCount<i?fetch(r.build("fetch",o),{method:"POST",body:o.data,keepalive:!0,mode:"cors"}).then(U(function(e){return null==a?void 0:a({status:e.status,type:e.type})}),U(function(){rF(r.build("xhr",o),o.data,a)})):rF(r.build("xhr",o),o.data,a))},{send:function(e){rj(e,s,u,c.trackType,r)},sendOnExit:function(e){!function(e,t,n){if(navigator.sendBeacon&&n.bytesCount<t)try{var r,i=e.build("beacon",n);if(navigator.sendBeacon(i,n.data))return}catch(e){r=e,rB||(rB=!0,ta(r))}rF(e.build("xhr",n),n.data)}(c,n,e)}}),flushController:function(e){var t,n=e.messagesLimit,r=e.bytesLimit,i=e.durationLimit,o=e.pageExitObservable,a=e.sessionExpireObservable,s=o.subscribe(function(e){return f(e.reason)}),u=a.subscribe(function(){return f("session_expire")}),c=new eg(function(){return function(){s.unsubscribe(),u.unsubscribe()}}),l=0,d=0;function f(e){if(0!==d){var t=d,n=l;d=0,l=0,p(),c.notify({reason:e,messagesCount:t,bytesCount:n})}}function p(){Q(t),t=void 0}return{flushObservable:c,get messagesCount(){return d},notifyBeforeAddMessage:function(e){l+e>=r&&f("bytes_limit"),d+=1,l+=e,void 0===t&&(t=X(function(){f("duration_limit")},i))},notifyAfterAddMessage:function(e){void 0===e&&(e=0),l+=e,d>=n?f("messages_limit"):l>=r&&f("bytes_limit")},notifyAfterRemoveMessage:function(e){l-=e,0==(d-=1)&&p()}}}({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:s.flushController.flushObservable,add:function(e,t){void 0===t&&(t=!0),s.add(e),u&&t&&u.add(n.transformMessage?n.transformMessage(e):e)},upsert:function(e,t){s.upsert(e,t),u&&u.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:function(){s.stop(),u&&u.stop()}}}(e,{endpoint:e.rumEndpointBuilder,encoder:s(2)},eP&&{endpoint:eP.rumEndpointBuilder,transformMessage:function(e){return ef(e,{application:{id:eP.applicationId}})},encoder:s(3)},el,eh,eR),ea.subscribe(13,function(e){"view"===e.type?eD.upsert(e,e.view.id):eD.add(e)}),eO.subscribe(function(t){return eD.add(t,e.site===eK)}),eD);ei.push(function(){return eG.stop()}),eV=eG.flushObservable,eu.enabled&&eW(e.customerDataTelemetrySampleRate)&&(rW(),rJ(),ea.subscribe(13,function(e){k=!0,rG(E.globalContextBytes,n.getOrCreateTracker(2).getBytesCount()),rG(E.userContextBytes,n.getOrCreateTracker(1).getBytesCount()),rG(E.featureFlagBytes,H(["view","error"],e.type)?n.getOrCreateTracker(0).getBytesCount():0)}),eV.subscribe(function(e){var t=e.bytesCount,n=e.messagesCount;k&&(_.batchCount+=1,rG(_.batchBytesCount,t),rG(_.batchMessagesCount,n),rY(_.globalContextBytes,E.globalContextBytes),rY(_.userContextBytes,E.userContextBytes),rY(_.featureFlagBytes,E.featureFlagBytes),rJ())}),Z(r$,1e4))}var eY=(tG=function(){var e,t=window;if(t.Zone&&(e=J(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var n=J(new t.MutationObserver(en),"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}(),new eg(function(e){if(tG){var t=new tG(U(function(){return e.notify()}));return t.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return t.disconnect()}}})),eX=(tW=eo(tY=location),new eg(function(t){var n,r,i,o,a,s=(n=e,r=c,i=ty(rz("pushState"),"pushState",function(e){(0,e.onPostCall)(r)}).stop,o=ty(rz("replaceState"),"replaceState",function(e){(0,e.onPostCall)(r)}).stop,a=ew(n,window,"popstate",r).stop,{stop:function(){i(),o(),a()}}).stop,u=ew(e,window,"hashchange",c).stop;function c(){if(tW.href!==tY.href){var e=eo(tY);t.notify({newLocation:e,oldLocation:tW}),tW=e}}return function(){s(),u()}})),e9=function(e,t){void 0===t&&(t=500);var n,r=nf({expireDelay:tx,maxEntries:4e3});o(rX(),e2());var i=eS(e,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(e){var t;o("freeze"===(t=e).type?"frozen":"pagehide"===t.type?t.persisted?"frozen":"terminated":rX(),e.timeStamp)},{capture:!0}).stop;function o(e,t){void 0===t&&(t=e2()),e!==n&&(n=e,r.closeActive(t),r.add({state:n,startTime:t},t))}var a={findAll:function(e,n){var i=r.findAll(e,n);if(0!==i.length){for(var o=[],a=Math.max(0,i.length-t),s=i.length-1;s>=a;s--){var u=i[s],c=u.startTime-e;o.push({state:u.state,start:e0(c)})}return o}},wasInPageStateAt:function(e,t){return a.wasInPageStateDuringPeriod(e,t,0)},wasInPageStateDuringPeriod:function(e,t,n){return r.findAll(t,n).some(function(t){return t.state===e})},addPageState:o,stop:function(){i(),r.stop()}};return a}(e),e7=(tJ=new eg,tX=ty(window,"open",function(){return tJ.notify()}).stop,{observable:tJ,stop:tX}),tt=e7.observable,ts=e7.stop;ei.push(ts);var tu=function(e,t,n,r,o,a,s,u,c,l){var d,f,v,h,g,m,y,b,w,_,E,k,C,T,I,N,A,O,R,P=(v=nf({expireDelay:tx}),e.subscribe(1,function(e){var t;v.add({service:(t=e).service,version:t.version,context:t.context,id:t.id,name:t.name,startClocks:t.startClocks},e.startClocks.relative)}),e.subscribe(6,function(e){var t=e.endClocks;v.closeActive(t.relative)}),e.subscribe(3,function(e){var t=v.find(e.startClocks.relative);t&&e.name&&(t.name=e.name),t&&e.context&&(t.context=e.context)}),e.subscribe(10,function(){v.reset()}),{findView:function(e){return v.find(e)},stop:function(){v.stop()}}),D=function(e,t,n){var r,i=nf({expireDelay:tx});e.subscribe(1,function(e){var t=e.startClocks,o=n.href;i.add(a({url:o,referrer:r||document.referrer}),t.relative),r=o}),e.subscribe(6,function(e){var t=e.endClocks;i.closeActive(t.relative)});var o=t.subscribe(function(e){var t=e.newLocation,n=i.find();if(n){var r=e2();i.closeActive(r),i.add(a({url:t.href,referrer:n.referrer}),r)}});function a(e){return{url:e.url,referrer:e.referrer}}return{findUrl:function(e){return i.find(e)},stop:function(){o.unsubscribe(),i.stop()}}}(e,a,n),M=(e.subscribe(0,function(t){return e.notify(12,ro(t,o))}),g={findActionId:en},m=en,t.trackUserInteractions&&(g=(h=function(e,t,n,r){var i,o,a,s,u,c,l,d,f=nf({expireDelay:ri}),p=new eg;e.subscribe(10,function(){f.reset()}),e.subscribe(5,g);var v=(s=(i={onPointerDown:function(i){return function(e,t,n,r,i){var o=e.enablePrivacyForActionName?function e(t,n,r){if(r&&r.has(t))return r.get(t);var i=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&nV(t.host)?t.host:t.parentNode,o=i?e(i,n,r):n,a=function(e,t){switch(t){case nH.HIDDEN:case nH.IGNORE:return t}switch(e){case nH.ALLOW:case nH.MASK:case nH.MASK_USER_INPUT:case nH.HIDDEN:case nH.IGNORE:return e;default:return t}}(function(e){if(nV(e)){if("BASE"===e.tagName)return nH.ALLOW;if("INPUT"===e.tagName){if("password"===e.type||"email"===e.type||"tel"===e.type||"hidden"===e.type)return nH.MASK;var t=e.getAttribute("autocomplete");if(t&&(t.startsWith("cc-")||t.endsWith("-password")))return nH.MASK}if(nL(e,nB(nH.HIDDEN)))return nH.HIDDEN;if(nL(e,nB(nH.MASK)))return nH.MASK;if(nL(e,nB(nH.MASK_USER_INPUT)))return nH.MASK_USER_INPUT;if(nL(e,nB(nH.ALLOW)))return nH.ALLOW;if(function(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){var t=i("rel");return/preload|prefetch/i.test(t)&&"script"===i("as")||"shortcut icon"===t||"icon"===t}if("META"===e.nodeName){var n=i("name"),t=i("rel"),r=i("property");return/^msapplication-tile(image|color)$/.test(n)||"application-name"===n||"icon"===t||"apple-touch-icon"===t||"shortcut icon"===t||"keywords"===n||"description"===n||/^(og|twitter|fb):/.test(r)||/^(og|twitter):/.test(n)||"pinterest"===n||"robots"===n||"googlebot"===n||"bingbot"===n||e.hasAttribute("http-equiv")||"author"===n||"generator"===n||"framework"===n||"publisher"===n||"progid"===n||/^article:/.test(r)||/^product:/.test(r)||"google-site-verification"===n||"yandex-verification"===n||"csrf-token"===n||"p:domain_verify"===n||"verify-v1"===n||"verification"===n||"shopify-checkout-api-token"===n}function i(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e))return nH.IGNORE}}(t),o);return r&&r.set(t,a),a}(r.target,e.defaultPrivacyLevel):nH.ALLOW;if(o!==nH.HIDDEN){var a,s=function(e,t,n){var r,i,o,a,s=e.target.getBoundingClientRect(),u=n2(e.target,n.actionNameAttribute);u&&rr(e.timeStamp,u);var c=(r=e.target,i=n.enablePrivacyForActionName,o=n.actionNameAttribute,(a=nz(r,nF)||o&&nz(r,o))?{name:a,nameSource:"custom_attribute"}:t===nH.MASK?{name:"Masked Element",nameSource:"mask_placeholder"}:nG(r,o,n$,i)||nG(r,o,nK,i)||{name:"",nameSource:"blank"});return{type:"click",target:{width:Math.round(s.width),height:Math.round(s.height),selector:u},position:{x:Math.round(e.clientX-s.left),y:Math.round(e.clientY-s.top)},name:c.name,nameSource:c.nameSource}}(r,o,e),u=!1;return a=function(e){u=e.hadActivity},nR(nP(t,n,i,e),a,100),{clickActionBase:s,hadActivityOnPointerDown:function(){return u}}}}(r,e,t,i,n)},onPointerUp:function(i,o,a){!function(e,t,n,r,i,o,a,s,u,c,l){var d,f,p=function e(t,n,r,i,o){var a,s=tl(),u=e3(),c=n.add(s,u.relative),l=nx({lifeCycle:t,isChildEvent:function(e){return void 0!==e.action&&(Array.isArray(e.action.id)?H(e.action.id,s):e.action.id===s)}}),d=0,f=[],p=new eg;function v(e){0===d&&((d=1,a=e)?c.close(a-e6()):c.remove(),l.stop(),p.notify())}return{event:o,stop:v,stopObservable:p,get hasError(){return l.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==a},getUserActivity:r,addFrustration:function(e){f.push(e)},startClocks:u,isStopped:function(){return 1===d||2===d},clone:function(){return e(t,n,r,i,o)},validate:function(e){if(v(),1===d){var n,r=l.eventCounts,c=r.resourceCount,p=r.errorCount,h=r.longTaskCount,g=K({type:"click",duration:a&&(n=u.timeStamp,a-n),startClocks:u,id:s,frustrationTypes:f,counts:{resourceCount:c,errorCount:p,longTaskCount:h},events:null!=e?e:[o],event:o},i);t.notify(0,g),d=2}},discard:function(){v(),d=2}}}(t,i,c,s,u);a(p);var v=null==(f=null==s?void 0:s.target)?void 0:f.selector;v&&rr(u.timeStamp,v);var h=(d=function(e){e.hadActivity&&e.end<p.startClocks.timeStamp?p.discard():e.hadActivity?p.stop(e.end):l()?p.stop(p.startClocks.timeStamp):p.stop()},nR(nP(t,n,r,e),d,1e4)).stop,g=t.subscribe(5,function(e){var t=e.endClocks;p.stop(t.timeStamp)}),m=o.subscribe(function(){p.stop()});p.stopObservable.subscribe(function(){g.unsubscribe(),h(),m.unsubscribe()})}(r,e,t,n,f,p,h,i.clickActionBase,o,a,i.hadActivityOnPointerDown)}}).onPointerDown,u=i.onPointerUp,c={selection:!1,input:!1,scroll:!1},l=[ew(r,window,"pointerdown",function(e){re(e)&&(o=n7(),c={selection:!1,input:!1,scroll:!1},a=s(e))},{capture:!0}),ew(r,window,"selectionchange",function(){o&&n7()||(c.selection=!0)},{capture:!0}),ew(r,window,"scroll",function(){c.scroll=!0},{capture:!0,passive:!0}),ew(r,window,"pointerup",function(e){if(re(e)&&a){var t=c;u(a,e,function(){return t}),a=void 0}},{capture:!0}),ew(r,window,"input",function(){c.input=!0},{capture:!0})],{stop:function(){l.forEach(function(e){return e.stop()})}}).stop;return{stop:function(){g(),p.notify(),v()},actionContexts:{findActionId:function(e){return f.findAll(e)}}};function h(e){if(!d||!d.tryAppend(e)){var t=e.clone();d=function(e,t){var n,r=[],i=0;function o(e){e.stopObservable.subscribe(a),r.push(e),Q(n),n=X(s,1e3)}function a(){1===i&&r.every(function(e){return e.isStopped()})&&(i=2,t(r))}function s(){Q(n),0===i&&(i=1,a())}return o(e),{tryAppend:function(e){var t,n,a,u;return 0===i&&(!(r.length>0)||(t=r[r.length-1].event,n=e.event,t.target===n.target&&100>=(a=t,u=n,Math.sqrt(Math.pow(a.clientX-u.clientX,2)+Math.pow(a.clientY-u.clientY,2)))&&t.timeStamp-n.timeStamp<=1e3)?(o(e),!0):(s(),!1))},stop:function(){s()}}}(e,function(e){var n,r;(function(e,t){if(function(e){if(e.some(function(e){return e.getUserActivity().selection||e.getUserActivity().scroll}))return!1;for(var t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=1e3)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(rt)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var n=e.some(function(e){return e.getUserActivity().selection});return e.forEach(function(e){e.hasError&&e.addFrustration("error_click"),rt(e)&&!n&&e.addFrustration("dead_click")}),{isRage:!1}})(n=e,r=t).isRage?(n.forEach(function(e){return e.discard()}),r.stop(e1()),r.validate(n.map(function(e){return e.event}))):(r.discard(),n.forEach(function(e){return e.validate()}))})}}function g(){d&&d.stop()}}(e,s,u,t)).actionContexts,m=h.stop),{addAction:function(t,n){e.notify(12,K({savedCommonContext:n},ro(t,o)))},actionContexts:g,stop:m}),L=(e$(i.DELAY_VIEWPORT_COLLECTION)?b=requestAnimationFrame(function(){y=rx()}):y=rx(),w=(!S&&(d=t,S=new eg(function(e){return ew(d,window,"resize",et(function(){e.notify(rx())},200).throttled,{capture:!0,passive:!0}).stop})),S).subscribe(function(e){y=e}).unsubscribe,{get:function(){return y?{viewport:y}:void 0},stop:function(){w(),b&&cancelAnimationFrame(b)}}),U=(void 0===_&&(E=window.cookieStore?(f=t,function(e,t){return ew(f,window.cookieStore,"change",function(n){var r=B(n.changed,function(t){return t.name===e})||B(n.deleted,function(t){return t.name===e});r&&t(r.value)}).stop}):rQ,_=new eg(function(e){return E(rZ,function(t){return e.notify(t)})})),C=tC(rZ)||(null==(k=window.Cypress)?void 0:k.env("traceId")),T=_.subscribe(function(e){C=e}),{get:function(){if("string"==typeof C)return{test_execution_id:C}},stop:function(){return T.unsubscribe()}});return I=M.actionContexts,(N={}).view=K({},nu,ns),N.error=K({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},nu,ns,nc),N.resource=K({"resource.url":"string"},e$(i.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},nu,ns,nc),N.action=K({"action.target.name":"string"},nu,ns,nc),N.long_task=K({},nu,ns),N.vital=K({},nu,ns),p=N,(A={}).error=ni("error",t.eventRateLimiterThreshold,l),A.action=ni("action",t.eventRateLimiterThreshold,l),A.vital=ni("vital",t.eventRateLimiterThreshold,l),O=A,R=function(){var e,t,n="string"==typeof(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||tC("datadog-synthetics-public-id"))?e:void 0,r="string"==typeof(t=window._DATADOG_SYNTHETICS_RESULT_ID||tC("datadog-synthetics-result-id"))?t:void 0;if(n&&r)return{test_id:n,result_id:r,injected:tT()}}(),e.subscribe(12,function(n){var o=n.startTime,a=n.rawRumEvent,s=n.domainContext,u=n.savedCommonContext,l=n.customerContext,d=P.findView(o),f=D.findUrl(o),v=r.findTrackedSession(o);if(v&&d&&f){var h,g=u||c(),m=I.findActionId(o),y=ef({_dd:{format_version:2,drift:Math.round(e1()-(h=e6(),h+performance.now())),configuration:{session_sample_rate:eJ(t.sessionSampleRate,3),session_replay_sample_rate:eJ(t.sessionReplaySampleRate,3)},browser_sdk_version:tm()?"5.35.1":void 0},application:{id:t.applicationId},date:e1(),service:d.service||t.service,version:d.version||t.version,source:"browser",session:{id:v.id,type:R?"synthetics":U.get()?"ci_test":"user"},view:{id:d.id,name:d.name,url:f.url,referrer:f.referrer},action:-1!==["error","resource","long_task"].indexOf(a.type)&&m?{id:m}:void 0,synthetics:R,ci_test:U.get(),display:L.get(),connectivity:e8()},a);y.context=ef(g.context,d.context,l),"has_replay"in y.session||(y.session.has_replay=g.hasReplay),"view"===y.type&&(y.session.sampled_for_replay=1===v.sessionReplay),e$(i.ANONYMOUS_USER_TRACKING)&&!g.user.anonymous_id&&(g.user.anonymous_id=v.anonymousId),es(g.user)||(y.usr=g.user),function(e,t,n,r){if(t){var i,o,a,s,u=(i=p[e.type],a=t(o=ed(e),n),z(i).forEach(function(t){var n=t[0],r=t[1],i=function(e,t){for(var n=e,r=0,i=t.split(".");r<i.length;r++){var o,a,s=i[r];if(o=n,a=s,!(na(o)&&Object.prototype.hasOwnProperty.call(o,a)))return;n=n[s]}return n}(o,n),a=ec(i);a===r?no(e,n,ep(i)):"object"===r&&("undefined"===a||"null"===a)&&no(e,n,{})}),a);if(!1===u&&"view"!==e.type)return!1;!1===u&&x.warn("Can't dismiss view events using beforeSend!")}return!(null==(s=r[e.type])?void 0:s.isLimitReached())}(y,t.beforeSend,s,O)&&(es(y.context)&&delete y.context,e.notify(13,y))}}),{viewHistory:P,pageStateHistory:o,urlContexts:D,addAction:M.addAction,actionContexts:M.actionContexts,stop:function(){M.stop(),U.stop(),L.stop(),D.stop(),P.stop(),o.stop()}}}(ea,e,location,e_,e9,eX,eY,tt,o,el),tc=tu.viewHistory,td=tu.urlContexts,tf=tu.actionContexts,tb=tu.addAction,tw=tu.stop;ei.push(tw),tr.drain();var tS=(tQ=location,ea.subscribe(4,function(n){var r,i,o,a,s,u,c,l,d,f,p,v,h,g,m,y,b,w,S,_,E,k,C,T,I;return ea.notify(12,(r=n,i=e,o=ev,a=t,s=e9,k=a.getReplayStats(r.id),C=o.findFeatureFlagEvaluations(r.startClocks.relative),T=s.findAll(r.startClocks.relative,r.duration),I={_dd:{document_version:r.documentVersion,replay_stats:k,page_states:T,configuration:{start_session_replay_recording_manually:i.startSessionReplayRecordingManually}},date:r.startClocks.timeStamp,type:"view",view:{action:{count:r.eventCounts.actionCount},frustration:{count:r.eventCounts.frustrationCount},cumulative_layout_shift:null==(u=r.commonViewMetrics.cumulativeLayoutShift)?void 0:u.value,cumulative_layout_shift_time:e0(null==(c=r.commonViewMetrics.cumulativeLayoutShift)?void 0:c.time),cumulative_layout_shift_target_selector:null==(l=r.commonViewMetrics.cumulativeLayoutShift)?void 0:l.targetSelector,first_byte:e0(null==(d=r.initialViewMetrics.navigationTimings)?void 0:d.firstByte),dom_complete:e0(null==(f=r.initialViewMetrics.navigationTimings)?void 0:f.domComplete),dom_content_loaded:e0(null==(p=r.initialViewMetrics.navigationTimings)?void 0:p.domContentLoaded),dom_interactive:e0(null==(v=r.initialViewMetrics.navigationTimings)?void 0:v.domInteractive),error:{count:r.eventCounts.errorCount},first_contentful_paint:e0(r.initialViewMetrics.firstContentfulPaint),first_input_delay:e0(null==(h=r.initialViewMetrics.firstInput)?void 0:h.delay),first_input_time:e0(null==(g=r.initialViewMetrics.firstInput)?void 0:g.time),first_input_target_selector:null==(m=r.initialViewMetrics.firstInput)?void 0:m.targetSelector,interaction_to_next_paint:e0(null==(y=r.commonViewMetrics.interactionToNextPaint)?void 0:y.value),interaction_to_next_paint_time:e0(null==(b=r.commonViewMetrics.interactionToNextPaint)?void 0:b.time),interaction_to_next_paint_target_selector:null==(w=r.commonViewMetrics.interactionToNextPaint)?void 0:w.targetSelector,is_active:r.isActive,name:r.name,largest_contentful_paint:e0(null==(S=r.initialViewMetrics.largestContentfulPaint)?void 0:S.value),largest_contentful_paint_target_selector:null==(_=r.initialViewMetrics.largestContentfulPaint)?void 0:_.targetSelector,load_event:e0(null==(E=r.initialViewMetrics.navigationTimings)?void 0:E.loadEvent),loading_time:nN(e0(r.commonViewMetrics.loadingTime)),loading_type:r.loadingType,long_task:{count:r.eventCounts.longTaskCount},resource:{count:r.eventCounts.resourceCount},time_spent:e0(r.duration)},feature_flags:C&&!es(C)?C:void 0,display:r.commonViewMetrics.scroll?{scroll:{max_depth:r.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:r.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:r.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:e0(r.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:!!k||void 0,is_active:!!r.sessionIsActive&&void 0},privacy:{replay_level:i.defaultPrivacyLevel}},es(r.customTimings)||(I.view.custom_timings=function(e,t){for(var n={},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];n[o]=t(e[o])}return n}(r.customTimings,e0)),{rawRumEvent:I,startTime:r.startClocks.relative,domainContext:{location:r.location}}))}),function(e,t,n,r,i,o,a,s){var u,c=new Set,l=d("initial_load",e4(),s);function d(o,a,s){var u=function(e,t,n,r,i,o,a,s){void 0===a&&(a=e3());var u,c,l,d,f,p,v,g,m,y,b,S,_,E,k,C,T,I,N,A,O,R,P,D,M,L,j,V,H,q,F,z,$,K,G,Y,W,J,er,ei,ea,es,eu,ec,el,ed=tl(),ef=new eg,ep={},ev=0,eh=eo(i),em=ey(),eb=!0;s&&(es=s.name,eu=s.service||void 0,ec=s.version||void 0,s.context&&(el=s.context,em.setContext(el)));var e_={id:ed,name:es,startClocks:a,service:eu,version:ec,context:el};e.notify(1,e_),e.notify(2,e_);var eE=et(eV,3e3,{leading:!1}),ek=eE.throttled,eC=eE.cancel,eT=(g={},y=(m=function(e,t,n,r,i,o,a){var s,u="initial_load"===i,c=!0,l=[],d=rE(r);function f(){if(!c&&!u&&l.length>0){var e=Math.max.apply(Math,l);e<d.timeStamp&&a(e)}}var p=(s=function(e){if(c){var t;c=!1,e.hadActivity&&l.push((t=o.timeStamp,e.end-t)),f()}},nR(nP(e,t,n,r),s,void 0)).stop;return{stop:function(){p(),d.stop()},setLoadEvent:function(e){u&&(u=!1,l.push(e),f())}}}(e,t,n,r,o,v=a,function(e){g.loadingTime=e,ek()})).stop,b=m.setLoadEvent,I=(S=function(e){g.scroll=e},void 0===_&&(u=r,void 0===c&&(c=1e3),_=new eg(function(e){if(window.ResizeObserver){var t=et(function(){var t,n,r,i;e.notify((r=Math.round((n=window.visualViewport)?n.pageTop-n.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0),i=rx().height,{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(i+r),scrollTop:r}))},c,{leading:!1,trailing:!0}),n=document.scrollingElement||document.documentElement,r=new ResizeObserver(U(t.throttled));n&&r.observe(n);var i=ew(u,window,"scroll",t.throttled,{passive:!0});return function(){t.cancel(),r.disconnect(),i.stop()}}})),E=0,k=0,C=0,T=_.subscribe(function(e){var t=e.scrollDepth,n=e.scrollTop,r=e.scrollHeight,i=!1;(t>E&&(E=t,i=!0),r>k)&&(k=r,C=e2()-v.relative,i=!0);i&&S({maxDepth:Math.min(E,k),maxDepthScrollTop:n,maxScrollHeight:k,maxScrollHeightTime:C})}),{stop:function(){return T.unsubscribe()}}).stop,N=function(e,t,n){if(!(nO(h.LAYOUT_SHIFT)&&"WeakRef"in window))return{stop:en};var r,i,o,a,s,u,c=0;n({value:0});var l=(o=0,a=0,{update:function(e){var t;return void 0===r||e.startTime-i>=1e3||e.startTime-r>=5e3?(r=i=e.startTime,a=o=e.value,t=!0):(o+=e.value,i=e.startTime,(t=e.value>a)&&(a=e.value)),{cumulatedValue:o,isMaxValue:t}}}),d=nA(e,{type:h.LAYOUT_SHIFT,buffered:!0}).subscribe(function(r){for(var i=0;i<r.length;i++){var o=r[i];if(!o.hadRecentInput&&!(o.startTime<t)){var a=l.update(o),d=a.cumulatedValue;if(a.isMaxValue){var f=function(e){var t;if(e)return null==(t=B(e,function(e){return!!e.node&&nV(e.node)}))?void 0:t.node}(o.sources);s=f?new WeakRef(f):void 0,u=o.startTime-t}if(d>c){c=d;var f=null==s?void 0:s.deref();n({value:eJ(c,4),targetSelector:f&&n2(f,e.actionNameAttribute),time:u})}}}});return{stop:function(){d.unsubscribe()}}}(r,v.relative,function(e){g.cumulativeLayoutShift=e,ek()}).stop,O=(A=function(e,t,n){if(!(nO(h.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:function(){},setViewEnd:en,stop:en};var r,i,o,a,s,u=(r=n,"interactionCount"in performance||w||(w=new window.PerformanceObserver(U(function(e){e.getEntries().forEach(function(e){e.interactionId&&(rC=Math.min(rC,e.interactionId),rk=((rT=Math.max(rT,e.interactionId))-rC)/7+1)})}))).observe({type:"event",buffered:!0,durationThreshold:0}),i="initial_load"===r?0:rI(),o={stopped:!1},{getViewInteractionCount:function(){return o.stopped?o.interactionCount:rI()-i},stopViewInteractionCount:function(){o={stopped:!0,interactionCount:rI()-i}}}),c=u.getViewInteractionCount,l=u.stopViewInteractionCount,d=1/0,f=function(e){var t=[];function n(){t.sort(function(e,t){return t.duration-e.duration}).splice(10)}return{process:function(e){var r=t.findIndex(function(t){return e.interactionId===t.interactionId}),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(c),p=-1;function v(n){for(var r,i,o=0;o<n.length;o++){var u=n[o];u.interactionId&&u.startTime>=t&&u.startTime<=d&&f.process(u)}var c=f.estimateP98Interaction();c&&c.duration!==p&&(p=c.duration,s=c.startTime-t,r=c.startTime,i=rn.get(r),rn.delete(r),!(a=i)&&c.target&&nV(c.target)&&(a=n2(c.target,e.actionNameAttribute)))}var g=nA(e,{type:h.FIRST_INPUT,buffered:!0}).subscribe(v),m=nA(e,{type:h.EVENT,durationThreshold:40,buffered:!0}).subscribe(v);return{getInteractionToNextPaint:function(){return p>=0?{value:Math.min(p,rN),targetSelector:a,time:s}:c()?{value:0}:void 0},setViewEnd:function(e){d=e,l()},stop:function(){m.unsubscribe(),g.unsubscribe()}}}(r,v.relative,o)).stop,R=A.getInteractionToNextPaint,{stop:function(){y(),N(),I()},stopINPTracking:O,setLoadEvent:b,setViewEnd:A.setViewEnd,getCommonViewMetrics:function(){return g.interactionToNextPaint=R(),g}}),eI=eT.setLoadEvent,eN=eT.setViewEnd,ex=eT.stop,eA=eT.stopINPTracking,eO=eT.getCommonViewMetrics,eR="initial_load"===o?(P={},L=(D=function(e){eI(e.loadEvent),P.navigationTimings=e,ek()},void 0===M&&(M=rm),l=r,d=function(){var e,t=M();t.loadEventEnd<=0||D({domComplete:(e=t).domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=e2()?e.responseStart:void 0})},p=rp(l,"complete",function(){f=X(function(){return d()})}).stop,{stop:function(){p(),Q(f)}}).stop,j=rE(r),H=(V=function(e){P.firstContentfulPaint=e,ek()},{stop:nA(r,{type:h.PAINT,buffered:!0}).subscribe(function(e){var t=B(e,function(e){return"first-contentful-paint"===e.name&&e.startTime<j.timeStamp&&e.startTime<rS});t&&V(t.startTime)}).unsubscribe}).stop,Y=(q=window,F=function(e){P.largestContentfulPaint=e,ek()},z=1/0,$=eS(r,q,["pointerdown","keydown"],function(e){z=e.timeStamp},{capture:!0,once:!0}).stop,K=0,G=nA(r,{type:h.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(function(e){var t=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(t(r,n,e))return r}}(e,function(e){return e.entryType===h.LARGEST_CONTENTFUL_PAINT&&e.startTime<z&&e.startTime<j.timeStamp&&e.startTime<r_&&e.size>K});if(t){var n=void 0;t.element&&(n=n2(t.element,r.actionNameAttribute)),F({value:t.startTime,targetSelector:n}),K=t.size}}),{stop:function(){$(),G.unsubscribe()}}).stop,er=(W=function(e){P.firstInput=e,ek()},J=nA(r,{type:h.FIRST_INPUT,buffered:!0}).subscribe(function(e){var t=B(e,function(e){return e.startTime<j.timeStamp});if(t){var n,i=(n=t.startTime,t.processingStart-n),o=void 0;t.target&&nV(t.target)&&(o=n2(t.target,r.actionNameAttribute)),W({delay:i>=0?i:0,time:t.startTime,targetSelector:o})}}),{stop:function(){J.unsubscribe()}}).stop,{stop:function(){L(),H(),Y(),er(),j.stop()},initialViewMetrics:P}):{stop:en,initialViewMetrics:{}},eP=eR.stop,eD=eR.initialViewMetrics,eM={stop:(ei=nx({lifeCycle:e,isChildEvent:function(e){return e.view.id===ed},onChange:ek})).stop,eventCounts:ei.eventCounts},eL=eM.stop,eU=eM.eventCounts,ej=Z(eV,rA);function eV(){eC(),ev+=1;var t=void 0===ea?e1():ea.timeStamp;e.notify(4,{customTimings:ep,documentVersion:ev,id:ed,name:es,service:eu,version:ec,context:em.getContext(),loadingType:o,location:eh,startClocks:a,commonViewMetrics:eO(),initialViewMetrics:eD,duration:t-a.timeStamp,isActive:void 0===ea,sessionIsActive:eb,eventCounts:eU})}return eV(),em.changeObservable.subscribe(function(){e.notify(3,{id:ed,name:es,context:em.getContext(),startClocks:a}),ek()}),{get name(){return es},service:eu,version:ec,contextManager:em,stopObservable:ef,end:function(t){var n,r,i=this;void 0===t&&(t={}),ea||(ea=null!=(n=t.endClocks)?n:e3(),eb=null==(r=t.sessionIsActive)||r,e.notify(5,{endClocks:ea}),e.notify(6,{endClocks:ea}),ee(ej),eN(ea.relative),ex(),eV(),X(function(){i.stop()},rO))},stop:function(){eP(),eL(),eA(),ef.notify()},addTiming:function(e,t){if(!ea){var n,r,i=t<eQ?t:t-a.timeStamp;ep[(r=(n=e).replace(/[^a-zA-Z0-9-_.@$]/g,"_"))!==n&&x.warn("Invalid timing name: ".concat(n,", sanitized to: ").concat(r)),r]=i,ek()}},setViewName:function(e){es=e,eV()}}}(t,n,r,i,e,o,a,s);return c.add(u),u.stopObservable.subscribe(function(){c.delete(u)}),u}return t.subscribe(10,function(){l=d("route_change",void 0,{name:l.name,service:l.service,version:l.version,context:l.contextManager.getContext()})}),t.subscribe(9,function(){l.end({sessionIsActive:!1})}),t.subscribe(11,function(e){e.reason===nn.UNLOADING&&l.end()}),a&&(u=o.subscribe(function(e){var t,n,r;t=e.oldLocation,n=e.newLocation,t.pathname===n.pathname&&(""!==(r=n.hash.substring(1))&&document.getElementById(r)||rR(n.hash)===rR(t.hash))||(l.end(),l=d("route_change"))})),{addTiming:function(e,t){void 0===t&&(t=e1()),l.addTiming(e,t)},startView:function(e,t){l.end({endClocks:t}),l=d("route_change",t,e)},setViewContext:function(e){l.contextManager.setContext(e)},setViewContextProperty:function(e,t){l.contextManager.setContextProperty(e,t)},setViewName:function(e){l.setViewName(e)},stop:function(){u&&u.unsubscribe(),l.end(),c.forEach(function(e){return e.stop()})}}}(tQ,ea,eY,tt,e,eX,!e.trackViewsManually,a)),tk=tS.addTiming,tR=tS.startView,tD=tS.setViewName,tj=tS.setViewContext,tV=tS.setViewContextProperty,tq=tS.stop;ei.push(tq);var t$=function(e,t,n,r,i){void 0===r&&(r=function(){var e=[];function t(t){var r;if(t.didTimeout){var i=performance.now();r=function(){return 30-(performance.now()-i)}}else r=t.timeRemaining.bind(t);for(;r()>0&&e.length;)e.shift()();e.length&&n()}function n(){!function(e,t){var n,r;if(window.requestIdleCallback&&window.cancelIdleCallback)return window.requestIdleCallback(U(e),t);n=e,r=e1(),X(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(e1()-r))}})},0)}(t,{timeout:1e3})}return{push:function(t){1===e.push(t)&&n()}}}()),void 0===i&&(i=ry),e.subscribe(8,function(e){a(function(){return function(e,t,n){var r=function(e){if(performance&&"getEntriesByName"in performance){var t=performance.getEntriesByName(e.url,"resource");if(t.length&&"toJSON"in t[0]){var n=t.filter(function(e){return!rd.has(e)}).filter(function(e){return nb(e)&&nw(e)}).filter(function(t){var n,r,i;return n=t,r=e.startClocks.relative,i=rf({startTime:e.startClocks.relative,duration:e.duration}),n.startTime>=r-1&&rf(n)<=i+1});if(1===n.length)return rd.add(n[0]),n[0].toJSON()}}}(e),i=r?eZ(r.startTime):e.startClocks,o=function(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}(e,t);if(t.trackResources||o){var a,s,u,c,l="xhr"===e.type?"xhr":"fetch",d=r?rw(r):void 0,f=(a=n,s=i,u=e.duration,a.wasInPageStateDuringPeriod("frozen",s.relative,u)?void 0:e0(u)),p=ef({date:i.timeStamp,resource:{id:tl(),type:l,duration:f,method:e.method,status_code:e.status,protocol:r&&n_(r),url:!function(e){if(e.length<=24e3);else if("data:"===e.substring(0,5))return e=e.substring(0,24e3),!0;return!1}(e.url)?e.url:(c=e.url,"".concat(c.match(nC)[0],"[...]")),delivery_type:r&&nE(r)},type:"resource",_dd:{discarded:!t.trackResources}},o,d);return{startTime:i.relative,rawRumEvent:p,domainContext:{performanceEntry:r,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}}(e,t,n)})});var o=nA(t,{type:h.RESOURCE,buffered:!0}).subscribe(function(e){for(var n=function(e){"xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType&&a(function(){return rb(e,t)})},r=0;r<e.length;r++)n(e[r])});function a(t){r.push(function(){var n=t();n&&e.notify(12,n)})}return i(t,function(e){a(function(){return rb(e,t)})}),{stop:function(){o.unsubscribe()}}}(ea,e,e9).stop;if(ei.push(t$),e$(i.LONG_ANIMATION_FRAME)){if(e.trackLongTasks){var tG,tY,tW,tJ,tX,tQ,tZ,t0=(tZ=nA(e,{type:h.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(function(e){for(var t=0;t<e.length;t++){var n=e[t],r=eZ(n.startTime),i={date:r.timeStamp,long_task:{id:tl(),entry_type:"long-animation-frame",duration:e0(n.duration),blocking_duration:e0(n.blockingDuration),first_ui_event_timestamp:e0(n.firstUIEventTimestamp),render_start:e0(n.renderStart),style_and_layout_start:e0(n.styleAndLayoutStart),start_time:e0(n.startTime),scripts:n.scripts.map(function(e){return{duration:e0(e.duration),pause_duration:e0(e.pauseDuration),forced_style_and_layout_duration:e0(e.forcedStyleAndLayoutDuration),start_time:e0(e.startTime),execution_start:e0(e.executionStart),source_url:e.sourceURL,source_function_name:e.sourceFunctionName,source_char_position:e.sourceCharPosition,invoker:e.invoker,invoker_type:e.invokerType,window_attribution:e.windowAttribution}})},type:"long_task",_dd:{discarded:!1}};ea.notify(12,{rawRumEvent:i,startTime:r.relative,domainContext:{performanceEntry:n}})}}),{stop:function(){return tZ.unsubscribe()}}).stop;ei.push(t0)}}else nA(e,{type:h.LONG_TASK,buffered:!0}).subscribe(function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.entryType!==h.LONG_TASK||!e.trackLongTasks)break;var i=eZ(r.startTime),o={date:i.timeStamp,long_task:{id:tl(),entry_type:"long-task",duration:e0(r.duration)},type:"long_task",_dd:{discarded:!1}};ea.notify(12,{rawRumEvent:o,startTime:i.relative,domainContext:{performanceEntry:r}})}});var t1=(l=P=new eg,(d=[C.error].map(function(e){var t;return rs[e]||(rs[e]=(t=e,new eg(function(e){var n=T[t];return T[t]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(console,r);var o=eL();j(function(){e.notify(function(e,t,n){var r,i=e.map(function(e){var t;return"string"==typeof(t=e)?ep(t):eB(t)?ej(eC(t)):er(ep(t),void 0,2)}).join(" ");if(t===C.error){var o=B(e,eB);r={stack:o?eU(eC(o)):void 0,fingerprint:eq(o),causes:o?eF(o,"console"):void 0,startClocks:e3(),message:i,source:nr.CONSOLE,handling:"handled",handlingStack:n}}return{api:t,message:i,error:r,handlingStack:n}}(r,t,o))})},function(){T[t]=n}}))),rs[e]}),em.apply(void 0,d)).subscribe(function(e){return l.notify(e.error)}),(f=D=function(e,t){var n=eH({stackTrace:e,originalError:t,startClocks:e3(),nonErrorPrefix:"Uncaught",source:nr.SOURCE,handling:"unhandled"});P.notify(n)},ty(window,"onerror",function(e){var t,n,r,i,o,a,s=e.parameters,u=s[0],c=s[1],l=s[2],d=s[3],p=s[4];if(eB(p))a=eC(p);else{a={name:(t=u,"[object String]"===({}).toString.call(t)&&(r=(n=eM.exec(t))[1],i=n[2]),o={name:r,message:i}).name,message:o.message,stack:[{url:c,column:d,line:l}]}}f(a,null!=p?p:u)})).stop,(g=D,ty(window,"onunhandledrejection",function(e){var t=e.parameters[0].reason||"Empty reason";g(eC(t),t)})).stop,(V=[ru.cspViolation,ru.intervention],F=[],H(V,ru.cspViolation)&&F.push((m=e,new eg(function(e){return ew(m,document,"securitypolicyviolation",function(t){var n,r;e.notify((n=t,r="'".concat(n.blockedURI,"' blocked by '").concat(n.effectiveDirective,"' directive"),rc({type:n.effectiveDirective,message:"".concat(ru.cspViolation,": ").concat(r),originalError:n,csp:{disposition:n.disposition},stack:rl(n.effectiveDirective,n.originalPolicy?"".concat(r,' of the policy "').concat(tp(n.originalPolicy,100,"..."),'"'):"no policy",n.sourceFile,n.lineNumber,n.columnNumber)})))}).stop}))),($=V.filter(function(e){return e!==ru.cspViolation})).length&&F.push((y=$,new eg(function(e){if(window.ReportingObserver){var t=U(function(t,n){return t.forEach(function(t){var n,r,i;return e.notify((r=(n=t).type,rc({type:(i=n.body).id,message:"".concat(r,": ").concat(i.message),originalError:n,stack:rl(i.id,i.message,i.sourceFile,i.lineNumber,i.columnNumber)})))})}),n=new window.ReportingObserver(t,{types:y,buffered:!0});return n.observe(),function(){n.disconnect()}}}))),em.apply(void 0,F)).subscribe(function(e){return P.notify(e)}),P.subscribe(function(e){return ea.notify(14,{error:e})}),b=ea,I=e9,N=ev,b.subscribe(14,function(e){var t,n,r,i,o,a,s=e.error,u=e.customerContext,c=e.savedCommonContext;b.notify(12,K({customerContext:u,savedCommonContext:c},(t=s,n=I,r=N,i={date:t.startClocks.timeStamp,error:{id:tl(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint,csp:t.csp},type:"error",view:{in_foreground:n.wasInPageStateAt("active",t.startClocks.relative)}},(o=r.findFeatureFlagEvaluations(t.startClocks.relative))&&!es(o)&&(i.feature_flags=o),a={error:t.originalError,handlingStack:t.handlingStack},{rawRumEvent:i,startTime:t.startClocks.relative,domainContext:a})))}),{addError:function(e,t){var n=e.error,r=e.handlingStack,i=e.startClocks,o=e.context,a=eH({stackTrace:eB(n)?eC(n):void 0,originalError:n,handlingStack:r,startClocks:i,nonErrorPrefix:"Provided",source:nr.CUSTOM,handling:"handled"});b.notify(14,{customerContext:o,savedCommonContext:t,error:a})}}).addError;Y={clearTracingIfNeeded:t9,traceFetch:function(t){return t7(e,t,e_,function(e){var n;if(t.input instanceof Request&&!(null==(n=t.init)?void 0:n.headers))t.input=new Request(t.input),Object.keys(e).forEach(function(n){t.input.headers.append(n,e[n])});else{t.init=eo(t.init);var r=[];t.init.headers instanceof Headers?t.init.headers.forEach(function(e,t){r.push([t,e])}):Array.isArray(t.init.headers)?t.init.headers.forEach(function(e){r.push(e)}):t.init.headers&&Object.keys(t.init.headers).forEach(function(e){r.push([e,t.init.headers[e]])}),t.init.headers=r.concat(z(e))}})},traceXhr:function(t,n){return t7(e,t,e_,function(e){Object.keys(e).forEach(function(t){n.setRequestHeader(t,e[t])})})}},function(e,t,n){var r;(!v&&(r=t,v=new eg(function(e){var t=ty(XMLHttpRequest.prototype,"open",nv).stop,n=ty(XMLHttpRequest.prototype,"send",function(t){!function(e,t,n){var r=e.target,i=e.handlingStack,o=np.get(r);if(o){o.state="start",o.startClocks=e3(),o.isAborted=!1,o.xhr=r,o.handlingStack=i;var a=!1,s=ty(r,"onreadystatechange",function(){r.readyState===XMLHttpRequest.DONE&&u()}).stop,u=function(){if(c(),s(),!a){var e;a=!0,o.state="complete",e=o.startClocks.timeStamp,o.duration=e1()-e,o.status=r.status,n.notify(eo(o))}},c=ew(t,r,"loadend",u).stop;n.notify(o)}}(t,r,e)},{computeHandlingStack:!0}).stop,i=ty(XMLHttpRequest.prototype,"abort",nh).stop;return function(){t(),n(),i()}})),v).subscribe(function(t){if(nk(t.url))switch(t.state){case"start":n.traceXhr(t,t.xhr),t.requestIndex=nI(),e.notify(7,{requestIndex:t.requestIndex,url:t.url});break;case"complete":n.clearTracingIfNeeded(t),e.notify(8,{duration:t.duration,method:t.method,requestIndex:t.requestIndex,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"xhr",url:t.url,xhr:t.xhr,isAborted:t.isAborted,handlingStack:t.handlingStack})}})}(ea,e,Y),A=ea,O=Y,t_().subscribe(function(e){if(nk(e.url))switch(e.state){case"start":O.traceFetch(e),e.requestIndex=nI(),A.notify(7,{requestIndex:e.requestIndex,url:e.url});break;case"resolve":var t,n,r,i;t=e,n=function(t){O.clearTracingIfNeeded(e),A.notify(8,{duration:t,method:e.method,requestIndex:e.requestIndex,responseType:e.responseType,spanId:e.spanId,startClocks:e.startClocks,status:e.status,traceId:e.traceId,traceSampled:e.traceSampled,type:"fetch",url:e.url,response:e.response,init:e.init,input:e.input,isAborted:e.isAborted,handlingStack:e.handlingStack})},(i=t.response&&function(e){try{return e.clone()}catch(e){return}}(t.response))&&i.body?function(e,t,n){var r=e.getReader(),i=[],o=0;function a(){if(r.cancel().catch(en),n.collectStreamBody){if(1===i.length)s=i[0];else{var e,a,s=new Uint8Array(o),u=0;i.forEach(function(e){s.set(e,u),u+=e.length})}e=s.slice(0,n.bytesLimit),a=s.length>n.bytesLimit}t(void 0,e,a)}!function e(){r.read().then(U(function(t){if(t.done)return void a();n.collectStreamBody&&i.push(t.value),(o+=t.value.length)>n.bytesLimit?a():e()}),U(function(e){return t(e)}))}()}(i.body,function(){var e;n((e=t.startClocks.timeStamp,e1()-e))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):n((r=t.startClocks.timeStamp,e1()-r))}});var t2=function(e,t,n){function r(n){var r,i,o;t.wasInPageStateDuringPeriod("frozen",n.startClocks.relative,n.duration)||e.notify(12,(i=!0,o={date:(r=n).startClocks.timeStamp,vital:{id:tl(),type:r.type,name:r.name,duration:e0(r.duration),description:r.description},type:"vital"},i&&(o._dd={vital:{computed_value:!0}}),{rawRumEvent:o,startTime:r.startClocks.relative,customerContext:r.context,domainContext:{}}))}return{addDurationVital:r,startDurationVital:function(e,t){return void 0===t&&(t={}),tv(n,e,t)},stopDurationVital:function(e,t){void 0===t&&(t={}),th(r,n,e,t)}}}(ea,e9,c),t3=(W=e.applicationId,{get:function(e){var t=tc.findView(e),n=td.findUrl(e),r=e_.findTrackedSession(e);if(r&&t&&n){var i=tf.findActionId(e);return{application_id:W,session_id:r.id,user_action:i?{id:i}:void 0,view:{id:t.id,name:t.name,referrer:n.referrer,url:n.url}}}}});return{addAction:tb,addError:t1,addTiming:tk,addFeatureFlagEvaluation:ev.addFeatureFlagEvaluation,startView:tR,setViewContext:tj,setViewContextProperty:tV,setViewName:tD,lifeCycle:ea,viewHistory:tc,session:e_,stopSession:function(){return e_.expire()},getInternalContext:t3.get,startDurationVital:t2.startDurationVital,stopDurationVital:t2.stopDurationVital,addDurationVital:t2.addDurationVital,stop:function(){ei.forEach(function(e){return e()})}}},function(){var e=en;return{start:en,stop:en,onRumStart:function(t,n){e=function(){var e,t,r,i,o,a,s,u,c,l;return t=(e={errorType:"slim-package"}).session,r=e.viewContext,i=e.errorType,o=t?t.id:"no-session-id",a=[],void 0!==i&&a.push("error-type=".concat(i)),r&&(a.push("seed=".concat(r.id)),a.push("from=".concat(r.startClocks.timeStamp))),c=(u=n).site,l=u.subdomain||function(e){switch(e.site){case eG:case"datadoghq.eu":return"app";case eK:return"dd";default:return}}(u),s="https://".concat(l?"".concat(l,"."):"").concat(c),"".concat(s).concat("/rum/replay/sessions/".concat(o),"?").concat(a.join("&"))}},isRecording:function(){return!1},getReplayStats:function(){},getSessionReplayLink:function(){return e()}}}());!function(e,t,n){var r=e[t];r&&!r.q&&r.version&&x.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=n,r&&r.q&&r.q.forEach(function(e){return P(e,"onReady callback threw an error:")()})}(G(),"DD_RUM",r0)},99895:(e,t,n)=>{e.exports=n(58463)}}]);